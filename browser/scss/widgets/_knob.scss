.knob-container {
    --color-custom:var(--color-accent);
    --color-pips: var(--color-text-fade);
    --color-gauge: var(--color-custom);
    --color-knob: var(--color-custom);

    width: 100rem;
    align-items: center;
    flex-shrink: 0;

    .input {
        margin-top:-5rem;
    }

    .knob-wrapper-outer {
        width: 100%;
        display: flex;
        flex:1;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        overflow: hidden;

        .knob-wrapper {
            margin:15rem auto 5rem;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;

            position: relative;

            cursor: -webkit-grab;
            &:active {
                cursor: -webkit-grabbing;
            }

            &.no-pip {
                margin-bottom: 0;
                .pips {
                    display: none;
                }
            }

            .knob-mask {
                width:58%;
                padding-bottom:58%;
                flex-shrink: 0;
                border-radius:100%;
                pointer-events: none;
                position: relative;
                &:before {
                    position:absolute;
                    top:0;left:0;
                    right:0;
                    bottom:0;
                    border-radius:100%;
                    border:2rem solid var(--color-track);
                    transform: rotate(45deg);
                    z-index:4;
                }

                &:after {
                    content:"";
                    position:absolute;
                    top:0rem;left:-3rem;
                    right:-3rem;
                    bottom:-2rem;
                    border-radius:100%;
                    border:12rem solid transparent;
                    border-bottom-color: var(--color-fg);
                    z-index:4;
                }
            }
            .round {
                position:absolute;
                top:16rem;
                left:16rem;
                right:16rem;
                bottom:16rem;
                border-radius:100%;
                background:var(--color-raised);
                box-shadow: 0 2rem 0 0;
                color:var(--color-faded);
            }
            .knob {
                position:absolute;
                top:0;left:0;
                right:0;
                bottom:0;
                pointer-events: none;
                transform:rotateZ(0deg);
                backface-visibility: hidden;
                z-index: 2;


                &:after {
                    content:"";
                    position:absolute;
                    top:0;left:0;
                    right:0;
                    bottom:0;
                    border-radius:100%;
                    border:2rem solid var(--color-track);
                    border-bottom-color: var(--color-gauge);
                }

                &.d2:after {
                    border-right-color: var(--color-gauge);
                }
                &.d3:after {
                    border-top-color: var(--color-gauge);
                    border-right-color: var(--color-gauge);
                }



            }
            .handle {
                position:absolute;
                top:0;left:0;
                right:0;
                bottom:0;
                pointer-events: none;
                transform:rotateZ(-45deg);
                backface-visibility: hidden;
                z-index: 5;
                &:before {
                    content:"";
                    position: absolute;
                    top:50%;
                    left:-3rem;
                    margin-top:-5rem;
                    height:8rem;
                    width:8rem;
                    background:var(--color-knob);
                    border:none!important;
                    border-radius: 100%!important;
                }
                &:after {
                    content:"";
                    position: absolute;
                    top:50%;
                    margin-top:-11rem;
                    left:-9rem;
                    height:20rem;
                    width:20rem;
                    border:none!important;
                    border-radius: 100%!important;
                    background:var(--color-knob);
                    opacity: .2;
                }
            }
            .pips {
                width:100%;
                pointer-events: none;
            }
            .pip {
                font-size:11rem;
                color:var(--color-pips);
                display:inline-block;
                &.min {
                    width:50%;
                    text-align:center;
                }
                &.max {
                    width:50%;
                    text-align:center;
                }
            }
        }
    }
}
