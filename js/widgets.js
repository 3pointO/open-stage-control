/**
 * Modules in this bundle
 * @license
 *
 * open-stage-control-builder:
 *   license: GPL-3.0 (http://opensource.org/licenses/GPL-3.0)
 *   author: Jean-Emmanuel Doucet <jean-emmanuel@ammd.net>
 *   homepage: http://osc.ammd.net/
 *   version: 0.36.0
 *
 * base64-js:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: T. Jameson Little <t.jameson.little@gmail.com>
 *   homepage: https://github.com/beatgammit/base64-js
 *   version: 1.3.0
 *
 * buffer:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Feross Aboukhadijeh <feross@feross.org>
 *   contributors: Romain Beauxis <toots@rastageeks.org>, James Halliday <mail@substack.net>
 *   homepage: https://github.com/feross/buffer
 *   version: 5.1.0
 *
 * cardinal-spline-js:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: epistemex <npm@epistemex.com>
 *   homepage: https://gitlab.com/epistemex/cardinal-spline-js#readme
 *   version: 2.3.9
 *
 * deep-diff:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Phillip Clark <phillip@flitbit.com>
 *   contributors: Simen Bekkhus <sbekkhus91@gmail.com>, Paul Pflugradt <paulpflugradt@googlemail.com>, wooorm <tituswormer@gmail.com>, Nicholas Calugar <njcalugar@gmail.com>, Yandell <hyandell@amazon.com>, Thiago Santos <thia.mdossantos@gmail.com>, Steve Mao <maochenyan@gmail.com>, Mats Bryntse <mats.dev@bryntum.com>, Phillip Clark <pclark@leisurelink.com>, ZauberNerd <zaubernerd@zaubernerd.de>, ravishivt <javishi@gmail.com>, Daniel Spangler <daniel.spangler@gmail.com>, Sam Beran <sberan@gmail.com>, Thomas de Barochez <thomas.barochez+github@gmail.com>, Morton Fox <github@qslw.com>, Amila Welihinda <amilajack@users.noreply.github.com>, Will Biddy <willbiddy@gmail.com>, icesoar <icesoar@hotmail.com>, Serkan Serttop <serkanserttop@yahoo.com>, orlando <operri@opentable.com>, Tom MacWright <tmcw@users.noreply.github.com>, Denning <denningj@amazon.com>, Dan Drinkard <dan.drinkard@gmail.com>, Elad Efrat <elad@iNNU.ORG>, caasi Huang <caasi.igd@gmail.com>, Tom Ashworth <tashworth@twitter.com>
 *   homepage: https://github.com/flitbit/diff#readme
 *   version: 1.0.2
 *
 * deep-extend:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   licenses: MIT (http://opensource.org/licenses/MIT)
 *   author: Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 *   contributors: Romain Prieto, Max Maximov, Marshall Bowers, Misha Wakerman
 *   homepage: https://github.com/unclechu/node-deep-extend
 *   version: 0.6.0
 *
 * file-saver:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Eli Grey <me@eligrey.com>
 *   homepage: https://github.com/eligrey/FileSaver.js#readme
 *   version: 1.3.8
 *
 * gyronorm:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   maintainers: amberlamps1 <alexander.behrens.84@gmail.com>, dorukeker <doruk@dorukeker.com>
 *   homepage: https://github.com/dorukeker/gyronorm.js
 *   version: 2.0.6
 *
 * ieee754:
 *   license: BSD-3-Clause (http://opensource.org/licenses/BSD-3-Clause)
 *   author: Feross Aboukhadijeh <feross@feross.org>
 *   contributors: Romain Beauxis <toots@rastageeks.org>
 *   homepage: https://github.com/feross/ieee754#readme
 *   version: 1.1.11
 *
 * jquery:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: JS Foundation and other contributors
 *   homepage: https://jquery.com
 *   version: 3.3.1
 *
 * json5:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Aseem Kishore <aseem.kishore@gmail.com>
 *   contributors: Max Nanasy <max.nanasy@gmail.com>, Andrew Eisenberg <andrew@eisenberg.as>, Jordan Tucker <jordanbtucker@gmail.com>
 *   homepage: http://json5.org/
 *   version: 2.0.1
 *
 * keyboardjs:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Robert Hurst <robertwhurst@gmail.com>
 *   homepage: https://github.com/RobertWHurst/KeyboardJS#readme
 *   version: 2.4.1
 *
 * mathjs:
 *   license: Apache-2.0 (http://opensource.org/licenses/Apache-2.0)
 *   author: Jos de Jong <wjosdejong@gmail.com>
 *   contributors: Adam Kelly, Alexander Beyn, Andy Pan, Bart Kiers, Ben Weinshel, Brett Jurgens, Bryan Cuccioli, Chris Chudzicki, Dakota Blair, Daniel Kostro, Daniel Levin, David Simons, denisx, Devan Patel, devdevdata222, Dzmitry Litskalau, Ekin Koc, Elijah Insua, Eric Mansfield, Fabrice Colas, Favian Contreras, Finn Pauls, Ganga Christopher, Gary Passero, Harry Sarson, Holman Gao, Honybar, Guillermo Indalecio Fernández, Gulfaraz, hamadu, Harsh Gupta, Henrique Ferrolho, Huseyn Guliyev, Ivan Vergiliev, jean-emmanuel, Jack Schmidt, Jim Garrison, Joel Hoover, Karl Lew, Kenan Yildirim, Keunhong Park, Kunal Vyas, Marcus Andre, Horatiu Lazu, Mathias Polligkeit, Max Bruckner, Maxence Dalmais, Michael M., Mitchel Kelonye, mtraynham, Niels Heisterkamp, Oleg, Owen Versteeg, Pavel Panchekha, Pat Grasso, Paulo Buchsbaum, Pete Corey, PJ Hampton, Retsam, Robert Eisele, Rogelio J. Baucells, Ryan Seys, Saket Saurabh, Sebastien Piquemal, Sebastian Ruhleder, Sergey Romanov, Slava Ganzin, Stu Blair, Thomas Brierley, Timothy Lee, Tóth Róbert, Todd Morse, Waldir Pimenta, Zach Zibrat
 *   homepage: http://mathjs.org
 *   version: 5.0.4
 *
 * nanoassert:
 *   license: ISC (http://opensource.org/licenses/ISC)
 *   author: Emil Bay <github@tixz.dk>
 *   homepage: https://github.com/emilbayes/nanoassert#readme
 *   version: 1.1.0
 *
 * nanoid:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Andrey Sitnik <andrey@sitnik.ru>
 *   homepage: https://github.com/ai/nanoid#readme
 *   version: 1.1.0
 *
 * nanomorph:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   homepage: https://github.com/yoshuawuyts/nanomorph#readme
 *   version: 5.1.3
 *
 * process:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Roman Shtylman <shtylman@gmail.com>
 *   homepage: https://github.com/shtylman/node-process#readme
 *   version: 0.11.10
 *
 * scope-css:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: ΔY <df.creative@gmail.com>
 *   homepage: https://github.com/dy/scope-css#readme
 *   version: 1.1.0
 *
 * screenfull:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Sindre Sorhus <sindresorhus@gmail.com>
 *   homepage: https://github.com/sindresorhus/screenfull.js#readme
 *   version: 3.3.2
 *
 * timers-browserify:
 *   licenses: MIT (http://opensource.org/licenses/MIT)
 *   author: J. Ryan Stinnett <jryans@gmail.com>
 *   contributors: Guy Bedford <guybedford@gmail.com>, Ionut-Cristian Florescu <ionut.florescu@gmail.com>, James Halliday <mail@substack.net>, Jan Schär <jscissr@gmail.com>, Johannes Ewald <johannes.ewald@peerigon.com>, Jonathan Prins <jon@blip.tv>, Matt Esch <matt@mattesch.info>
 *   homepage: https://github.com/jryans/timers-browserify
 *   version: 1.4.2
 *
 * wolfy87-eventemitter:
 *   license: Unlicense
 *   author: Oliver Caldwell <olliec87@gmail.com>
 *   homepage: https://github.com/Olical/EventEmitter#readme
 *   version: 5.2.5
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
module.exports={
  "name": "open-stage-control",
  "productName": "Open Stage Control",
  "description": "Libre and modular OSC / MIDI controller",
  "version": "0.36.0",
  "author": {
    "name": "Jean-Emmanuel Doucet",
    "email": "jean-emmanuel@ammd.net"
  },
  "keywords": [
    "osc",
    "midi",
    "interface",
    "multi-touch"
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/jean-emmanuel/open-stage-control"
  },
  "homepage": "http://osc.ammd.net/",
  "license": "GPL-3.0",
  "main": "index.js",
  "dependencies": {
    "bonjour": "^3.5.0",
    "chokidar": "2.0.4",
    "electron-localshortcut": "3.1.0",
    "express": "4.16.3",
    "osc": "2.2.4",
    "python-shell": "0.5.0",
    "vmodule": "1.0.1",
    "ws": "^6.0.0",
    "yargs": "12.0.1"
  },
  "scripts": {
    "start": "electron ."
  },
  "yargs": {
    "boolean-negation": false
  },
  "engines": {
    "node": "6"
  }
}

},{}],2:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict'

exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  for (var i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/base64-js/index.js","/node_modules/base64-js")
},{"_process":25,"buffer":3,"timers":28}],3:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */

'use strict'

var base64 = require('base64-js')
var ieee754 = require('ieee754')

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

var K_MAX_LENGTH = 0x7fffffff
exports.kMaxLength = K_MAX_LENGTH

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport()

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  )
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  get: function () {
    if (!(this instanceof Buffer)) {
      return undefined
    }
    return this.buffer
  }
})

Object.defineProperty(Buffer.prototype, 'offset', {
  get: function () {
    if (!(this instanceof Buffer)) {
      return undefined
    }
    return this.byteOffset
  }
})

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('Invalid typed array length')
  }
  // Return an augmented `Uint8Array` instance
  var buf = new Uint8Array(length)
  buf.__proto__ = Buffer.prototype
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

// Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
if (typeof Symbol !== 'undefined' && Symbol.species &&
    Buffer[Symbol.species] === Buffer) {
  Object.defineProperty(Buffer, Symbol.species, {
    value: null,
    configurable: true,
    enumerable: false,
    writable: false
  })
}

Buffer.poolSize = 8192 // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (isArrayBuffer(value) || (value && isArrayBuffer(value.buffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  return fromObject(value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
}

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Buffer.prototype.__proto__ = Uint8Array.prototype
Buffer.__proto__ = Uint8Array

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
}

function allocUnsafe (size) {
  assertSize(size)
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  var length = byteLength(string, encoding) | 0
  var buf = createBuffer(length)

  var actual = buf.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual)
  }

  return buf
}

function fromArrayLike (array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  var buf = createBuffer(length)
  for (var i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255
  }
  return buf
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  var buf
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array)
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset)
  } else {
    buf = new Uint8Array(array, byteOffset, length)
  }

  // Return an augmented `Uint8Array` instance
  buf.__proto__ = Buffer.prototype
  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    var buf = createBuffer(len)

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len)
    return buf
  }

  if (obj) {
    if (ArrayBuffer.isView(obj) || 'length' in obj) {
      if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
        return createBuffer(0)
      }
      return fromArrayLike(obj)
    }

    if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
      return fromArrayLike(obj.data)
    }
  }

  throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.')
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (ArrayBuffer.isView(buf)) {
      buf = Buffer.from(buf)
    }
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isArrayBuffer(string)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.toLocaleString = Buffer.prototype.toString

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  var strLen = string.length

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0
    if (isFinite(length)) {
      length = length >>> 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf = this.subarray(start, end)
  // Return an augmented `Uint8Array` instance
  newBuf.__proto__ = Buffer.prototype
  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset + 3] = (value >>> 24)
  this[offset + 2] = (value >>> 16)
  this[offset + 1] = (value >>> 8)
  this[offset] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    var limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    var limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  this[offset + 2] = (value >>> 16)
  this[offset + 3] = (value >>> 24)
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end)
  } else if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (var i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : new Buffer(val, encoding)
    var len = bytes.length
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0]
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

// ArrayBuffers from another context (i.e. an iframe) do not pass the `instanceof` check
// but they should be treated as valid. See: https://github.com/feross/buffer/issues/166
function isArrayBuffer (obj) {
  return obj instanceof ArrayBuffer ||
    (obj != null && obj.constructor != null && obj.constructor.name === 'ArrayBuffer' &&
      typeof obj.byteLength === 'number')
}

function numberIsNaN (obj) {
  return obj !== obj // eslint-disable-line no-self-compare
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/buffer/index.js","/node_modules/buffer")
},{"_process":25,"base64-js":2,"buffer":3,"ieee754":9,"timers":28}],4:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
/*	Curve extension for canvas 2.3.8
 *	(c) Epistemex 2013-2018
 *	www.epistemex.com
 *	License: MIT
 */
CanvasRenderingContext2D.prototype.curve=CanvasRenderingContext2D.prototype.curve||function(h,t,f,c){if(typeof h==="undefined"||h.length<2){return new Float32Array(0)}t=typeof t==="number"?t:0.5;f=typeof f==="number"?f:25;var j,d=1,e=h.length,n=0,m=(e-2)*f+2+(c?2*f:0),k=new Float32Array(m),a=new Float32Array((f+2)<<2),b=4;j=h.slice(0);if(c){j.unshift(h[e-1]);j.unshift(h[e-2]);j.push(h[0],h[1])}else{j.unshift(h[1]);j.unshift(h[0]);j.push(h[e-2],h[e-1])}a[0]=1;for(;d<f;d++){var o=d/f,p=o*o,r=p*o,q=r*2,s=p*3;a[b++]=q-s+1;a[b++]=s-q;a[b++]=r-2*p+o;a[b++]=r-p}a[++b]=1;g(j,a,e,t);if(c){j=[];j.push(h[e-4],h[e-3],h[e-2],h[e-1],h[0],h[1],h[2],h[3]);g(j,a,4,t)}function g(G,z,B,M){for(var A=2,H;A<B;A+=2){var C=G[A],D=G[A+1],E=G[A+2],F=G[A+3],I=(E-G[A-2])*M,J=(F-G[A-1])*M,K=(G[A+4]-C)*M,L=(G[A+5]-D)*M,u=0,v,w,x,y;for(H=0;H<f;H++){v=z[u++];w=z[u++];x=z[u++];y=z[u++];k[n++]=v*C+w*E+x*I+y*K;k[n++]=v*D+w*F+x*J+y*L}}}e=c?0:h.length-2;k[n++]=h[e++];k[n]=h[e];for(d=0,e=k.length;d<e;d+=2){this.lineTo(k[d],k[d+1])}return k};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/cardinal-spline-js/curve.min.js","/node_modules/cardinal-spline-js")
},{"_process":25,"buffer":3,"timers":28}],5:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
;(function(root, factory) { // eslint-disable-line no-extra-semi
  var deepDiff = factory(root);
  // eslint-disable-next-line no-undef
  if (typeof define === 'function' && define.amd) {
      // AMD
      define('DeepDiff', function() { // eslint-disable-line no-undef
          return deepDiff;
      });
  } else if (typeof exports === 'object' || typeof navigator === 'object' && navigator.product.match(/ReactNative/i)) {
      // Node.js or ReactNative
      module.exports = deepDiff;
  } else {
      // Browser globals
      var _deepdiff = root.DeepDiff;
      deepDiff.noConflict = function() {
          if (root.DeepDiff === deepDiff) {
              root.DeepDiff = _deepdiff;
          }
          return deepDiff;
      };
      root.DeepDiff = deepDiff;
  }
}(this, function(root) {
  var validKinds = ['N', 'E', 'A', 'D'];

  // nodejs compatible on server side and in the browser.
  function inherits(ctor, superCtor) {
    ctor.super_ = superCtor;
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  }

  function Diff(kind, path) {
    Object.defineProperty(this, 'kind', {
      value: kind,
      enumerable: true
    });
    if (path && path.length) {
      Object.defineProperty(this, 'path', {
        value: path,
        enumerable: true
      });
    }
  }

  function DiffEdit(path, origin, value) {
    DiffEdit.super_.call(this, 'E', path);
    Object.defineProperty(this, 'lhs', {
      value: origin,
      enumerable: true
    });
    Object.defineProperty(this, 'rhs', {
      value: value,
      enumerable: true
    });
  }
  inherits(DiffEdit, Diff);

  function DiffNew(path, value) {
    DiffNew.super_.call(this, 'N', path);
    Object.defineProperty(this, 'rhs', {
      value: value,
      enumerable: true
    });
  }
  inherits(DiffNew, Diff);

  function DiffDeleted(path, value) {
    DiffDeleted.super_.call(this, 'D', path);
    Object.defineProperty(this, 'lhs', {
      value: value,
      enumerable: true
    });
  }
  inherits(DiffDeleted, Diff);

  function DiffArray(path, index, item) {
    DiffArray.super_.call(this, 'A', path);
    Object.defineProperty(this, 'index', {
      value: index,
      enumerable: true
    });
    Object.defineProperty(this, 'item', {
      value: item,
      enumerable: true
    });
  }
  inherits(DiffArray, Diff);

  function arrayRemove(arr, from, to) {
    var rest = arr.slice((to || from) + 1 || arr.length);
    arr.length = from < 0 ? arr.length + from : from;
    arr.push.apply(arr, rest);
    return arr;
  }

  function realTypeOf(subject) {
    var type = typeof subject;
    if (type !== 'object') {
      return type;
    }

    if (subject === Math) {
      return 'math';
    } else if (subject === null) {
      return 'null';
    } else if (Array.isArray(subject)) {
      return 'array';
    } else if (Object.prototype.toString.call(subject) === '[object Date]') {
      return 'date';
    } else if (typeof subject.toString === 'function' && /^\/.*\//.test(subject.toString())) {
      return 'regexp';
    }
    return 'object';
  }

  // http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/
  function hashThisString(string) {
    var hash = 0;
    if (string.length === 0) { return hash; }
    for (var i = 0; i < string.length; i++) {
      var char = string.charCodeAt(i);
      hash = ((hash << 5) - hash) + char;
      hash = hash & hash; // Convert to 32bit integer
    }
    return hash;
  }

  // Gets a hash of the given object in an array order-independent fashion
  // also object key order independent (easier since they can be alphabetized)
  function getOrderIndependentHash(object) {
    var accum = 0;
    var type = realTypeOf(object);

    if (type === 'array') {
      object.forEach(function (item) {
        // Addition is commutative so this is order indep
        accum += getOrderIndependentHash(item);
      });

      var arrayString = '[type: array, hash: ' + accum + ']';
      return accum + hashThisString(arrayString);
    }

    if (type === 'object') {
      for (var key in object) {
        if (object.hasOwnProperty(key)) {
          var keyValueString = '[ type: object, key: ' + key + ', value hash: ' + getOrderIndependentHash(object[key]) + ']';
          accum += hashThisString(keyValueString);
        }
      }

      return accum;
    }

    // Non object, non array...should be good?
    var stringToHash = '[ type: ' + type + ' ; value: ' + object + ']';
    return accum + hashThisString(stringToHash);
  }

  function deepDiff(lhs, rhs, changes, prefilter, path, key, stack, orderIndependent) {
    changes = changes || [];
    path = path || [];
    stack = stack || [];
    var currentPath = path.slice(0);
    if (typeof key !== 'undefined' && key !== null) {
      if (prefilter) {
        if (typeof (prefilter) === 'function' && prefilter(currentPath, key)) {
          return;
        } else if (typeof (prefilter) === 'object') {
          if (prefilter.prefilter && prefilter.prefilter(currentPath, key)) {
            return;
          }
          if (prefilter.normalize) {
            var alt = prefilter.normalize(currentPath, key, lhs, rhs);
            if (alt) {
              lhs = alt[0];
              rhs = alt[1];
            }
          }
        }
      }
      currentPath.push(key);
    }

    // Use string comparison for regexes
    if (realTypeOf(lhs) === 'regexp' && realTypeOf(rhs) === 'regexp') {
      lhs = lhs.toString();
      rhs = rhs.toString();
    }

    var ltype = typeof lhs;
    var rtype = typeof rhs;
    var i, j, k, other;

    var ldefined = ltype !== 'undefined' ||
      (stack && (stack.length > 0) && stack[stack.length - 1].lhs &&
        Object.getOwnPropertyDescriptor(stack[stack.length - 1].lhs, key));
    var rdefined = rtype !== 'undefined' ||
      (stack && (stack.length > 0) && stack[stack.length - 1].rhs &&
        Object.getOwnPropertyDescriptor(stack[stack.length - 1].rhs, key));

    if (!ldefined && rdefined) {
      changes.push(new DiffNew(currentPath, rhs));
    } else if (!rdefined && ldefined) {
      changes.push(new DiffDeleted(currentPath, lhs));
    } else if (realTypeOf(lhs) !== realTypeOf(rhs)) {
      changes.push(new DiffEdit(currentPath, lhs, rhs));
    } else if (realTypeOf(lhs) === 'date' && (lhs - rhs) !== 0) {
      changes.push(new DiffEdit(currentPath, lhs, rhs));
    } else if (ltype === 'object' && lhs !== null && rhs !== null) {
      for (i = stack.length - 1; i > -1; --i) {
        if (stack[i].lhs === lhs) {
          other = true;
          break;
        }
      }
      if (!other) {
        stack.push({ lhs: lhs, rhs: rhs });
        if (Array.isArray(lhs)) {
          // If order doesn't matter, we need to sort our arrays
          if (orderIndependent) {
            lhs.sort(function (a, b) {
              return getOrderIndependentHash(a) - getOrderIndependentHash(b);
            });

            rhs.sort(function (a, b) {
              return getOrderIndependentHash(a) - getOrderIndependentHash(b);
            });
          }
          i = rhs.length - 1;
          j = lhs.length - 1;
          while (i > j) {
            changes.push(new DiffArray(currentPath, i, new DiffNew(undefined, rhs[i--])));
          }
          while (j > i) {
            changes.push(new DiffArray(currentPath, j, new DiffDeleted(undefined, lhs[j--])));
          }
          for (; i >= 0; --i) {
            deepDiff(lhs[i], rhs[i], changes, prefilter, currentPath, i, stack, orderIndependent);
          }
        } else {
          var akeys = Object.keys(lhs);
          var pkeys = Object.keys(rhs);
          for (i = 0; i < akeys.length; ++i) {
            k = akeys[i];
            other = pkeys.indexOf(k);
            if (other >= 0) {
              deepDiff(lhs[k], rhs[k], changes, prefilter, currentPath, k, stack, orderIndependent);
              pkeys[other] = null;
            } else {
              deepDiff(lhs[k], undefined, changes, prefilter, currentPath, k, stack, orderIndependent);
            }
          }
          for (i = 0; i < pkeys.length; ++i) {
            k = pkeys[i];
            if (k) {
              deepDiff(undefined, rhs[k], changes, prefilter, currentPath, k, stack, orderIndependent);
            }
          }
        }
        stack.length = stack.length - 1;
      } else if (lhs !== rhs) {
        // lhs is contains a cycle at this element and it differs from rhs
        changes.push(new DiffEdit(currentPath, lhs, rhs));
      }
    } else if (lhs !== rhs) {
      if (!(ltype === 'number' && isNaN(lhs) && isNaN(rhs))) {
        changes.push(new DiffEdit(currentPath, lhs, rhs));
      }
    }
  }

  function observableDiff(lhs, rhs, observer, prefilter, orderIndependent) {
    var changes = [];
    deepDiff(lhs, rhs, changes, prefilter, null, null, null, orderIndependent);
    if (observer) {
      for (var i = 0; i < changes.length; ++i) {
        observer(changes[i]);
      }
    }
    return changes;
  }

  function orderIndependentDeepDiff(lhs, rhs, changes, prefilter, path, key, stack) {
    return deepDiff(lhs, rhs, changes, prefilter, path, key, stack, true);
  }

  function accumulateDiff(lhs, rhs, prefilter, accum) {
    var observer = (accum) ?
      function (difference) {
        if (difference) {
          accum.push(difference);
        }
      } : undefined;
    var changes = observableDiff(lhs, rhs, observer, prefilter);
    return (accum) ? accum : (changes.length) ? changes : undefined;
  }

  function accumulateOrderIndependentDiff(lhs, rhs, prefilter, accum) {
    var observer = (accum) ?
      function (difference) {
        if (difference) {
          accum.push(difference);
        }
      } : undefined;
    var changes = observableDiff(lhs, rhs, observer, prefilter, true);
    return (accum) ? accum : (changes.length) ? changes : undefined;
  }

  function applyArrayChange(arr, index, change) {
    if (change.path && change.path.length) {
      var it = arr[index],
        i, u = change.path.length - 1;
      for (i = 0; i < u; i++) {
        it = it[change.path[i]];
      }
      switch (change.kind) {
        case 'A':
          applyArrayChange(it[change.path[i]], change.index, change.item);
          break;
        case 'D':
          delete it[change.path[i]];
          break;
        case 'E':
        case 'N':
          it[change.path[i]] = change.rhs;
          break;
      }
    } else {
      switch (change.kind) {
        case 'A':
          applyArrayChange(arr[index], change.index, change.item);
          break;
        case 'D':
          arr = arrayRemove(arr, index);
          break;
        case 'E':
        case 'N':
          arr[index] = change.rhs;
          break;
      }
    }
    return arr;
  }

  function applyChange(target, source, change) {
    if (typeof change === 'undefined' && source && ~validKinds.indexOf(source.kind)) {
      change = source;
    }
    if (target && change && change.kind) {
      var it = target,
        i = -1,
        last = change.path ? change.path.length - 1 : 0;
      while (++i < last) {
        if (typeof it[change.path[i]] === 'undefined') {
          it[change.path[i]] = (typeof change.path[i + 1] !== 'undefined' && typeof change.path[i + 1] === 'number') ? [] : {};
        }
        it = it[change.path[i]];
      }
      switch (change.kind) {
        case 'A':
          if (change.path && typeof it[change.path[i]] === 'undefined') {
            it[change.path[i]] = [];
          }
          applyArrayChange(change.path ? it[change.path[i]] : it, change.index, change.item);
          break;
        case 'D':
          delete it[change.path[i]];
          break;
        case 'E':
        case 'N':
          it[change.path[i]] = change.rhs;
          break;
      }
    }
  }

  function revertArrayChange(arr, index, change) {
    if (change.path && change.path.length) {
      // the structure of the object at the index has changed...
      var it = arr[index],
        i, u = change.path.length - 1;
      for (i = 0; i < u; i++) {
        it = it[change.path[i]];
      }
      switch (change.kind) {
        case 'A':
          revertArrayChange(it[change.path[i]], change.index, change.item);
          break;
        case 'D':
          it[change.path[i]] = change.lhs;
          break;
        case 'E':
          it[change.path[i]] = change.lhs;
          break;
        case 'N':
          delete it[change.path[i]];
          break;
      }
    } else {
      // the array item is different...
      switch (change.kind) {
        case 'A':
          revertArrayChange(arr[index], change.index, change.item);
          break;
        case 'D':
          arr[index] = change.lhs;
          break;
        case 'E':
          arr[index] = change.lhs;
          break;
        case 'N':
          arr = arrayRemove(arr, index);
          break;
      }
    }
    return arr;
  }

  function revertChange(target, source, change) {
    if (target && source && change && change.kind) {
      var it = target,
        i, u;
      u = change.path.length - 1;
      for (i = 0; i < u; i++) {
        if (typeof it[change.path[i]] === 'undefined') {
          it[change.path[i]] = {};
        }
        it = it[change.path[i]];
      }
      switch (change.kind) {
        case 'A':
          // Array was modified...
          // it will be an array...
          revertArrayChange(it[change.path[i]], change.index, change.item);
          break;
        case 'D':
          // Item was deleted...
          it[change.path[i]] = change.lhs;
          break;
        case 'E':
          // Item was edited...
          it[change.path[i]] = change.lhs;
          break;
        case 'N':
          // Item is new...
          delete it[change.path[i]];
          break;
      }
    }
  }

  function applyDiff(target, source, filter) {
    if (target && source) {
      var onChange = function (change) {
        if (!filter || filter(target, source, change)) {
          applyChange(target, source, change);
        }
      };
      observableDiff(target, source, onChange);
    }
  }

  Object.defineProperties(accumulateDiff, {

    diff: {
      value: accumulateDiff,
      enumerable: true
    },
    orderIndependentDiff: {
      value: accumulateOrderIndependentDiff,
      enumerable: true
    },
    observableDiff: {
      value: observableDiff,
      enumerable: true
    },
    orderIndependentObservableDiff: {
      value: orderIndependentDeepDiff,
      enumerable: true
    },
    orderIndepHash: {
      value: getOrderIndependentHash,
      enumerable: true
    },
    applyDiff: {
      value: applyDiff,
      enumerable: true
    },
    applyChange: {
      value: applyChange,
      enumerable: true
    },
    revertChange: {
      value: revertChange,
      enumerable: true
    },
    isConflict: {
      value: function () {
        return typeof $conflict !== 'undefined';
      },
      enumerable: true
    }
  });

  // hackish...
  accumulateDiff.DeepDiff = accumulateDiff;
  // ...but works with:
  // import DeepDiff from 'deep-diff'
  // import { DeepDiff } from 'deep-diff'
  // const DeepDiff = require('deep-diff');
  // const { DeepDiff } = require('deep-diff');

  if (root) {
    root.DeepDiff = accumulateDiff;
  }

  return accumulateDiff;
}));

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/deep-diff/index.js","/node_modules/deep-diff")
},{"_process":25,"buffer":3,"timers":28}],6:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2018 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

'use strict';

function isSpecificValue(val) {
	return (
		val instanceof Buffer
		|| val instanceof Date
		|| val instanceof RegExp
	) ? true : false;
}

function cloneSpecificValue(val) {
	if (val instanceof Buffer) {
		var x = Buffer.alloc
			? Buffer.alloc(val.length)
			: new Buffer(val.length);
		val.copy(x);
		return x;
	} else if (val instanceof Date) {
		return new Date(val.getTime());
	} else if (val instanceof RegExp) {
		return new RegExp(val);
	} else {
		throw new Error('Unexpected situation');
	}
}

/**
 * Recursive cloning array.
 */
function deepCloneArray(arr) {
	var clone = [];
	arr.forEach(function (item, index) {
		if (typeof item === 'object' && item !== null) {
			if (Array.isArray(item)) {
				clone[index] = deepCloneArray(item);
			} else if (isSpecificValue(item)) {
				clone[index] = cloneSpecificValue(item);
			} else {
				clone[index] = deepExtend({}, item);
			}
		} else {
			clone[index] = item;
		}
	});
	return clone;
}

function safeGetProperty(object, property) {
	return property === '__proto__' ? undefined : object[property];
}

/**
 * Extening object that entered in first argument.
 *
 * Returns extended object or false if have no target object or incorrect type.
 *
 * If you wish to clone source object (without modify it), just use empty new
 * object as first argument, like this:
 *   deepExtend({}, yourObj_1, [yourObj_N]);
 */
var deepExtend = module.exports = function (/*obj_1, [obj_2], [obj_N]*/) {
	if (arguments.length < 1 || typeof arguments[0] !== 'object') {
		return false;
	}

	if (arguments.length < 2) {
		return arguments[0];
	}

	var target = arguments[0];

	// convert arguments to array and cut off target object
	var args = Array.prototype.slice.call(arguments, 1);

	var val, src, clone;

	args.forEach(function (obj) {
		// skip argument if isn't an object, is null, or is an array
		if (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {
			return;
		}

		Object.keys(obj).forEach(function (key) {
			src = safeGetProperty(target, key); // source value
			val = safeGetProperty(obj, key); // new value

			// recursion prevention
			if (val === target) {
				return;

			/**
			 * if new value isn't object then just overwrite by new value
			 * instead of extending.
			 */
			} else if (typeof val !== 'object' || val === null) {
				target[key] = val;
				return;

			// just clone arrays (and recursive clone objects inside)
			} else if (Array.isArray(val)) {
				target[key] = deepCloneArray(val);
				return;

			// custom cloning and overwrite for specific objects
			} else if (isSpecificValue(val)) {
				target[key] = cloneSpecificValue(val);
				return;

			// overwrite by new value if source isn't object or array
			} else if (typeof src !== 'object' || src === null || Array.isArray(src)) {
				target[key] = deepExtend({}, val);
				return;

			// source value and new value is objects both, extending...
			} else {
				target[key] = deepExtend(src, val);
				return;
			}
		});
	});

	return target;
};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/deep-extend/lib/deep-extend.js","/node_modules/deep-extend/lib")
},{"_process":25,"buffer":3,"timers":28}],7:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
/* FileSaver.js
 * A saveAs() FileSaver implementation.
 * 1.3.2
 * 2016-06-16 18:25:19
 *
 * By Eli Grey, http://eligrey.com
 * License: MIT
 *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md
 */

/*global self */
/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */

/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */

var saveAs = saveAs || (function(view) {
	"use strict";
	// IE <10 is explicitly unsupported
	if (typeof view === "undefined" || typeof navigator !== "undefined" && /MSIE [1-9]\./.test(navigator.userAgent)) {
		return;
	}
	var
		  doc = view.document
		  // only get URL when necessary in case Blob.js hasn't overridden it yet
		, get_URL = function() {
			return view.URL || view.webkitURL || view;
		}
		, save_link = doc.createElementNS("http://www.w3.org/1999/xhtml", "a")
		, can_use_save_link = "download" in save_link
		, click = function(node) {
			var event = new MouseEvent("click");
			node.dispatchEvent(event);
		}
		, is_safari = /constructor/i.test(view.HTMLElement) || view.safari
		, is_chrome_ios =/CriOS\/[\d]+/.test(navigator.userAgent)
		, throw_outside = function(ex) {
			(view.setImmediate || view.setTimeout)(function() {
				throw ex;
			}, 0);
		}
		, force_saveable_type = "application/octet-stream"
		// the Blob API is fundamentally broken as there is no "downloadfinished" event to subscribe to
		, arbitrary_revoke_timeout = 1000 * 40 // in ms
		, revoke = function(file) {
			var revoker = function() {
				if (typeof file === "string") { // file is an object URL
					get_URL().revokeObjectURL(file);
				} else { // file is a File
					file.remove();
				}
			};
			setTimeout(revoker, arbitrary_revoke_timeout);
		}
		, dispatch = function(filesaver, event_types, event) {
			event_types = [].concat(event_types);
			var i = event_types.length;
			while (i--) {
				var listener = filesaver["on" + event_types[i]];
				if (typeof listener === "function") {
					try {
						listener.call(filesaver, event || filesaver);
					} catch (ex) {
						throw_outside(ex);
					}
				}
			}
		}
		, auto_bom = function(blob) {
			// prepend BOM for UTF-8 XML and text/* types (including HTML)
			// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF
			if (/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)) {
				return new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});
			}
			return blob;
		}
		, FileSaver = function(blob, name, no_auto_bom) {
			if (!no_auto_bom) {
				blob = auto_bom(blob);
			}
			// First try a.download, then web filesystem, then object URLs
			var
				  filesaver = this
				, type = blob.type
				, force = type === force_saveable_type
				, object_url
				, dispatch_all = function() {
					dispatch(filesaver, "writestart progress write writeend".split(" "));
				}
				// on any filesys errors revert to saving with object URLs
				, fs_error = function() {
					if ((is_chrome_ios || (force && is_safari)) && view.FileReader) {
						// Safari doesn't allow downloading of blob urls
						var reader = new FileReader();
						reader.onloadend = function() {
							var url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');
							var popup = view.open(url, '_blank');
							if(!popup) view.location.href = url;
							url=undefined; // release reference before dispatching
							filesaver.readyState = filesaver.DONE;
							dispatch_all();
						};
						reader.readAsDataURL(blob);
						filesaver.readyState = filesaver.INIT;
						return;
					}
					// don't create more object URLs than needed
					if (!object_url) {
						object_url = get_URL().createObjectURL(blob);
					}
					if (force) {
						view.location.href = object_url;
					} else {
						var opened = view.open(object_url, "_blank");
						if (!opened) {
							// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html
							view.location.href = object_url;
						}
					}
					filesaver.readyState = filesaver.DONE;
					dispatch_all();
					revoke(object_url);
				}
			;
			filesaver.readyState = filesaver.INIT;

			if (can_use_save_link) {
				object_url = get_URL().createObjectURL(blob);
				setTimeout(function() {
					save_link.href = object_url;
					save_link.download = name;
					click(save_link);
					dispatch_all();
					revoke(object_url);
					filesaver.readyState = filesaver.DONE;
				});
				return;
			}

			fs_error();
		}
		, FS_proto = FileSaver.prototype
		, saveAs = function(blob, name, no_auto_bom) {
			return new FileSaver(blob, name || blob.name || "download", no_auto_bom);
		}
	;
	// IE 10+ (native saveAs)
	if (typeof navigator !== "undefined" && navigator.msSaveOrOpenBlob) {
		return function(blob, name, no_auto_bom) {
			name = name || blob.name || "download";

			if (!no_auto_bom) {
				blob = auto_bom(blob);
			}
			return navigator.msSaveOrOpenBlob(blob, name);
		};
	}

	FS_proto.abort = function(){};
	FS_proto.readyState = FS_proto.INIT = 0;
	FS_proto.WRITING = 1;
	FS_proto.DONE = 2;

	FS_proto.error =
	FS_proto.onwritestart =
	FS_proto.onprogress =
	FS_proto.onwrite =
	FS_proto.onabort =
	FS_proto.onerror =
	FS_proto.onwriteend =
		null;

	return saveAs;
}(
	   typeof self !== "undefined" && self
	|| typeof window !== "undefined" && window
	|| this.content
));
// `self` is undefined in Firefox for Android content script context
// while `this` is nsIContentFrameMessageManager
// with an attribute `content` that corresponds to the window

if (typeof module !== "undefined" && module.exports) {
  module.exports.saveAs = saveAs;
} else if ((typeof define !== "undefined" && define !== null) && (define.amd !== null)) {
  define("FileSaver.js", function() {
    return saveAs;
  });
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/file-saver/FileSaver.js","/node_modules/file-saver")
},{"_process":25,"buffer":3,"timers":28}],8:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   3.0.2
 */

(function(){"use strict";function lib$es6$promise$utils$$objectOrFunction(x){return typeof x==="function"||typeof x==="object"&&x!==null}function lib$es6$promise$utils$$isFunction(x){return typeof x==="function"}function lib$es6$promise$utils$$isMaybeThenable(x){return typeof x==="object"&&x!==null}var lib$es6$promise$utils$$_isArray;if(!Array.isArray){lib$es6$promise$utils$$_isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"}}else{lib$es6$promise$utils$$_isArray=Array.isArray}var lib$es6$promise$utils$$isArray=lib$es6$promise$utils$$_isArray;var lib$es6$promise$asap$$len=0;var lib$es6$promise$asap$$toString={}.toString;var lib$es6$promise$asap$$vertxNext;var lib$es6$promise$asap$$customSchedulerFn;var lib$es6$promise$asap$$asap=function asap(callback,arg){lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len]=callback;lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len+1]=arg;lib$es6$promise$asap$$len+=2;if(lib$es6$promise$asap$$len===2){if(lib$es6$promise$asap$$customSchedulerFn){lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush)}else{lib$es6$promise$asap$$scheduleFlush()}}};function lib$es6$promise$asap$$setScheduler(scheduleFn){lib$es6$promise$asap$$customSchedulerFn=scheduleFn}function lib$es6$promise$asap$$setAsap(asapFn){lib$es6$promise$asap$$asap=asapFn}var lib$es6$promise$asap$$browserWindow=typeof window!=="undefined"?window:undefined;var lib$es6$promise$asap$$browserGlobal=lib$es6$promise$asap$$browserWindow||{};var lib$es6$promise$asap$$BrowserMutationObserver=lib$es6$promise$asap$$browserGlobal.MutationObserver||lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;var lib$es6$promise$asap$$isNode=typeof process!=="undefined"&&{}.toString.call(process)==="[object process]";var lib$es6$promise$asap$$isWorker=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function lib$es6$promise$asap$$useNextTick(){return function(){process.nextTick(lib$es6$promise$asap$$flush)}}function lib$es6$promise$asap$$useVertxTimer(){return function(){lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush)}}function lib$es6$promise$asap$$useMutationObserver(){var iterations=0;var observer=new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);var node=document.createTextNode("");observer.observe(node,{characterData:true});return function(){node.data=iterations=++iterations%2}}function lib$es6$promise$asap$$useMessageChannel(){var channel=new MessageChannel;channel.port1.onmessage=lib$es6$promise$asap$$flush;return function(){channel.port2.postMessage(0)}}function lib$es6$promise$asap$$useSetTimeout(){return function(){setTimeout(lib$es6$promise$asap$$flush,1)}}var lib$es6$promise$asap$$queue=new Array(1e3);function lib$es6$promise$asap$$flush(){for(var i=0;i<lib$es6$promise$asap$$len;i+=2){var callback=lib$es6$promise$asap$$queue[i];var arg=lib$es6$promise$asap$$queue[i+1];callback(arg);lib$es6$promise$asap$$queue[i]=undefined;lib$es6$promise$asap$$queue[i+1]=undefined}lib$es6$promise$asap$$len=0}function lib$es6$promise$asap$$attemptVertx(){try{var r=require;var vertx=r("vertx");lib$es6$promise$asap$$vertxNext=vertx.runOnLoop||vertx.runOnContext;return lib$es6$promise$asap$$useVertxTimer()}catch(e){return lib$es6$promise$asap$$useSetTimeout()}}var lib$es6$promise$asap$$scheduleFlush;if(lib$es6$promise$asap$$isNode){lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$useNextTick()}else if(lib$es6$promise$asap$$BrowserMutationObserver){lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$useMutationObserver()}else if(lib$es6$promise$asap$$isWorker){lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$useMessageChannel()}else if(lib$es6$promise$asap$$browserWindow===undefined&&typeof require==="function"){lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$attemptVertx()}else{lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$useSetTimeout()}function lib$es6$promise$$internal$$noop(){}var lib$es6$promise$$internal$$PENDING=void 0;var lib$es6$promise$$internal$$FULFILLED=1;var lib$es6$promise$$internal$$REJECTED=2;var lib$es6$promise$$internal$$GET_THEN_ERROR=new lib$es6$promise$$internal$$ErrorObject;function lib$es6$promise$$internal$$selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function lib$es6$promise$$internal$$cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function lib$es6$promise$$internal$$getThen(promise){try{return promise.then}catch(error){lib$es6$promise$$internal$$GET_THEN_ERROR.error=error;return lib$es6$promise$$internal$$GET_THEN_ERROR}}function lib$es6$promise$$internal$$tryThen(then,value,fulfillmentHandler,rejectionHandler){try{then.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function lib$es6$promise$$internal$$handleForeignThenable(promise,thenable,then){lib$es6$promise$asap$$asap(function(promise){var sealed=false;var error=lib$es6$promise$$internal$$tryThen(then,thenable,function(value){if(sealed){return}sealed=true;if(thenable!==value){lib$es6$promise$$internal$$resolve(promise,value)}else{lib$es6$promise$$internal$$fulfill(promise,value)}},function(reason){if(sealed){return}sealed=true;lib$es6$promise$$internal$$reject(promise,reason)},"Settle: "+(promise._label||" unknown promise"));if(!sealed&&error){sealed=true;lib$es6$promise$$internal$$reject(promise,error)}},promise)}function lib$es6$promise$$internal$$handleOwnThenable(promise,thenable){if(thenable._state===lib$es6$promise$$internal$$FULFILLED){lib$es6$promise$$internal$$fulfill(promise,thenable._result)}else if(thenable._state===lib$es6$promise$$internal$$REJECTED){lib$es6$promise$$internal$$reject(promise,thenable._result)}else{lib$es6$promise$$internal$$subscribe(thenable,undefined,function(value){lib$es6$promise$$internal$$resolve(promise,value)},function(reason){lib$es6$promise$$internal$$reject(promise,reason)})}}function lib$es6$promise$$internal$$handleMaybeThenable(promise,maybeThenable){if(maybeThenable.constructor===promise.constructor){lib$es6$promise$$internal$$handleOwnThenable(promise,maybeThenable)}else{var then=lib$es6$promise$$internal$$getThen(maybeThenable);if(then===lib$es6$promise$$internal$$GET_THEN_ERROR){lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$GET_THEN_ERROR.error)}else if(then===undefined){lib$es6$promise$$internal$$fulfill(promise,maybeThenable)}else if(lib$es6$promise$utils$$isFunction(then)){lib$es6$promise$$internal$$handleForeignThenable(promise,maybeThenable,then)}else{lib$es6$promise$$internal$$fulfill(promise,maybeThenable)}}}function lib$es6$promise$$internal$$resolve(promise,value){if(promise===value){lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$selfFulfillment())}else if(lib$es6$promise$utils$$objectOrFunction(value)){lib$es6$promise$$internal$$handleMaybeThenable(promise,value)}else{lib$es6$promise$$internal$$fulfill(promise,value)}}function lib$es6$promise$$internal$$publishRejection(promise){if(promise._onerror){promise._onerror(promise._result)}lib$es6$promise$$internal$$publish(promise)}function lib$es6$promise$$internal$$fulfill(promise,value){if(promise._state!==lib$es6$promise$$internal$$PENDING){return}promise._result=value;promise._state=lib$es6$promise$$internal$$FULFILLED;if(promise._subscribers.length!==0){lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish,promise)}}function lib$es6$promise$$internal$$reject(promise,reason){if(promise._state!==lib$es6$promise$$internal$$PENDING){return}promise._state=lib$es6$promise$$internal$$REJECTED;promise._result=reason;lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection,promise)}function lib$es6$promise$$internal$$subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers;var length=subscribers.length;parent._onerror=null;subscribers[length]=child;subscribers[length+lib$es6$promise$$internal$$FULFILLED]=onFulfillment;subscribers[length+lib$es6$promise$$internal$$REJECTED]=onRejection;if(length===0&&parent._state){lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish,parent)}}function lib$es6$promise$$internal$$publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(subscribers.length===0){return}var child,callback,detail=promise._result;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];if(child){lib$es6$promise$$internal$$invokeCallback(settled,child,callback,detail)}else{callback(detail)}}promise._subscribers.length=0}function lib$es6$promise$$internal$$ErrorObject(){this.error=null}var lib$es6$promise$$internal$$TRY_CATCH_ERROR=new lib$es6$promise$$internal$$ErrorObject;function lib$es6$promise$$internal$$tryCatch(callback,detail){try{return callback(detail)}catch(e){lib$es6$promise$$internal$$TRY_CATCH_ERROR.error=e;return lib$es6$promise$$internal$$TRY_CATCH_ERROR}}function lib$es6$promise$$internal$$invokeCallback(settled,promise,callback,detail){var hasCallback=lib$es6$promise$utils$$isFunction(callback),value,error,succeeded,failed;if(hasCallback){value=lib$es6$promise$$internal$$tryCatch(callback,detail);if(value===lib$es6$promise$$internal$$TRY_CATCH_ERROR){failed=true;error=value.error;value=null}else{succeeded=true}if(promise===value){lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$cannotReturnOwn());return}}else{value=detail;succeeded=true}if(promise._state!==lib$es6$promise$$internal$$PENDING){}else if(hasCallback&&succeeded){lib$es6$promise$$internal$$resolve(promise,value)}else if(failed){lib$es6$promise$$internal$$reject(promise,error)}else if(settled===lib$es6$promise$$internal$$FULFILLED){lib$es6$promise$$internal$$fulfill(promise,value)}else if(settled===lib$es6$promise$$internal$$REJECTED){lib$es6$promise$$internal$$reject(promise,value)}}function lib$es6$promise$$internal$$initializePromise(promise,resolver){try{resolver(function resolvePromise(value){lib$es6$promise$$internal$$resolve(promise,value)},function rejectPromise(reason){lib$es6$promise$$internal$$reject(promise,reason)})}catch(e){lib$es6$promise$$internal$$reject(promise,e)}}function lib$es6$promise$enumerator$$Enumerator(Constructor,input){var enumerator=this;enumerator._instanceConstructor=Constructor;enumerator.promise=new Constructor(lib$es6$promise$$internal$$noop);if(enumerator._validateInput(input)){enumerator._input=input;enumerator.length=input.length;enumerator._remaining=input.length;enumerator._init();if(enumerator.length===0){lib$es6$promise$$internal$$fulfill(enumerator.promise,enumerator._result)}else{enumerator.length=enumerator.length||0;enumerator._enumerate();if(enumerator._remaining===0){lib$es6$promise$$internal$$fulfill(enumerator.promise,enumerator._result)}}}else{lib$es6$promise$$internal$$reject(enumerator.promise,enumerator._validationError())}}lib$es6$promise$enumerator$$Enumerator.prototype._validateInput=function(input){return lib$es6$promise$utils$$isArray(input)};lib$es6$promise$enumerator$$Enumerator.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};lib$es6$promise$enumerator$$Enumerator.prototype._init=function(){this._result=new Array(this.length)};var lib$es6$promise$enumerator$$default=lib$es6$promise$enumerator$$Enumerator;lib$es6$promise$enumerator$$Enumerator.prototype._enumerate=function(){var enumerator=this;var length=enumerator.length;var promise=enumerator.promise;var input=enumerator._input;for(var i=0;promise._state===lib$es6$promise$$internal$$PENDING&&i<length;i++){enumerator._eachEntry(input[i],i)}};lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry=function(entry,i){var enumerator=this;var c=enumerator._instanceConstructor;if(lib$es6$promise$utils$$isMaybeThenable(entry)){if(entry.constructor===c&&entry._state!==lib$es6$promise$$internal$$PENDING){entry._onerror=null;enumerator._settledAt(entry._state,i,entry._result)}else{enumerator._willSettleAt(c.resolve(entry),i)}}else{enumerator._remaining--;enumerator._result[i]=entry}};lib$es6$promise$enumerator$$Enumerator.prototype._settledAt=function(state,i,value){var enumerator=this;var promise=enumerator.promise;if(promise._state===lib$es6$promise$$internal$$PENDING){enumerator._remaining--;if(state===lib$es6$promise$$internal$$REJECTED){lib$es6$promise$$internal$$reject(promise,value)}else{enumerator._result[i]=value}}if(enumerator._remaining===0){lib$es6$promise$$internal$$fulfill(promise,enumerator._result)}};lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt=function(promise,i){var enumerator=this;lib$es6$promise$$internal$$subscribe(promise,undefined,function(value){enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED,i,value)},function(reason){enumerator._settledAt(lib$es6$promise$$internal$$REJECTED,i,reason)})};function lib$es6$promise$promise$all$$all(entries){return new lib$es6$promise$enumerator$$default(this,entries).promise}var lib$es6$promise$promise$all$$default=lib$es6$promise$promise$all$$all;function lib$es6$promise$promise$race$$race(entries){var Constructor=this;var promise=new Constructor(lib$es6$promise$$internal$$noop);if(!lib$es6$promise$utils$$isArray(entries)){lib$es6$promise$$internal$$reject(promise,new TypeError("You must pass an array to race."));return promise}var length=entries.length;function onFulfillment(value){lib$es6$promise$$internal$$resolve(promise,value)}function onRejection(reason){lib$es6$promise$$internal$$reject(promise,reason)}for(var i=0;promise._state===lib$es6$promise$$internal$$PENDING&&i<length;i++){lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]),undefined,onFulfillment,onRejection)}return promise}var lib$es6$promise$promise$race$$default=lib$es6$promise$promise$race$$race;function lib$es6$promise$promise$resolve$$resolve(object){var Constructor=this;if(object&&typeof object==="object"&&object.constructor===Constructor){return object}var promise=new Constructor(lib$es6$promise$$internal$$noop);lib$es6$promise$$internal$$resolve(promise,object);return promise}var lib$es6$promise$promise$resolve$$default=lib$es6$promise$promise$resolve$$resolve;function lib$es6$promise$promise$reject$$reject(reason){var Constructor=this;var promise=new Constructor(lib$es6$promise$$internal$$noop);lib$es6$promise$$internal$$reject(promise,reason);return promise}var lib$es6$promise$promise$reject$$default=lib$es6$promise$promise$reject$$reject;var lib$es6$promise$promise$$counter=0;function lib$es6$promise$promise$$needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function lib$es6$promise$promise$$needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var lib$es6$promise$promise$$default=lib$es6$promise$promise$$Promise;function lib$es6$promise$promise$$Promise(resolver){this._id=lib$es6$promise$promise$$counter++;this._state=undefined;this._result=undefined;this._subscribers=[];if(lib$es6$promise$$internal$$noop!==resolver){if(!lib$es6$promise$utils$$isFunction(resolver)){lib$es6$promise$promise$$needsResolver()}if(!(this instanceof lib$es6$promise$promise$$Promise)){lib$es6$promise$promise$$needsNew()}lib$es6$promise$$internal$$initializePromise(this,resolver)}}lib$es6$promise$promise$$Promise.all=lib$es6$promise$promise$all$$default;lib$es6$promise$promise$$Promise.race=lib$es6$promise$promise$race$$default;lib$es6$promise$promise$$Promise.resolve=lib$es6$promise$promise$resolve$$default;lib$es6$promise$promise$$Promise.reject=lib$es6$promise$promise$reject$$default;lib$es6$promise$promise$$Promise._setScheduler=lib$es6$promise$asap$$setScheduler;lib$es6$promise$promise$$Promise._setAsap=lib$es6$promise$asap$$setAsap;lib$es6$promise$promise$$Promise._asap=lib$es6$promise$asap$$asap;lib$es6$promise$promise$$Promise.prototype={constructor:lib$es6$promise$promise$$Promise,then:function(onFulfillment,onRejection){var parent=this;var state=parent._state;if(state===lib$es6$promise$$internal$$FULFILLED&&!onFulfillment||state===lib$es6$promise$$internal$$REJECTED&&!onRejection){return this}var child=new this.constructor(lib$es6$promise$$internal$$noop);var result=parent._result;if(state){var callback=arguments[state-1];lib$es6$promise$asap$$asap(function(){lib$es6$promise$$internal$$invokeCallback(state,child,callback,result)})}else{lib$es6$promise$$internal$$subscribe(parent,child,onFulfillment,onRejection)}return child},"catch":function(onRejection){return this.then(null,onRejection)}};function lib$es6$promise$polyfill$$polyfill(){var local;if(typeof global!=="undefined"){local=global}else if(typeof self!=="undefined"){local=self}else{try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var P=local.Promise;if(P&&Object.prototype.toString.call(P.resolve())==="[object Promise]"&&!P.cast){return}local.Promise=lib$es6$promise$promise$$default}var lib$es6$promise$polyfill$$default=lib$es6$promise$polyfill$$polyfill;var lib$es6$promise$umd$$ES6Promise={Promise:lib$es6$promise$promise$$default,polyfill:lib$es6$promise$polyfill$$default};if(typeof define==="function"&&define["amd"]){define(function(){return lib$es6$promise$umd$$ES6Promise})}else if(typeof module!=="undefined"&&module["exports"]){module["exports"]=lib$es6$promise$umd$$ES6Promise}else if(typeof this!=="undefined"){this["ES6Promise"]=lib$es6$promise$umd$$ES6Promise}lib$es6$promise$polyfill$$default()}).call(this); /*! Full Tilt v0.5.3 / http://github.com/richtr/Full-Tilt */
!function(a){function b(a){return a=+a,0===a||isNaN(a)?a:a>0?1:-1}function c(a){var b=new Promise(function(b,c){var d=function(e){setTimeout(function(){a&&a.data?b():e>=20?c():d(++e)},50)};d(0)});return b}function d(){o=n?(a.screen.orientation.angle||0)*j:(a.orientation||0)*j}function e(a){l.orientation.data=a;for(var b in l.orientation.callbacks)l.orientation.callbacks[b].call(this)}function f(a){l.motion.data=a;for(var b in l.motion.callbacks)l.motion.callbacks[b].call(this)}if(void 0===a.FULLTILT||null===a.FULLTILT){var g=Math.PI,h=g/2,i=2*g,j=g/180,k=180/g,l={orientation:{active:!1,callbacks:[],data:void 0},motion:{active:!1,callbacks:[],data:void 0}},m=!1,n=a.screen&&a.screen.orientation&&void 0!==a.screen.orientation.angle&&null!==a.screen.orientation.angle?!0:!1,o=(n?a.screen.orientation.angle:a.orientation||0)*j,p=h,q=g,r=i/3,s=-h,t={};t.version="0.5.3",t.getDeviceOrientation=function(a){var b=new Promise(function(b,d){var e=new t.DeviceOrientation(a);e.start();var f=new c(l.orientation);f.then(function(){e._alphaAvailable=l.orientation.data.alpha&&null!==l.orientation.data.alpha,e._betaAvailable=l.orientation.data.beta&&null!==l.orientation.data.beta,e._gammaAvailable=l.orientation.data.gamma&&null!==l.orientation.data.gamma,b(e)})["catch"](function(){e.stop(),d("DeviceOrientation is not supported")})});return b},t.getDeviceMotion=function(a){var b=new Promise(function(b,d){var e=new t.DeviceMotion(a);e.start();var f=new c(l.motion);f.then(function(){e._accelerationXAvailable=l.motion.data.acceleration&&l.motion.data.acceleration.x,e._accelerationYAvailable=l.motion.data.acceleration&&l.motion.data.acceleration.y,e._accelerationZAvailable=l.motion.data.acceleration&&l.motion.data.acceleration.z,e._accelerationIncludingGravityXAvailable=l.motion.data.accelerationIncludingGravity&&l.motion.data.accelerationIncludingGravity.x,e._accelerationIncludingGravityYAvailable=l.motion.data.accelerationIncludingGravity&&l.motion.data.accelerationIncludingGravity.y,e._accelerationIncludingGravityZAvailable=l.motion.data.accelerationIncludingGravity&&l.motion.data.accelerationIncludingGravity.z,e._rotationRateAlphaAvailable=l.motion.data.rotationRate&&l.motion.data.rotationRate.alpha,e._rotationRateBetaAvailable=l.motion.data.rotationRate&&l.motion.data.rotationRate.beta,e._rotationRateGammaAvailable=l.motion.data.rotationRate&&l.motion.data.rotationRate.gamma,b(e)})["catch"](function(){e.stop(),d("DeviceMotion is not supported")})});return b},t.Quaternion=function(a,c,d,e){var f;this.set=function(a,b,c,d){this.x=a||0,this.y=b||0,this.z=c||0,this.w=d||1},this.copy=function(a){this.x=a.x,this.y=a.y,this.z=a.z,this.w=a.w},this.setFromEuler=function(){var a,b,c,d,e,f,g,h,i,k,l,m;return function(n){return n=n||{},c=(n.alpha||0)*j,a=(n.beta||0)*j,b=(n.gamma||0)*j,f=c/2,d=a/2,e=b/2,g=Math.cos(d),h=Math.cos(e),i=Math.cos(f),k=Math.sin(d),l=Math.sin(e),m=Math.sin(f),this.set(k*h*i-g*l*m,g*l*i+k*h*m,g*h*m+k*l*i,g*h*i-k*l*m),this.normalize(),this}}(),this.setFromRotationMatrix=function(){var a;return function(c){return a=c.elements,this.set(.5*Math.sqrt(1+a[0]-a[4]-a[8])*b(a[7]-a[5]),.5*Math.sqrt(1-a[0]+a[4]-a[8])*b(a[2]-a[6]),.5*Math.sqrt(1-a[0]-a[4]+a[8])*b(a[3]-a[1]),.5*Math.sqrt(1+a[0]+a[4]+a[8])),this}}(),this.multiply=function(a){return f=t.Quaternion.prototype.multiplyQuaternions(this,a),this.copy(f),this},this.rotateX=function(a){return f=t.Quaternion.prototype.rotateByAxisAngle(this,[1,0,0],a),this.copy(f),this},this.rotateY=function(a){return f=t.Quaternion.prototype.rotateByAxisAngle(this,[0,1,0],a),this.copy(f),this},this.rotateZ=function(a){return f=t.Quaternion.prototype.rotateByAxisAngle(this,[0,0,1],a),this.copy(f),this},this.normalize=function(){return t.Quaternion.prototype.normalize(this)},this.set(a,c,d,e)},t.Quaternion.prototype={constructor:t.Quaternion,multiplyQuaternions:function(){var a=new t.Quaternion;return function(b,c){var d=b.x,e=b.y,f=b.z,g=b.w,h=c.x,i=c.y,j=c.z,k=c.w;return a.set(d*k+g*h+e*j-f*i,e*k+g*i+f*h-d*j,f*k+g*j+d*i-e*h,g*k-d*h-e*i-f*j),a}}(),normalize:function(a){var b=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z+a.w*a.w);return 0===b?(a.x=0,a.y=0,a.z=0,a.w=1):(b=1/b,a.x*=b,a.y*=b,a.z*=b,a.w*=b),a},rotateByAxisAngle:function(){var a,b,c=new t.Quaternion,d=new t.Quaternion;return function(e,f,g){return a=(g||0)/2,b=Math.sin(a),d.set((f[0]||0)*b,(f[1]||0)*b,(f[2]||0)*b,Math.cos(a)),c=t.Quaternion.prototype.multiplyQuaternions(e,d),t.Quaternion.prototype.normalize(c)}}()},t.RotationMatrix=function(a,b,c,d,e,f,g,h,i){var k;this.elements=new Float32Array(9),this.identity=function(){return this.set(1,0,0,0,1,0,0,0,1),this},this.set=function(a,b,c,d,e,f,g,h,i){this.elements[0]=a||1,this.elements[1]=b||0,this.elements[2]=c||0,this.elements[3]=d||0,this.elements[4]=e||1,this.elements[5]=f||0,this.elements[6]=g||0,this.elements[7]=h||0,this.elements[8]=i||1},this.copy=function(a){this.elements[0]=a.elements[0],this.elements[1]=a.elements[1],this.elements[2]=a.elements[2],this.elements[3]=a.elements[3],this.elements[4]=a.elements[4],this.elements[5]=a.elements[5],this.elements[6]=a.elements[6],this.elements[7]=a.elements[7],this.elements[8]=a.elements[8]},this.setFromEuler=function(){var a,b,c,d,e,f,g,h,i;return function(k){return k=k||{},c=(k.alpha||0)*j,a=(k.beta||0)*j,b=(k.gamma||0)*j,d=Math.cos(a),e=Math.cos(b),f=Math.cos(c),g=Math.sin(a),h=Math.sin(b),i=Math.sin(c),this.set(f*e-i*g*h,-d*i,e*i*g+f*h,e*i+f*g*h,f*d,i*h-f*e*g,-d*h,g,d*e),this.normalize(),this}}(),this.setFromQuaternion=function(){var a,b,c,d;return function(e){return a=e.w*e.w,b=e.x*e.x,c=e.y*e.y,d=e.z*e.z,this.set(a+b-c-d,2*(e.x*e.y-e.w*e.z),2*(e.x*e.z+e.w*e.y),2*(e.x*e.y+e.w*e.z),a-b+c-d,2*(e.y*e.z-e.w*e.x),2*(e.x*e.z-e.w*e.y),2*(e.y*e.z+e.w*e.x),a-b-c+d),this}}(),this.multiply=function(a){return k=t.RotationMatrix.prototype.multiplyMatrices(this,a),this.copy(k),this},this.rotateX=function(a){return k=t.RotationMatrix.prototype.rotateByAxisAngle(this,[1,0,0],a),this.copy(k),this},this.rotateY=function(a){return k=t.RotationMatrix.prototype.rotateByAxisAngle(this,[0,1,0],a),this.copy(k),this},this.rotateZ=function(a){return k=t.RotationMatrix.prototype.rotateByAxisAngle(this,[0,0,1],a),this.copy(k),this},this.normalize=function(){return t.RotationMatrix.prototype.normalize(this)},this.set(a,b,c,d,e,f,g,h,i)},t.RotationMatrix.prototype={constructor:t.RotationMatrix,multiplyMatrices:function(){var a,b,c=new t.RotationMatrix;return function(d,e){return a=d.elements,b=e.elements,c.set(a[0]*b[0]+a[1]*b[3]+a[2]*b[6],a[0]*b[1]+a[1]*b[4]+a[2]*b[7],a[0]*b[2]+a[1]*b[5]+a[2]*b[8],a[3]*b[0]+a[4]*b[3]+a[5]*b[6],a[3]*b[1]+a[4]*b[4]+a[5]*b[7],a[3]*b[2]+a[4]*b[5]+a[5]*b[8],a[6]*b[0]+a[7]*b[3]+a[8]*b[6],a[6]*b[1]+a[7]*b[4]+a[8]*b[7],a[6]*b[2]+a[7]*b[5]+a[8]*b[8]),c}}(),normalize:function(a){var b=a.elements,c=b[0]*b[4]*b[8]-b[0]*b[5]*b[7]-b[1]*b[3]*b[8]+b[1]*b[5]*b[6]+b[2]*b[3]*b[7]-b[2]*b[4]*b[6];return b[0]/=c,b[1]/=c,b[2]/=c,b[3]/=c,b[4]/=c,b[5]/=c,b[6]/=c,b[7]/=c,b[8]/=c,a.elements=b,a},rotateByAxisAngle:function(){var a,b,c=new t.RotationMatrix,d=new t.RotationMatrix,e=!1;return function(f,g,h){return d.identity(),e=!1,a=Math.sin(h),b=Math.cos(h),1===g[0]&&0===g[1]&&0===g[2]?(e=!0,d.elements[4]=b,d.elements[5]=-a,d.elements[7]=a,d.elements[8]=b):1===g[1]&&0===g[0]&&0===g[2]?(e=!0,d.elements[0]=b,d.elements[2]=a,d.elements[6]=-a,d.elements[8]=b):1===g[2]&&0===g[0]&&0===g[1]&&(e=!0,d.elements[0]=b,d.elements[1]=-a,d.elements[3]=a,d.elements[4]=b),e?(c=t.RotationMatrix.prototype.multiplyMatrices(f,d),c=t.RotationMatrix.prototype.normalize(c)):c=f,c}}()},t.Euler=function(a,b,c){this.set=function(a,b,c){this.alpha=a||0,this.beta=b||0,this.gamma=c||0},this.copy=function(a){this.alpha=a.alpha,this.beta=a.beta,this.gamma=a.gamma},this.setFromRotationMatrix=function(){var a,b,c,d;return function(e){a=e.elements,a[8]>0?(b=Math.atan2(-a[1],a[4]),c=Math.asin(a[7]),d=Math.atan2(-a[6],a[8])):a[8]<0?(b=Math.atan2(a[1],-a[4]),c=-Math.asin(a[7]),c+=c>=0?-g:g,d=Math.atan2(a[6],-a[8])):a[6]>0?(b=Math.atan2(-a[1],a[4]),c=Math.asin(a[7]),d=-h):a[6]<0?(b=Math.atan2(a[1],-a[4]),c=-Math.asin(a[7]),c+=c>=0?-g:g,d=-h):(b=Math.atan2(a[3],a[0]),c=a[7]>0?h:-h,d=0),0>b&&(b+=i),b*=k,c*=k,d*=k,this.set(b,c,d)}}(),this.setFromQuaternion=function(){var a,b,c;return function(d){var e=d.w*d.w,f=d.x*d.x,j=d.y*d.y,l=d.z*d.z,m=e+f+j+l,n=d.w*d.x+d.y*d.z,o=1e-6;if(n>(.5-o)*m)a=2*Math.atan2(d.y,d.w),b=h,c=0;else if((-.5+o)*m>n)a=-2*Math.atan2(d.y,d.w),b=-h,c=0;else{var p=e-f+j-l,q=2*(d.w*d.z-d.x*d.y),r=e-f-j+l,s=2*(d.w*d.y-d.x*d.z);r>0?(a=Math.atan2(q,p),b=Math.asin(2*n/m),c=Math.atan2(s,r)):(a=Math.atan2(-q,-p),b=-Math.asin(2*n/m),b+=0>b?g:-g,c=Math.atan2(-s,-r))}0>a&&(a+=i),a*=k,b*=k,c*=k,this.set(a,b,c)}}(),this.rotateX=function(a){return t.Euler.prototype.rotateByAxisAngle(this,[1,0,0],a),this},this.rotateY=function(a){return t.Euler.prototype.rotateByAxisAngle(this,[0,1,0],a),this},this.rotateZ=function(a){return t.Euler.prototype.rotateByAxisAngle(this,[0,0,1],a),this},this.set(a,b,c)},t.Euler.prototype={constructor:t.Euler,rotateByAxisAngle:function(){var a=new t.RotationMatrix;return function(b,c,d){return a.setFromEuler(b),a=t.RotationMatrix.prototype.rotateByAxisAngle(a,c,d),b.setFromRotationMatrix(a),b}}()},t.DeviceOrientation=function(b){this.options=b||{};var c=0,d=200,e=0,f=10;if(this.alphaOffsetScreen=0,this.alphaOffsetDevice=void 0,"game"===this.options.type){var g=function(b){return null!==b.alpha&&(this.alphaOffsetDevice=new t.Euler(b.alpha,0,0),this.alphaOffsetDevice.rotateZ(-o),++e>=f)?void a.removeEventListener("deviceorientation",g,!1):void(++c>=d&&a.removeEventListener("deviceorientation",g,!1))}.bind(this);a.addEventListener("deviceorientation",g,!1)}else if("world"===this.options.type){var h=function(b){return b.absolute!==!0&&void 0!==b.webkitCompassAccuracy&&null!==b.webkitCompassAccuracy&&+b.webkitCompassAccuracy>=0&&+b.webkitCompassAccuracy<50&&(this.alphaOffsetDevice=new t.Euler(b.webkitCompassHeading,0,0),this.alphaOffsetDevice.rotateZ(o),this.alphaOffsetScreen=o,++e>=f)?void a.removeEventListener("deviceorientation",h,!1):void(++c>=d&&a.removeEventListener("deviceorientation",h,!1))}.bind(this);a.addEventListener("deviceorientation",h,!1)}},t.DeviceOrientation.prototype={constructor:t.DeviceOrientation,start:function(b){b&&"[object Function]"==Object.prototype.toString.call(b)&&l.orientation.callbacks.push(b),m||(n?a.screen.orientation.addEventListener("change",d,!1):a.addEventListener("orientationchange",d,!1)),l.orientation.active||(a.addEventListener("deviceorientation",e,!1),l.orientation.active=!0)},stop:function(){l.orientation.active&&(a.removeEventListener("deviceorientation",e,!1),l.orientation.active=!1)},listen:function(a){this.start(a)},getFixedFrameQuaternion:function(){var a=new t.Euler,b=new t.RotationMatrix,c=new t.Quaternion;return function(){var d=l.orientation.data||{alpha:0,beta:0,gamma:0},e=d.alpha;return this.alphaOffsetDevice&&(b.setFromEuler(this.alphaOffsetDevice),b.rotateZ(-this.alphaOffsetScreen),a.setFromRotationMatrix(b),a.alpha<0&&(a.alpha+=360),a.alpha%=360,e-=a.alpha),a.set(e,d.beta,d.gamma),c.setFromEuler(a),c}}(),getScreenAdjustedQuaternion:function(){var a;return function(){return a=this.getFixedFrameQuaternion(),a.rotateZ(-o),a}}(),getFixedFrameMatrix:function(){var a=new t.Euler,b=new t.RotationMatrix;return function(){var c=l.orientation.data||{alpha:0,beta:0,gamma:0},d=c.alpha;return this.alphaOffsetDevice&&(b.setFromEuler(this.alphaOffsetDevice),b.rotateZ(-this.alphaOffsetScreen),a.setFromRotationMatrix(b),a.alpha<0&&(a.alpha+=360),a.alpha%=360,d-=a.alpha),a.set(d,c.beta,c.gamma),b.setFromEuler(a),b}}(),getScreenAdjustedMatrix:function(){var a;return function(){return a=this.getFixedFrameMatrix(),a.rotateZ(-o),a}}(),getFixedFrameEuler:function(){var a,b=new t.Euler;return function(){return a=this.getFixedFrameMatrix(),b.setFromRotationMatrix(a),b}}(),getScreenAdjustedEuler:function(){var a,b=new t.Euler;return function(){return a=this.getScreenAdjustedMatrix(),b.setFromRotationMatrix(a),b}}(),isAbsolute:function(){return l.orientation.data&&l.orientation.data.absolute===!0?!0:!1},getLastRawEventData:function(){return l.orientation.data||{}},_alphaAvailable:!1,_betaAvailable:!1,_gammaAvailable:!1,isAvailable:function(a){switch(a){case this.ALPHA:return this._alphaAvailable;case this.BETA:return this._betaAvailable;case this.GAMMA:return this._gammaAvailable}},ALPHA:"alpha",BETA:"beta",GAMMA:"gamma"},t.DeviceMotion=function(a){this.options=a||{}},t.DeviceMotion.prototype={constructor:t.DeviceMotion,start:function(b){b&&"[object Function]"==Object.prototype.toString.call(b)&&l.motion.callbacks.push(b),m||(n?a.screen.orientation.addEventListener("change",d,!1):a.addEventListener("orientationchange",d,!1)),l.motion.active||(a.addEventListener("devicemotion",f,!1),l.motion.active=!0)},stop:function(){l.motion.active&&(a.removeEventListener("devicemotion",f,!1),l.motion.active=!1)},listen:function(a){this.start(a)},getScreenAdjustedAcceleration:function(){var a=l.motion.data&&l.motion.data.acceleration?l.motion.data.acceleration:{x:0,y:0,z:0},b={};switch(o){case p:b.x=-a.y,b.y=a.x;break;case q:b.x=-a.x,b.y=-a.y;break;case r:case s:b.x=a.y,b.y=-a.x;break;default:b.x=a.x,b.y=a.y}return b.z=a.z,b},getScreenAdjustedAccelerationIncludingGravity:function(){var a=l.motion.data&&l.motion.data.accelerationIncludingGravity?l.motion.data.accelerationIncludingGravity:{x:0,y:0,z:0},b={};switch(o){case p:b.x=-a.y,b.y=a.x;break;case q:b.x=-a.x,b.y=-a.y;break;case r:case s:b.x=a.y,b.y=-a.x;break;default:b.x=a.x,b.y=a.y}return b.z=a.z,b},getScreenAdjustedRotationRate:function(){var a=l.motion.data&&l.motion.data.rotationRate?l.motion.data.rotationRate:{alpha:0,beta:0,gamma:0},b={};switch(o){case p:b.beta=-a.gamma,b.gamma=a.beta;break;case q:b.beta=-a.beta,b.gamma=-a.gamma;break;case r:case s:b.beta=a.gamma,b.gamma=-a.beta;break;default:b.beta=a.beta,b.gamma=a.gamma}return b.alpha=a.alpha,b},getLastRawEventData:function(){return l.motion.data||{}},_accelerationXAvailable:!1,_accelerationYAvailable:!1,_accelerationZAvailable:!1,_accelerationIncludingGravityXAvailable:!1,_accelerationIncludingGravityYAvailable:!1,_accelerationIncludingGravityZAvailable:!1,_rotationRateAlphaAvailable:!1,_rotationRateBetaAvailable:!1,_rotationRateGammaAvailable:!1,isAvailable:function(a){switch(a){case this.ACCELERATION_X:return this._accelerationXAvailable;case this.ACCELERATION_Y:return this._accelerationYAvailable;case this.ACCELERATION_Z:return this._accelerationZAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_X:return this._accelerationIncludingGravityXAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_Y:return this._accelerationIncludingGravityYAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_Z:return this._accelerationIncludingGravityZAvailable;case this.ROTATION_RATE_ALPHA:return this._rotationRateAlphaAvailable;case this.ROTATION_RATE_BETA:return this._rotationRateBetaAvailable;case this.ROTATION_RATE_GAMMA:return this._rotationRateGammaAvailable}},ACCELERATION_X:"accelerationX",ACCELERATION_Y:"accelerationY",ACCELERATION_Z:"accelerationZ",ACCELERATION_INCLUDING_GRAVITY_X:"accelerationIncludingGravityX",ACCELERATION_INCLUDING_GRAVITY_Y:"accelerationIncludingGravityY",ACCELERATION_INCLUDING_GRAVITY_Z:"accelerationIncludingGravityZ",ROTATION_RATE_ALPHA:"rotationRateAlpha",ROTATION_RATE_BETA:"rotationRateBeta",ROTATION_RATE_GAMMA:"rotationRateGamma"},a.FULLTILT=t}}(window); 
/* gyronorm.js v2.0.4 - https://github.com/dorukeker/gyronorm.git*/
!function(a,b){"function"==typeof define&&define.amd?define(function(){return a.GyroNorm=b()}):"object"==typeof module&&module.exports?module.exports=a.GyroNorm=b():a.GyroNorm=b()}(this,function(){function a(a){return Math.round(a*Math.pow(10,t))/Math.pow(10,t)}function b(){var b={};b=v?o.getScreenAdjustedEuler():o.getFixedFrameEuler();var c=p.getScreenAdjustedAcceleration(),e=p.getScreenAdjustedAccelerationIncludingGravity(),f=p.getScreenAdjustedRotationRate(),g=0;s===d?(g=b.alpha-k,g=0>g?360-Math.abs(g):g):g=b.alpha;var h={"do":{alpha:a(g),beta:a(b.beta),gamma:a(b.gamma),absolute:o.isAbsolute()},dm:{x:a(c.x),y:a(c.y),z:a(c.z),gx:a(e.x),gy:a(e.y),gz:a(e.z),alpha:a(f.alpha),beta:a(f.beta),gamma:a(f.gamma)}};return r&&(h.dm.gx*=l,h.dm.gy*=l,h.dm.gz*=l),h}function c(a){u&&("string"==typeof a&&(a={message:a,code:0}),u(a))}var d="game",e="world",f="deviceorientation",g="acceleration",h="accelerationinludinggravity",i="rotationrate",j=null,k=0,l=0,m=!1,n=!1,o=null,p=null,q=50,r=!0,s=d,t=2,u=null,v=!1,w=function(a){};return w.GAME=d,w.WORLD=e,w.DEVICE_ORIENTATION=f,w.ACCELERATION=g,w.ACCELERATION_INCLUDING_GRAVITY=h,w.ROTATION_RATE=i,w.prototype.init=function(a){a&&a.frequency&&(q=a.frequency),a&&a.gravityNormalized&&(r=a.gravityNormalized),a&&a.orientationBase&&(s=a.orientationBase),a&&a.decimalCount&&(t=a.decimalCount),a&&a.logger&&(u=a.logger),a&&a.screenAdjusted&&(v=a.screenAdjusted);var b=new FULLTILT.getDeviceOrientation({type:s}).then(function(a){o=a}),c=(new FULLTILT.getDeviceMotion).then(function(a){p=a,l=p.getScreenAdjustedAccelerationIncludingGravity().z>0?-1:1});return Promise.all([b,c]).then(function(){n=!0})},w.prototype.end=function(){try{n=!1,this.stop(),p.stop(),o.stop()}catch(a){c(a)}},w.prototype.start=function(a){return n?(j=setInterval(function(){a(b())},q),void(m=!0)):void c({message:'GyroNorm is not initialized yet. First call the "init()" function.',code:1})},w.prototype.stop=function(){j&&(clearInterval(j),m=!1)},w.prototype.normalizeGravity=function(a){r=a?!0:!1},w.prototype.setHeadDirection=function(){return v||s===e?!1:(k=o.getFixedFrameEuler().alpha,!0)},w.prototype.startLogging=function(a){a&&(u=a)},w.prototype.stopLogging=function(){u=null},w.prototype.isAvailable=function(a){var b=o.getScreenAdjustedEuler(),c=p.getScreenAdjustedAcceleration(),d=p.getScreenAdjustedAccelerationIncludingGravity(),e=p.getScreenAdjustedRotationRate();switch(a){case f:return b.alpha&&null!==b.alpha&&b.beta&&null!==b.beta&&b.gamma&&null!==b.gamma;case g:return c&&c.x&&c.y&&c.z;case h:return d&&d.x&&d.y&&d.z;case i:return e&&e.alpha&&e.beta&&e.gamma;default:return{deviceOrientationAvailable:b.alpha&&null!==b.alpha&&b.beta&&null!==b.beta&&b.gamma&&null!==b.gamma,accelerationAvailable:c&&c.x&&c.y&&c.z,accelerationIncludingGravityAvailable:d&&d.x&&d.y&&d.z,rotationRateAvailable:e&&e.alpha&&e.beta&&e.gamma}}},w.prototype.isRunning=function(){return m},w});
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/gyronorm/dist/gyronorm.complete.min.js","/node_modules/gyronorm/dist")
},{"_process":25,"buffer":3,"timers":28}],9:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/ieee754/index.js","/node_modules/ieee754")
},{"_process":25,"buffer":3,"timers":28}],10:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
/*! jQuery v3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,u=n.push,s=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,d=f.toString,p=d.call(Object),h={},g=function e(t){return"function"==typeof t&&"number"!=typeof t.nodeType},v=function e(t){return null!=t&&t===t.window},y={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement("script");if(o.text=e,n)for(i in y)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var x="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",w=function(e,t){return new w.fn.init(e,t)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:x,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},u=1,s=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[u]||{},u++),"object"==typeof a||g(a)||(a={}),u===s&&(a=this,u--);u<s;u++)if(null!=(e=arguments[u]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&d.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(T(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?w.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,u=!n;o<a;o++)(r=!t(e[o],o))!==u&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,u=[];if(T(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&u.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&u.push(i);return a.apply([],u)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function T(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!g(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,u,s,l,c,f,d,p,h,g,v,y,m,b,x="sizzle"+1*new Date,w=e.document,C=0,T=0,E=ae(),N=ae(),k=ae(),A=function(e,t){return e===t&&(f=!0),0},D={}.hasOwnProperty,S=[],L=S.pop,j=S.push,q=S.push,O=S.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+I+"*("+R+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+I+"*\\]",M=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",W=new RegExp(I+"+","g"),$=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),F=new RegExp("^"+I+"*,"+I+"*"),z=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),_=new RegExp("="+I+"*([^\\]'\"]*?)"+I+"*\\]","g"),U=new RegExp(M),V=new RegExp("^"+R+"$"),X={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){d()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{q.apply(S=O.call(w.childNodes),w.childNodes),S[w.childNodes.length].nodeType}catch(e){q={apply:S.length?function(e,t){j.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,u,l,c,f,h,y,m=t&&t.ownerDocument,C=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return r;if(!i&&((t?t.ownerDocument||t:w)!==p&&d(t),t=t||p,g)){if(11!==C&&(f=K.exec(e)))if(o=f[1]){if(9===C){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&b(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return q.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return q.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!k[e+" "]&&(!v||!v.test(e))){if(1!==C)m=t,y=e;else if("object"!==t.nodeName.toLowerCase()){(c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=x),u=(h=a(e)).length;while(u--)h[u]="#"+c+" "+ye(h[u]);y=h.join(","),m=J.test(e)&&ge(t.parentNode)||t}if(y)try{return q.apply(r,m.querySelectorAll(y)),r}catch(e){}finally{c===x&&t.removeAttribute("id")}}}return s(e.replace($,"$1"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function ue(e){return e[x]=!0,e}function se(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return ue(function(t){return t=+t,ue(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==p&&9===a.nodeType&&a.documentElement?(p=a,h=p.documentElement,g=!o(p),w!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=se(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=G.test(p.getElementsByClassName),n.getById=se(function(e){return h.appendChild(e).id=x,!p.getElementsByName||!p.getElementsByName(x).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},y=[],v=[],(n.qsa=G.test(p.querySelectorAll))&&(se(function(e){h.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+x+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||v.push(".#.+[+~]")}),se(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+I+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=G.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&se(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),y.push("!=",M)}),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),t=G.test(h.compareDocumentPosition),b=t||G.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===w&&b(w,e)?-1:t===p||t.ownerDocument===w&&b(w,t)?1:c?P(c,e)-P(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],u=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:c?P(c,e)-P(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)u.unshift(n);while(a[r]===u[r])r++;return r?ce(a[r],u[r]):a[r]===w?-1:u[r]===w?1:0},p):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(_,"='$1']"),n.matchesSelector&&g&&!k[t+" "]&&(!y||!y.test(t))&&(!v||!v.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&D.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(A),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:ue,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,s){var l,c,f,d,p,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=u&&t.nodeName.toLowerCase(),m=!s&&!u,b=!1;if(v){if(o){while(g){d=t;while(d=d[g])if(u?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&m){b=(p=(l=(c=(f=(d=v)[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===C&&l[1])&&l[2],d=p&&v.childNodes[p];while(d=++p&&d&&d[g]||(b=p=0)||h.pop())if(1===d.nodeType&&++b&&d===t){c[e]=[C,p,b];break}}else if(m&&(b=p=(l=(c=(f=(d=t)[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===C&&l[1]),!1===b)while(d=++p&&d&&d[g]||(b=p=0)||h.pop())if((u?d.nodeName.toLowerCase()===y:1===d.nodeType)&&++b&&(m&&((c=(f=d[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[C,b]),d===t))break;return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[x]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=P(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ue(function(e){var t=[],n=[],r=u(e.replace($,"$1"));return r[x]?ue(function(e,t,n,i){var o,a=r(e,null,i,[]),u=e.length;while(u--)(o=a[u])&&(e[u]=!(t[u]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:ue(function(e){return function(t){return oe(e,t).length>0}}),contains:ue(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ue(function(e){return V.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=de(t);function ve(){}ve.prototype=r.filters=r.pseudos,r.setFilters=new ve,a=oe.tokenize=function(e,t){var n,i,o,a,u,s,l,c=N[e+" "];if(c)return t?0:c.slice(0);u=e,s=[],l=r.preFilter;while(u){n&&!(i=F.exec(u))||(i&&(u=u.slice(i[0].length)||u),s.push(o=[])),n=!1,(i=z.exec(u))&&(n=i.shift(),o.push({value:n,type:i[0].replace($," ")}),u=u.slice(n.length));for(a in r.filter)!(i=X[a].exec(u))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?oe.error(e):N(e,s).slice(0)};function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,u=T++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,s){var l,c,f,d=[C,u];if(s){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[x]||(t[x]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===C&&l[1]===u)return d[2]=l[2];if(c[o]=d,d[2]=e(t,n,s))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xe(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],u=0,s=e.length,l=null!=t;u<s;u++)(o=e[u])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(u)));return a}function Ce(e,t,n,r,i,o){return r&&!r[x]&&(r=Ce(r)),i&&!i[x]&&(i=Ce(i,o)),ue(function(o,a,u,s){var l,c,f,d=[],p=[],h=a.length,g=o||xe(t||"*",u.nodeType?[u]:u,[]),v=!e||!o&&t?g:we(g,d,e,u,s),y=n?i||(o?e:h||r)?[]:a:v;if(n&&n(v,y,u,s),r){l=we(y,p),r(l,[],u,s),c=l.length;while(c--)(f=l[c])&&(y[p[c]]=!(v[p[c]]=f))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(f=y[c])&&l.push(v[c]=f);i(null,y=[],l,s)}c=y.length;while(c--)(f=y[c])&&(l=i?P(o,f):d[c])>-1&&(o[l]=!(a[l]=f))}}else y=we(y===a?y.splice(h,y.length):y),i?i(null,a,y,s):q.apply(a,y)})}function Te(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],u=a||r.relative[" "],s=a?1:0,c=me(function(e){return e===t},u,!0),f=me(function(e){return P(t,e)>-1},u,!0),d=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];s<o;s++)if(n=r.relative[e[s].type])d=[me(be(d),n)];else{if((n=r.filter[e[s].type].apply(null,e[s].matches))[x]){for(i=++s;i<o;i++)if(r.relative[e[i].type])break;return Ce(s>1&&be(d),s>1&&ye(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),n,s<i&&Te(e.slice(s,i)),i<o&&Te(e=e.slice(i)),i<o&&ye(e))}d.push(n)}return be(d)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,u,s,c){var f,h,v,y=0,m="0",b=o&&[],x=[],w=l,T=o||i&&r.find.TAG("*",c),E=C+=null==w?1:Math.random()||.1,N=T.length;for(c&&(l=a===p||a||c);m!==N&&null!=(f=T[m]);m++){if(i&&f){h=0,a||f.ownerDocument===p||(d(f),u=!g);while(v=e[h++])if(v(f,a||p,u)){s.push(f);break}c&&(C=E)}n&&((f=!v&&f)&&y--,o&&b.push(f))}if(y+=m,n&&m!==y){h=0;while(v=t[h++])v(b,x,a,u);if(o){if(y>0)while(m--)b[m]||x[m]||(x[m]=L.call(s));x=we(x)}q.apply(s,x),c&&!o&&x.length>0&&y+t.length>1&&oe.uniqueSort(s)}return c&&(C=E,l=w),b};return n?ue(o):o}return u=oe.compile=function(e,t){var n,r=[],i=[],o=k[e+" "];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Te(t[n]))[x]?r.push(o):i.push(o);(o=k(e,Ee(i,r))).selector=e}return o},s=oe.select=function(e,t,n,i){var o,s,l,c,f,d="function"==typeof e&&e,p=!i&&a(e=d.selector||e);if(n=n||[],1===p.length){if((s=p[0]=p[0].slice(0)).length>2&&"ID"===(l=s[0]).type&&9===t.nodeType&&g&&r.relative[s[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(s.shift().value.length)}o=X.needsContext.test(e)?0:s.length;while(o--){if(l=s[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),J.test(s[0].type)&&ge(t.parentNode)||t))){if(s.splice(o,1),!(e=i.length&&ye(s)))return q.apply(n,i),n;break}}}return(d||u(e,p))(i,t,!g,n,!t||J.test(e)&&ge(t.parentNode)||t),n},n.sortStable=x.split("").sort(A).join("")===x,n.detectDuplicates=!!f,d(),n.sortDetached=se(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||le(H,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var N=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},k=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=w.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return s.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&A.test(e)?w(e):e||[],!1).length}});var j,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||j,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:q.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),S.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,j=w(r);var O=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!A.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?s.call(w(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function H(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return N(e,"parentNode")},parentsUntil:function(e,t,n){return N(e,"parentNode",n)},next:function(e){return H(e,"nextSibling")},prev:function(e){return H(e,"previousSibling")},nextAll:function(e){return N(e,"nextSibling")},prevAll:function(e){return N(e,"previousSibling")},nextUntil:function(e,t,n){return N(e,"nextSibling",n)},prevUntil:function(e,t,n){return N(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return D(e,"iframe")?e.contentDocument:(D(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(P[e]||w.uniqueSort(i),O.test(e)&&i.reverse()),this.pushStack(i)}});var I=/[^\x20\t\r\n\f]+/g;function R(e){var t={};return w.each(e.match(I)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e="string"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],u=-1,s=function(){for(i=i||e.once,r=t=!0;a.length;u=-1){n=a.shift();while(++u<o.length)!1===o[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(u=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==b(r)&&t(r)})}(arguments),n&&!t&&s()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||s()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function B(e){return e}function M(e){throw e}function W(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var u=this,s=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(u,s))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,B,i),a(o,n,M,i)):(o++,l.call(e,a(o,n,B,i),a(o,n,M,i),a(o,n,B,n.notifyWith))):(r!==B&&(u=void 0,s=[e]),(i||n.resolveWith)(u,s))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==M&&(u=void 0,s=[e]),n.rejectWith(u,s))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:B,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:B)),n[2][3].add(a(0,e,g(r)?r:M))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],u=t[5];i[t[1]]=a.add,u&&a.add(function(){r=u},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),u=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(W(e,a.done(u(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)W(i[n],u(n),a.reject);return a.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&$.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)["catch"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function z(){r.removeEventListener("DOMContentLoaded",z),e.removeEventListener("load",z),w.ready()}"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",z),e.addEventListener("load",z));var _=function(e,t,n,r,i,o,a){var u=0,s=e.length,l=null==n;if("object"===b(n)){i=!0;for(u in n)_(e,t,u,n[u],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;u<s;u++)t(e[u],n,a?r:r.call(e[u],u,t(e[u],n)));return i?e:l?t.call(e):s?t(e[0],n):o},U=/^-ms-/,V=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function Q(e){return e.replace(U,"ms-").replace(V,X)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=w.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Q(t)]=n;else for(r in t)i[Q(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Q):(t=Q(t))in r?[t]:t.match(I)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var K=new G,J=new G,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return J.hasData(e)||K.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return K.access(e,t,n)},_removeData:function(e,t){K.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=J.get(o),1===o.nodeType&&!K.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Q(r.slice(5)),ne(o,r,i[r]));K.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){J.set(this,e)}):_(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=J.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=K.get(e,t),n&&(!r||Array.isArray(n)?r=K.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return K.get(e,n)||K.access(e,n,{empty:w.Callbacks("once memory").add(function(){K.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,u=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=K.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},ue=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function se(e,t,n,r){var i,o,a=20,u=r?function(){return r.cur()}:function(){return w.css(e,t,"")},s=u(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+s)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){s/=2,l=l||c[3],c=+s||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=u()/s||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+s||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=K.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",K.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var de=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?w.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)K.set(e[n],"globalEval",!t||K.get(t[n],"globalEval"))}var me=/<|&#?\w+;/;function be(e,t,n,r,i){for(var o,a,u,s,l,c,f=t.createDocumentFragment(),d=[],p=0,h=e.length;p<h;p++)if((o=e[p])||0===o)if("object"===b(o))w.merge(d,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),u=(pe.exec(o)||["",""])[1].toLowerCase(),s=ge[u]||ge._default,a.innerHTML=s[1]+w.htmlPrefilter(o)+s[2],c=s[0];while(c--)a=a.lastChild;w.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(t.createTextNode(o));f.textContent="",p=0;while(o=d[p++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var xe=r.documentElement,we=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function Ne(){return!1}function ke(){try{return r.activeElement}catch(e){}}function Ae(e,t,n,r,i,o){var a,u;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(u in t)Ae(e,u,n,r,t[u],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ne;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,u,s,l,c,f,d,p,h,g,v=K.get(e);if(v){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(xe,i),n.guid||(n.guid=w.guid++),(s=v.events)||(s=v.events={}),(a=v.handle)||(a=v.handle=function(t){return"undefined"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(I)||[""]).length;while(l--)p=g=(u=Te.exec(t[l])||[])[1],h=(u[2]||"").split(".").sort(),p&&(f=w.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=w.event.special[p]||{},c=w.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(d=s[p])||((d=s[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),w.event.global[p]=!0)}},remove:function(e,t,n,r,i){var o,a,u,s,l,c,f,d,p,h,g,v=K.hasData(e)&&K.get(e);if(v&&(s=v.events)){l=(t=(t||"").match(I)||[""]).length;while(l--)if(u=Te.exec(t[l])||[],p=g=u[1],h=(u[2]||"").split(".").sort(),p){f=w.event.special[p]||{},d=s[p=(r?f.delegateType:f.bindType)||p]||[],u=u[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;while(o--)c=d[o],!i&&g!==c.origType||n&&n.guid!==c.guid||u&&!u.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||w.removeEvent(e,p,v.handle),delete s[p])}else for(p in s)w.event.remove(e,p+t[l],n,r,!0);w.isEmptyObject(s)&&K.remove(e,"handle events")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,u,s=new Array(arguments.length),l=(K.get(this,"events")||{})[t.type]||[],c=w.event.special[t.type]||{};for(s[0]=t,n=1;n<arguments.length;n++)s[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){u=w.event.handlers.call(this,t,l),n=0;while((o=u[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,s))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,u=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<s;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&u.push({elem:l,handlers:o})}return l=this,s<t.length&&u.push({elem:l,handlers:t.slice(s)}),u},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ke()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ke()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&D(this,"input"))return this.click(),!1},_default:function(e){return D(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:Ne,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Ne,isPropagationStopped:Ne,isImmediatePropagationStopped:Ne,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ne),this.each(function(){w.event.remove(this,e,n,t)})}});var De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Se=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")?w(e).children("tbody")[0]||e:e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Pe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function He(e,t){var n,r,i,o,a,u,s,l;if(1===t.nodeType){if(K.hasData(e)&&(o=K.access(e),a=K.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}J.hasData(e)&&(u=J.access(e),s=w.extend({},u),J.set(t,s))}}function Ie(e,t){var n=t.nodeName.toLowerCase();"input"===n&&de.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,u,s,l,c,f=0,d=e.length,p=d-1,v=t[0],y=g(v);if(y||d>1&&"string"==typeof v&&!h.checkClone&&Le.test(v))return e.each(function(i){var o=e.eq(i);y&&(t[0]=v.call(this,i,o.html())),Re(o,t,n,r)});if(d&&(i=be(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(u=w.map(ve(i,"script"),Oe)).length;f<d;f++)l=i,f!==p&&(l=w.clone(l,!0,!0),s&&w.merge(u,ve(l,"script"))),n.call(e[f],l,f);if(s)for(c=u[u.length-1].ownerDocument,w.map(u,Pe),f=0;f<s;f++)l=u[f],he.test(l.type||"")&&!K.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(je,""),c,l))}return e}function Be(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ve(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(De,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,u=e.cloneNode(!0),s=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ve(u),r=0,i=(o=ve(e)).length;r<i;r++)Ie(o[r],a[r]);if(t)if(n)for(o=o||ve(e),a=a||ve(u),r=0,i=o.length;r<i;r++)He(o[r],a[r]);else He(e,u);return(a=ve(u,"script")).length>0&&ye(a,!s&&ve(e,"script")),u},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[K.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[K.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return _(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Se.test(e)&&!ge[(pe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ve(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),u.apply(r,n.get());return this.pushStack(r)}});var Me=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),We=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},$e=new RegExp(oe.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xe.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,s=12===n(t.marginLeft),c.style.right="60%",u=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",xe.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,u,s,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),u},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,u=e.style;return(n=n||We(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&Me.test(a)&&$e.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var _e=/^(none|table(?!-c[ea]).+)/,Ue=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Qe=["Webkit","Moz","ms"],Ye=r.createElement("div").style;function Ge(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;while(n--)if((e=Qe[n]+t)in Ye)return e}function Ke(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Ge(e)||e),t}function Je(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,i,o){var a="width"===t?1:0,u=0,s=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(s+=w.css(e,n+oe[a],!0,i)),r?("content"===n&&(s-=w.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(s-=w.css(e,"border"+oe[a]+"Width",!0,i))):(s+=w.css(e,"padding"+oe[a],!0,i),"padding"!==n?s+=w.css(e,"border"+oe[a]+"Width",!0,i):u+=w.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-s-u-.5))),s}function et(e,t,n){var r=We(e),i=Fe(e,t,r),o="border-box"===w.css(e,"boxSizing",!1,r),a=o;if(Me.test(i)){if(!n)return i;i="auto"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?"border":"content"),a,r,i)+"px"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,u=Q(t),s=Ue.test(t),l=e.style;if(s||(t=Ke(u)),a=w.cssHooks[t]||w.cssHooks[u],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(w.cssNumber[u]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(s?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,u=Q(t);return Ue.test(t)||(t=Ke(u)),(a=w.cssHooks[t]||w.cssHooks[u])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),"normal"===i&&t in Xe&&(i=Xe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!_e.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):ue(e,Ve,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=We(e),a="border-box"===w.css(e,"boxSizing",!1,o),u=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),u&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Je(e,n,u)}}}),w.cssHooks.marginLeft=ze(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Je)}),w.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=We(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}}),w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var tt,nt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return _(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?tt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(I);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),tt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=nt[t]||w.find.attr;nt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=nt[a],nt[a]=i,i=null!=n(e,t,r)?a:null,nt[a]=o),i}});var rt=/^(?:input|select|textarea|button)$/i,it=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return _(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):rt.test(e.nodeName)||it.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function ot(e){return(e.match(I)||[]).join(" ")}function at(e){return e.getAttribute&&e.getAttribute("class")||""}function ut(e){return Array.isArray(e)?e:"string"==typeof e?e.match(I)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,u,s=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,at(this)))});if((t=ut(e)).length)while(n=this[s++])if(i=at(n),r=1===n.nodeType&&" "+ot(i)+" "){a=0;while(o=t[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(u=ot(r))&&n.setAttribute("class",u)}return this},removeClass:function(e){var t,n,r,i,o,a,u,s=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,at(this)))});if(!arguments.length)return this.attr("class","");if((t=ut(e)).length)while(n=this[s++])if(i=at(n),r=1===n.nodeType&&" "+ot(i)+" "){a=0;while(o=t[a++])while(r.indexOf(" "+o+" ")>-1)r=r.replace(" "+o+" "," ");i!==(u=ot(r))&&n.setAttribute("class",u)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,at(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=ut(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&"boolean"!==n||((t=at(this))&&K.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":K.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+ot(at(n))+" ").indexOf(t)>-1)return!0;return!1}});var st=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(st,""):null==n?"":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:ot(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,u=a?null:[],s=a?o+1:i.length;for(r=o<0?s:a?o:0;r<s;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;u.push(t)}return u},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var lt=/^(?:focusinfocus|focusoutblur)$/,ct=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,u,s,l,c,d,p,h,y=[i||r],m=f.call(t,"type")?t.type:t,b=f.call(t,"namespace")?t.namespace.split("."):[];if(u=h=s=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!lt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(b=m.split(".")).shift(),b.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[w.expando]?t:new w.Event(m,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),p=w.event.special[m]||{},o||!p.trigger||!1!==p.trigger.apply(i,n))){if(!o&&!p.noBubble&&!v(i)){for(l=p.delegateType||m,lt.test(l+m)||(u=u.parentNode);u;u=u.parentNode)y.push(u),s=u;s===(i.ownerDocument||r)&&y.push(s.defaultView||s.parentWindow||e)}a=0;while((u=y[a++])&&!t.isPropagationStopped())h=u,t.type=a>1?l:p.bindType||m,(d=(K.get(u,"events")||{})[t.type]&&K.get(u,"handle"))&&d.apply(u,n),(d=c&&u[c])&&d.apply&&Y(u)&&(t.result=d.apply(u,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(y.pop(),n)||!Y(i)||c&&g(i[m])&&!v(i)&&((s=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,ct),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,ct),w.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=K.access(r,t);i||r.addEventListener(e,n,!0),K.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=K.access(r,t)-1;i?K.access(r,t,i):(r.removeEventListener(e,n,!0),K.remove(r,t))}}});var ft=/\[\]$/,dt=/\r?\n/g,pt=/^(?:submit|button|image|reset|file)$/i,ht=/^(?:input|select|textarea|keygen)/i;function gt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||ft.test(e)?r(e,i):gt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==b(t))r(e,t);else for(i in t)gt(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)gt(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&ht.test(this.nodeName)&&!pt.test(e)&&(this.checked||!de.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(dt,"\r\n")}}):{name:t.name,value:n.replace(dt,"\r\n")}}).get()}}),w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=S.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=be([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.offset={setOffset:function(e,t,n){var r,i,o,a,u,s,l,c=w.css(e,"position"),f=w(e),d={};"static"===c&&(e.style.position="relative"),u=f.offset(),o=w.css(e,"top"),s=w.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&(o+s).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(s)||0),g(t)&&(t=t.call(e,n,w.extend({},u))),null!=t.top&&(d.top=t.top-u.top+a),null!=t.left&&(d.left=t.left-u.left+i),"using"in t?t.using.call(e,d):f.css(d)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===w.css(e,"position"))e=e.offsetParent;return e||xe})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return _(this,function(e,r,i){var o;if(v(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=ze(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),Me.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),u=n||(!0===i||!0===o?"margin":"border");return _(this,function(t,n,i){var o;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,u):w.style(t,n,i,u)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=D,w.isFunction=g,w.isWindow=v,w.camelCase=Q,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var vt=e.jQuery,yt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=yt),t&&e.jQuery===w&&(e.jQuery=vt),w},t||(e.jQuery=e.$=w),w});

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/jquery/dist/jquery.slim.min.js","/node_modules/jquery/dist")
},{"_process":25,"buffer":3,"timers":28}],11:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.JSON5 = factory());
}(this, (function () { 'use strict';

	function createCommonjsModule(fn, module) {
		return module = { exports: {} }, fn(module, module.exports), module.exports;
	}

	var _global = createCommonjsModule(function (module) {
	// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
	var global = module.exports = typeof window != 'undefined' && window.Math == Math
	  ? window : typeof self != 'undefined' && self.Math == Math ? self
	  // eslint-disable-next-line no-new-func
	  : Function('return this')();
	if (typeof __g == 'number') { __g = global; } // eslint-disable-line no-undef
	});

	var _core = createCommonjsModule(function (module) {
	var core = module.exports = { version: '2.5.7' };
	if (typeof __e == 'number') { __e = core; } // eslint-disable-line no-undef
	});
	var _core_1 = _core.version;

	var _isObject = function (it) {
	  return typeof it === 'object' ? it !== null : typeof it === 'function';
	};

	var _anObject = function (it) {
	  if (!_isObject(it)) { throw TypeError(it + ' is not an object!'); }
	  return it;
	};

	var _fails = function (exec) {
	  try {
	    return !!exec();
	  } catch (e) {
	    return true;
	  }
	};

	// Thank's IE8 for his funny defineProperty
	var _descriptors = !_fails(function () {
	  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
	});

	var document = _global.document;
	// typeof document.createElement is 'object' in old IE
	var is = _isObject(document) && _isObject(document.createElement);
	var _domCreate = function (it) {
	  return is ? document.createElement(it) : {};
	};

	var _ie8DomDefine = !_descriptors && !_fails(function () {
	  return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;
	});

	// 7.1.1 ToPrimitive(input [, PreferredType])

	// instead of the ES6 spec version, we didn't implement @@toPrimitive case
	// and the second argument - flag - preferred type is a string
	var _toPrimitive = function (it, S) {
	  if (!_isObject(it)) { return it; }
	  var fn, val;
	  if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) { return val; }
	  if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) { return val; }
	  if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) { return val; }
	  throw TypeError("Can't convert object to primitive value");
	};

	var dP = Object.defineProperty;

	var f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {
	  _anObject(O);
	  P = _toPrimitive(P, true);
	  _anObject(Attributes);
	  if (_ie8DomDefine) { try {
	    return dP(O, P, Attributes);
	  } catch (e) { /* empty */ } }
	  if ('get' in Attributes || 'set' in Attributes) { throw TypeError('Accessors not supported!'); }
	  if ('value' in Attributes) { O[P] = Attributes.value; }
	  return O;
	};

	var _objectDp = {
		f: f
	};

	var _propertyDesc = function (bitmap, value) {
	  return {
	    enumerable: !(bitmap & 1),
	    configurable: !(bitmap & 2),
	    writable: !(bitmap & 4),
	    value: value
	  };
	};

	var _hide = _descriptors ? function (object, key, value) {
	  return _objectDp.f(object, key, _propertyDesc(1, value));
	} : function (object, key, value) {
	  object[key] = value;
	  return object;
	};

	var hasOwnProperty = {}.hasOwnProperty;
	var _has = function (it, key) {
	  return hasOwnProperty.call(it, key);
	};

	var id = 0;
	var px = Math.random();
	var _uid = function (key) {
	  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
	};

	var _redefine = createCommonjsModule(function (module) {
	var SRC = _uid('src');
	var TO_STRING = 'toString';
	var $toString = Function[TO_STRING];
	var TPL = ('' + $toString).split(TO_STRING);

	_core.inspectSource = function (it) {
	  return $toString.call(it);
	};

	(module.exports = function (O, key, val, safe) {
	  var isFunction = typeof val == 'function';
	  if (isFunction) { _has(val, 'name') || _hide(val, 'name', key); }
	  if (O[key] === val) { return; }
	  if (isFunction) { _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key))); }
	  if (O === _global) {
	    O[key] = val;
	  } else if (!safe) {
	    delete O[key];
	    _hide(O, key, val);
	  } else if (O[key]) {
	    O[key] = val;
	  } else {
	    _hide(O, key, val);
	  }
	// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
	})(Function.prototype, TO_STRING, function toString() {
	  return typeof this == 'function' && this[SRC] || $toString.call(this);
	});
	});

	var _aFunction = function (it) {
	  if (typeof it != 'function') { throw TypeError(it + ' is not a function!'); }
	  return it;
	};

	// optional / simple context binding

	var _ctx = function (fn, that, length) {
	  _aFunction(fn);
	  if (that === undefined) { return fn; }
	  switch (length) {
	    case 1: return function (a) {
	      return fn.call(that, a);
	    };
	    case 2: return function (a, b) {
	      return fn.call(that, a, b);
	    };
	    case 3: return function (a, b, c) {
	      return fn.call(that, a, b, c);
	    };
	  }
	  return function (/* ...args */) {
	    return fn.apply(that, arguments);
	  };
	};

	var PROTOTYPE = 'prototype';

	var $export = function (type, name, source) {
	  var IS_FORCED = type & $export.F;
	  var IS_GLOBAL = type & $export.G;
	  var IS_STATIC = type & $export.S;
	  var IS_PROTO = type & $export.P;
	  var IS_BIND = type & $export.B;
	  var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] || (_global[name] = {}) : (_global[name] || {})[PROTOTYPE];
	  var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});
	  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});
	  var key, own, out, exp;
	  if (IS_GLOBAL) { source = name; }
	  for (key in source) {
	    // contains in native
	    own = !IS_FORCED && target && target[key] !== undefined;
	    // export native or passed
	    out = (own ? target : source)[key];
	    // bind timers to global for call from export context
	    exp = IS_BIND && own ? _ctx(out, _global) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;
	    // extend global
	    if (target) { _redefine(target, key, out, type & $export.U); }
	    // export
	    if (exports[key] != out) { _hide(exports, key, exp); }
	    if (IS_PROTO && expProto[key] != out) { expProto[key] = out; }
	  }
	};
	_global.core = _core;
	// type bitmap
	$export.F = 1;   // forced
	$export.G = 2;   // global
	$export.S = 4;   // static
	$export.P = 8;   // proto
	$export.B = 16;  // bind
	$export.W = 32;  // wrap
	$export.U = 64;  // safe
	$export.R = 128; // real proto method for `library`
	var _export = $export;

	// 7.1.4 ToInteger
	var ceil = Math.ceil;
	var floor = Math.floor;
	var _toInteger = function (it) {
	  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
	};

	// 7.2.1 RequireObjectCoercible(argument)
	var _defined = function (it) {
	  if (it == undefined) { throw TypeError("Can't call method on  " + it); }
	  return it;
	};

	// true  -> String#at
	// false -> String#codePointAt
	var _stringAt = function (TO_STRING) {
	  return function (that, pos) {
	    var s = String(_defined(that));
	    var i = _toInteger(pos);
	    var l = s.length;
	    var a, b;
	    if (i < 0 || i >= l) { return TO_STRING ? '' : undefined; }
	    a = s.charCodeAt(i);
	    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
	      ? TO_STRING ? s.charAt(i) : a
	      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
	  };
	};

	var $at = _stringAt(false);
	_export(_export.P, 'String', {
	  // 21.1.3.3 String.prototype.codePointAt(pos)
	  codePointAt: function codePointAt(pos) {
	    return $at(this, pos);
	  }
	});

	var codePointAt = _core.String.codePointAt;

	var max = Math.max;
	var min = Math.min;
	var _toAbsoluteIndex = function (index, length) {
	  index = _toInteger(index);
	  return index < 0 ? max(index + length, 0) : min(index, length);
	};

	var fromCharCode = String.fromCharCode;
	var $fromCodePoint = String.fromCodePoint;

	// length should be 1, old FF problem
	_export(_export.S + _export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {
	  // 21.1.2.2 String.fromCodePoint(...codePoints)
	  fromCodePoint: function fromCodePoint(x) {
	    var arguments$1 = arguments;
	 // eslint-disable-line no-unused-vars
	    var res = [];
	    var aLen = arguments.length;
	    var i = 0;
	    var code;
	    while (aLen > i) {
	      code = +arguments$1[i++];
	      if (_toAbsoluteIndex(code, 0x10ffff) !== code) { throw RangeError(code + ' is not a valid code point'); }
	      res.push(code < 0x10000
	        ? fromCharCode(code)
	        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)
	      );
	    } return res.join('');
	  }
	});

	var fromCodePoint = _core.String.fromCodePoint;

	// This is a generated file. Do not edit.
	var Space_Separator = /[\u1680\u2000-\u200A\u202F\u205F\u3000]/;
	var ID_Start = /[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/;
	var ID_Continue = /[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;

	var unicode = {
		Space_Separator: Space_Separator,
		ID_Start: ID_Start,
		ID_Continue: ID_Continue
	};

	var util = {
	    isSpaceSeparator: function isSpaceSeparator (c) {
	        return unicode.Space_Separator.test(c)
	    },

	    isIdStartChar: function isIdStartChar (c) {
	        return (
	            (c >= 'a' && c <= 'z') ||
	        (c >= 'A' && c <= 'Z') ||
	        (c === '$') || (c === '_') ||
	        unicode.ID_Start.test(c)
	        )
	    },

	    isIdContinueChar: function isIdContinueChar (c) {
	        return (
	            (c >= 'a' && c <= 'z') ||
	        (c >= 'A' && c <= 'Z') ||
	        (c >= '0' && c <= '9') ||
	        (c === '$') || (c === '_') ||
	        (c === '\u200C') || (c === '\u200D') ||
	        unicode.ID_Continue.test(c)
	        )
	    },

	    isDigit: function isDigit (c) {
	        return /[0-9]/.test(c)
	    },

	    isHexDigit: function isHexDigit (c) {
	        return /[0-9A-Fa-f]/.test(c)
	    },
	};

	var source;
	var parseState;
	var stack;
	var pos;
	var line;
	var column;
	var token;
	var key;
	var root;

	var parse = function parse (text, reviver) {
	    source = String(text);
	    parseState = 'start';
	    stack = [];
	    pos = 0;
	    line = 1;
	    column = 0;
	    token = undefined;
	    key = undefined;
	    root = undefined;

	    do {
	        token = lex();

	        // This code is unreachable.
	        // if (!parseStates[parseState]) {
	        //     throw invalidParseState()
	        // }

	        parseStates[parseState]();
	    } while (token.type !== 'eof')

	    if (typeof reviver === 'function') {
	        return internalize({'': root}, '', reviver)
	    }

	    return root
	};

	function internalize (holder, name, reviver) {
	    var value = holder[name];
	    if (value != null && typeof value === 'object') {
	        for (var key in value) {
	            var replacement = internalize(value, key, reviver);
	            if (replacement === undefined) {
	                delete value[key];
	            } else {
	                value[key] = replacement;
	            }
	        }
	    }

	    return reviver.call(holder, name, value)
	}

	var lexState;
	var buffer;
	var doubleQuote;
	var sign;
	var c;

	function lex () {
	    lexState = 'default';
	    buffer = '';
	    doubleQuote = false;
	    sign = 1;

	    for (;;) {
	        c = peek();

	        // This code is unreachable.
	        // if (!lexStates[lexState]) {
	        //     throw invalidLexState(lexState)
	        // }

	        var token = lexStates[lexState]();
	        if (token) {
	            return token
	        }
	    }
	}

	function peek () {
	    if (source[pos]) {
	        return String.fromCodePoint(source.codePointAt(pos))
	    }
	}

	function read () {
	    var c = peek();

	    if (c === '\n') {
	        line++;
	        column = 0;
	    } else if (c) {
	        column += c.length;
	    } else {
	        column++;
	    }

	    if (c) {
	        pos += c.length;
	    }

	    return c
	}

	var lexStates = {
	    default: function default$1 () {
	        switch (c) {
	        case '\t':
	        case '\v':
	        case '\f':
	        case ' ':
	        case '\u00A0':
	        case '\uFEFF':
	        case '\n':
	        case '\r':
	        case '\u2028':
	        case '\u2029':
	            read();
	            return

	        case '/':
	            read();
	            lexState = 'comment';
	            return

	        case undefined:
	            read();
	            return newToken('eof')
	        }

	        if (util.isSpaceSeparator(c)) {
	            read();
	            return
	        }

	        // This code is unreachable.
	        // if (!lexStates[parseState]) {
	        //     throw invalidLexState(parseState)
	        // }

	        return lexStates[parseState]()
	    },

	    comment: function comment () {
	        switch (c) {
	        case '*':
	            read();
	            lexState = 'multiLineComment';
	            return

	        case '/':
	            read();
	            lexState = 'singleLineComment';
	            return
	        }

	        throw invalidChar(read())
	    },

	    multiLineComment: function multiLineComment () {
	        switch (c) {
	        case '*':
	            read();
	            lexState = 'multiLineCommentAsterisk';
	            return

	        case undefined:
	            throw invalidChar(read())
	        }

	        read();
	    },

	    multiLineCommentAsterisk: function multiLineCommentAsterisk () {
	        switch (c) {
	        case '*':
	            read();
	            return

	        case '/':
	            read();
	            lexState = 'default';
	            return

	        case undefined:
	            throw invalidChar(read())
	        }

	        read();
	        lexState = 'multiLineComment';
	    },

	    singleLineComment: function singleLineComment () {
	        switch (c) {
	        case '\n':
	        case '\r':
	        case '\u2028':
	        case '\u2029':
	            read();
	            lexState = 'default';
	            return

	        case undefined:
	            read();
	            return newToken('eof')
	        }

	        read();
	    },

	    value: function value () {
	        switch (c) {
	        case '{':
	        case '[':
	            return newToken('punctuator', read())

	        case 'n':
	            read();
	            literal('ull');
	            return newToken('null', null)

	        case 't':
	            read();
	            literal('rue');
	            return newToken('boolean', true)

	        case 'f':
	            read();
	            literal('alse');
	            return newToken('boolean', false)

	        case '-':
	        case '+':
	            if (read() === '-') {
	                sign = -1;
	            }

	            lexState = 'sign';
	            return

	        case '.':
	            buffer = read();
	            lexState = 'decimalPointLeading';
	            return

	        case '0':
	            buffer = read();
	            lexState = 'zero';
	            return

	        case '1':
	        case '2':
	        case '3':
	        case '4':
	        case '5':
	        case '6':
	        case '7':
	        case '8':
	        case '9':
	            buffer = read();
	            lexState = 'decimalInteger';
	            return

	        case 'I':
	            read();
	            literal('nfinity');
	            return newToken('numeric', Infinity)

	        case 'N':
	            read();
	            literal('aN');
	            return newToken('numeric', NaN)

	        case '"':
	        case "'":
	            doubleQuote = (read() === '"');
	            buffer = '';
	            lexState = 'string';
	            return
	        }

	        throw invalidChar(read())
	    },

	    identifierNameStartEscape: function identifierNameStartEscape () {
	        if (c !== 'u') {
	            throw invalidChar(read())
	        }

	        read();
	        var u = unicodeEscape();
	        switch (u) {
	        case '$':
	        case '_':
	            break

	        default:
	            if (!util.isIdStartChar(u)) {
	                throw invalidIdentifier()
	            }

	            break
	        }

	        buffer += u;
	        lexState = 'identifierName';
	    },

	    identifierName: function identifierName () {
	        switch (c) {
	        case '$':
	        case '_':
	        case '\u200C':
	        case '\u200D':
	            buffer += read();
	            return

	        case '\\':
	            read();
	            lexState = 'identifierNameEscape';
	            return
	        }

	        if (util.isIdContinueChar(c)) {
	            buffer += read();
	            return
	        }

	        return newToken('identifier', buffer)
	    },

	    identifierNameEscape: function identifierNameEscape () {
	        if (c !== 'u') {
	            throw invalidChar(read())
	        }

	        read();
	        var u = unicodeEscape();
	        switch (u) {
	        case '$':
	        case '_':
	        case '\u200C':
	        case '\u200D':
	            break

	        default:
	            if (!util.isIdContinueChar(u)) {
	                throw invalidIdentifier()
	            }

	            break
	        }

	        buffer += u;
	        lexState = 'identifierName';
	    },

	    sign: function sign$1 () {
	        switch (c) {
	        case '.':
	            buffer = read();
	            lexState = 'decimalPointLeading';
	            return

	        case '0':
	            buffer = read();
	            lexState = 'zero';
	            return

	        case '1':
	        case '2':
	        case '3':
	        case '4':
	        case '5':
	        case '6':
	        case '7':
	        case '8':
	        case '9':
	            buffer = read();
	            lexState = 'decimalInteger';
	            return

	        case 'I':
	            read();
	            literal('nfinity');
	            return newToken('numeric', sign * Infinity)

	        case 'N':
	            read();
	            literal('aN');
	            return newToken('numeric', NaN)
	        }

	        throw invalidChar(read())
	    },

	    zero: function zero () {
	        switch (c) {
	        case '.':
	            buffer += read();
	            lexState = 'decimalPoint';
	            return

	        case 'e':
	        case 'E':
	            buffer += read();
	            lexState = 'decimalExponent';
	            return

	        case 'x':
	        case 'X':
	            buffer += read();
	            lexState = 'hexadecimal';
	            return
	        }

	        return newToken('numeric', sign * 0)
	    },

	    decimalInteger: function decimalInteger () {
	        switch (c) {
	        case '.':
	            buffer += read();
	            lexState = 'decimalPoint';
	            return

	        case 'e':
	        case 'E':
	            buffer += read();
	            lexState = 'decimalExponent';
	            return
	        }

	        if (util.isDigit(c)) {
	            buffer += read();
	            return
	        }

	        return newToken('numeric', sign * Number(buffer))
	    },

	    decimalPointLeading: function decimalPointLeading () {
	        if (util.isDigit(c)) {
	            buffer += read();
	            lexState = 'decimalFraction';
	            return
	        }

	        throw invalidChar(read())
	    },

	    decimalPoint: function decimalPoint () {
	        switch (c) {
	        case 'e':
	        case 'E':
	            buffer += read();
	            lexState = 'decimalExponent';
	            return
	        }

	        if (util.isDigit(c)) {
	            buffer += read();
	            lexState = 'decimalFraction';
	            return
	        }

	        return newToken('numeric', sign * Number(buffer))
	    },

	    decimalFraction: function decimalFraction () {
	        switch (c) {
	        case 'e':
	        case 'E':
	            buffer += read();
	            lexState = 'decimalExponent';
	            return
	        }

	        if (util.isDigit(c)) {
	            buffer += read();
	            return
	        }

	        return newToken('numeric', sign * Number(buffer))
	    },

	    decimalExponent: function decimalExponent () {
	        switch (c) {
	        case '+':
	        case '-':
	            buffer += read();
	            lexState = 'decimalExponentSign';
	            return
	        }

	        if (util.isDigit(c)) {
	            buffer += read();
	            lexState = 'decimalExponentInteger';
	            return
	        }

	        throw invalidChar(read())
	    },

	    decimalExponentSign: function decimalExponentSign () {
	        if (util.isDigit(c)) {
	            buffer += read();
	            lexState = 'decimalExponentInteger';
	            return
	        }

	        throw invalidChar(read())
	    },

	    decimalExponentInteger: function decimalExponentInteger () {
	        if (util.isDigit(c)) {
	            buffer += read();
	            return
	        }

	        return newToken('numeric', sign * Number(buffer))
	    },

	    hexadecimal: function hexadecimal () {
	        if (util.isHexDigit(c)) {
	            buffer += read();
	            lexState = 'hexadecimalInteger';
	            return
	        }

	        throw invalidChar(read())
	    },

	    hexadecimalInteger: function hexadecimalInteger () {
	        if (util.isHexDigit(c)) {
	            buffer += read();
	            return
	        }

	        return newToken('numeric', sign * Number(buffer))
	    },

	    string: function string () {
	        switch (c) {
	        case '\\':
	            read();
	            buffer += escape();
	            return

	        case '"':
	            if (doubleQuote) {
	                read();
	                return newToken('string', buffer)
	            }

	            buffer += read();
	            return

	        case "'":
	            if (!doubleQuote) {
	                read();
	                return newToken('string', buffer)
	            }

	            buffer += read();
	            return

	        case '\n':
	        case '\r':
	            throw invalidChar(read())

	        case '\u2028':
	        case '\u2029':
	            separatorChar(c);
	            break

	        case undefined:
	            throw invalidChar(read())
	        }

	        buffer += read();
	    },

	    start: function start () {
	        switch (c) {
	        case '{':
	        case '[':
	            return newToken('punctuator', read())

	        // This code is unreachable since the default lexState handles eof.
	        // case undefined:
	        //     return newToken('eof')
	        }

	        lexState = 'value';
	    },

	    beforePropertyName: function beforePropertyName () {
	        switch (c) {
	        case '$':
	        case '_':
	            buffer = read();
	            lexState = 'identifierName';
	            return

	        case '\\':
	            read();
	            lexState = 'identifierNameStartEscape';
	            return

	        case '}':
	            return newToken('punctuator', read())

	        case '"':
	        case "'":
	            doubleQuote = (read() === '"');
	            lexState = 'string';
	            return
	        }

	        if (util.isIdStartChar(c)) {
	            buffer += read();
	            lexState = 'identifierName';
	            return
	        }

	        throw invalidChar(read())
	    },

	    afterPropertyName: function afterPropertyName () {
	        if (c === ':') {
	            return newToken('punctuator', read())
	        }

	        throw invalidChar(read())
	    },

	    beforePropertyValue: function beforePropertyValue () {
	        lexState = 'value';
	    },

	    afterPropertyValue: function afterPropertyValue () {
	        switch (c) {
	        case ',':
	        case '}':
	            return newToken('punctuator', read())
	        }

	        throw invalidChar(read())
	    },

	    beforeArrayValue: function beforeArrayValue () {
	        if (c === ']') {
	            return newToken('punctuator', read())
	        }

	        lexState = 'value';
	    },

	    afterArrayValue: function afterArrayValue () {
	        switch (c) {
	        case ',':
	        case ']':
	            return newToken('punctuator', read())
	        }

	        throw invalidChar(read())
	    },

	    end: function end () {
	        // This code is unreachable since it's handled by the default lexState.
	        // if (c === undefined) {
	        //     read()
	        //     return newToken('eof')
	        // }

	        throw invalidChar(read())
	    },
	};

	function newToken (type, value) {
	    return {
	        type: type,
	        value: value,
	        line: line,
	        column: column,
	    }
	}

	function literal (s) {
	    for (var i = 0, list = s; i < list.length; i += 1) {
	        var c = list[i];

	        var p = peek();

	        if (p !== c) {
	            throw invalidChar(read())
	        }

	        read();
	    }
	}

	function escape () {
	    var c = peek();
	    switch (c) {
	    case 'b':
	        read();
	        return '\b'

	    case 'f':
	        read();
	        return '\f'

	    case 'n':
	        read();
	        return '\n'

	    case 'r':
	        read();
	        return '\r'

	    case 't':
	        read();
	        return '\t'

	    case 'v':
	        read();
	        return '\v'

	    case '0':
	        read();
	        if (util.isDigit(peek())) {
	            throw invalidChar(read())
	        }

	        return '\0'

	    case 'x':
	        read();
	        return hexEscape()

	    case 'u':
	        read();
	        return unicodeEscape()

	    case '\n':
	    case '\u2028':
	    case '\u2029':
	        read();
	        return ''

	    case '\r':
	        read();
	        if (peek() === '\n') {
	            read();
	        }

	        return ''

	    case '1':
	    case '2':
	    case '3':
	    case '4':
	    case '5':
	    case '6':
	    case '7':
	    case '8':
	    case '9':
	        throw invalidChar(read())

	    case undefined:
	        throw invalidChar(read())
	    }

	    return read()
	}

	function hexEscape () {
	    var buffer = '';
	    var c = peek();

	    if (!util.isHexDigit(c)) {
	        throw invalidChar(read())
	    }

	    buffer += read();

	    c = peek();
	    if (!util.isHexDigit(c)) {
	        throw invalidChar(read())
	    }

	    buffer += read();

	    return String.fromCodePoint(parseInt(buffer, 16))
	}

	function unicodeEscape () {
	    var buffer = '';
	    var count = 4;

	    while (count-- > 0) {
	        var c = peek();
	        if (!util.isHexDigit(c)) {
	            throw invalidChar(read())
	        }

	        buffer += read();
	    }

	    return String.fromCodePoint(parseInt(buffer, 16))
	}

	var parseStates = {
	    start: function start () {
	        if (token.type === 'eof') {
	            throw invalidEOF()
	        }

	        push();
	    },

	    beforePropertyName: function beforePropertyName () {
	        switch (token.type) {
	        case 'identifier':
	        case 'string':
	            key = token.value;
	            parseState = 'afterPropertyName';
	            return

	        case 'punctuator':
	            // This code is unreachable since it's handled by the lexState.
	            // if (token.value !== '}') {
	            //     throw invalidToken()
	            // }

	            pop();
	            return

	        case 'eof':
	            throw invalidEOF()
	        }

	        // This code is unreachable since it's handled by the lexState.
	        // throw invalidToken()
	    },

	    afterPropertyName: function afterPropertyName () {
	        // This code is unreachable since it's handled by the lexState.
	        // if (token.type !== 'punctuator' || token.value !== ':') {
	        //     throw invalidToken()
	        // }

	        if (token.type === 'eof') {
	            throw invalidEOF()
	        }

	        parseState = 'beforePropertyValue';
	    },

	    beforePropertyValue: function beforePropertyValue () {
	        if (token.type === 'eof') {
	            throw invalidEOF()
	        }

	        push();
	    },

	    beforeArrayValue: function beforeArrayValue () {
	        if (token.type === 'eof') {
	            throw invalidEOF()
	        }

	        if (token.type === 'punctuator' && token.value === ']') {
	            pop();
	            return
	        }

	        push();
	    },

	    afterPropertyValue: function afterPropertyValue () {
	        // This code is unreachable since it's handled by the lexState.
	        // if (token.type !== 'punctuator') {
	        //     throw invalidToken()
	        // }

	        if (token.type === 'eof') {
	            throw invalidEOF()
	        }

	        switch (token.value) {
	        case ',':
	            parseState = 'beforePropertyName';
	            return

	        case '}':
	            pop();
	        }

	        // This code is unreachable since it's handled by the lexState.
	        // throw invalidToken()
	    },

	    afterArrayValue: function afterArrayValue () {
	        // This code is unreachable since it's handled by the lexState.
	        // if (token.type !== 'punctuator') {
	        //     throw invalidToken()
	        // }

	        if (token.type === 'eof') {
	            throw invalidEOF()
	        }

	        switch (token.value) {
	        case ',':
	            parseState = 'beforeArrayValue';
	            return

	        case ']':
	            pop();
	        }

	        // This code is unreachable since it's handled by the lexState.
	        // throw invalidToken()
	    },

	    end: function end () {
	        // This code is unreachable since it's handled by the lexState.
	        // if (token.type !== 'eof') {
	        //     throw invalidToken()
	        // }
	    },
	};

	function push () {
	    var value;

	    switch (token.type) {
	    case 'punctuator':
	        switch (token.value) {
	        case '{':
	            value = {};
	            break

	        case '[':
	            value = [];
	            break
	        }

	        break

	    case 'null':
	    case 'boolean':
	    case 'numeric':
	    case 'string':
	        value = token.value;
	        break

	    // This code is unreachable.
	    // default:
	    //     throw invalidToken()
	    }

	    if (root === undefined) {
	        root = value;
	    } else {
	        var parent = stack[stack.length - 1];
	        if (Array.isArray(parent)) {
	            parent.push(value);
	        } else {
	            parent[key] = value;
	        }
	    }

	    if (value !== null && typeof value === 'object') {
	        stack.push(value);

	        if (Array.isArray(value)) {
	            parseState = 'beforeArrayValue';
	        } else {
	            parseState = 'beforePropertyName';
	        }
	    } else {
	        var current = stack[stack.length - 1];
	        if (current == null) {
	            parseState = 'end';
	        } else if (Array.isArray(current)) {
	            parseState = 'afterArrayValue';
	        } else {
	            parseState = 'afterPropertyValue';
	        }
	    }
	}

	function pop () {
	    stack.pop();

	    var current = stack[stack.length - 1];
	    if (current == null) {
	        parseState = 'end';
	    } else if (Array.isArray(current)) {
	        parseState = 'afterArrayValue';
	    } else {
	        parseState = 'afterPropertyValue';
	    }
	}

	// This code is unreachable.
	// function invalidParseState () {
	//     return new Error(`JSON5: invalid parse state '${parseState}'`)
	// }

	// This code is unreachable.
	// function invalidLexState (state) {
	//     return new Error(`JSON5: invalid lex state '${state}'`)
	// }

	function invalidChar (c) {
	    if (c === undefined) {
	        return syntaxError(("JSON5: invalid end of input at " + line + ":" + column))
	    }

	    return syntaxError(("JSON5: invalid character '" + (formatChar(c)) + "' at " + line + ":" + column))
	}

	function invalidEOF () {
	    return syntaxError(("JSON5: invalid end of input at " + line + ":" + column))
	}

	// This code is unreachable.
	// function invalidToken () {
	//     if (token.type === 'eof') {
	//         return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)
	//     }

	//     const c = String.fromCodePoint(token.value.codePointAt(0))
	//     return syntaxError(`JSON5: invalid character '${formatChar(c)}' at ${line}:${column}`)
	// }

	function invalidIdentifier () {
	    column -= 5;
	    return syntaxError(("JSON5: invalid identifier character at " + line + ":" + column))
	}

	function separatorChar (c) {
	    console.warn(("JSON5: '" + (formatChar(c)) + "' in strings is not valid ECMAScript; consider escaping"));
	}

	function formatChar (c) {
	    var replacements = {
	        "'": "\\'",
	        '"': '\\"',
	        '\\': '\\\\',
	        '\b': '\\b',
	        '\f': '\\f',
	        '\n': '\\n',
	        '\r': '\\r',
	        '\t': '\\t',
	        '\v': '\\v',
	        '\0': '\\0',
	        '\u2028': '\\u2028',
	        '\u2029': '\\u2029',
	    };

	    if (replacements[c]) {
	        return replacements[c]
	    }

	    if (c < ' ') {
	        var hexString = c.charCodeAt(0).toString(16);
	        return '\\x' + ('00' + hexString).substring(hexString.length)
	    }

	    return c
	}

	function syntaxError (message) {
	    var err = new SyntaxError(message);
	    err.lineNumber = line;
	    err.columnNumber = column;
	    return err
	}

	var stringify = function stringify (value, replacer, space) {
	    var stack = [];
	    var indent = '';
	    var propertyList;
	    var replacerFunc;
	    var gap = '';
	    var quote;

	    if (
	        replacer != null &&
	        typeof replacer === 'object' &&
	        !Array.isArray(replacer)
	    ) {
	        space = replacer.space;
	        quote = replacer.quote;
	        replacer = replacer.replacer;
	    }

	    if (typeof replacer === 'function') {
	        replacerFunc = replacer;
	    } else if (Array.isArray(replacer)) {
	        propertyList = [];
	        for (var i = 0, list = replacer; i < list.length; i += 1) {
	            var v = list[i];

	            var item = (void 0);

	            if (typeof v === 'string') {
	                item = v;
	            } else if (
	                typeof v === 'number' ||
	                v instanceof String ||
	                v instanceof Number
	            ) {
	                item = String(v);
	            }

	            if (item !== undefined && propertyList.indexOf(item) < 0) {
	                propertyList.push(item);
	            }
	        }
	    }

	    if (space instanceof Number) {
	        space = Number(space);
	    } else if (space instanceof String) {
	        space = String(space);
	    }

	    if (typeof space === 'number') {
	        if (space > 0) {
	            space = Math.min(10, Math.floor(space));
	            gap = '          '.substr(0, space);
	        }
	    } else if (typeof space === 'string') {
	        gap = space.substr(0, 10);
	    }

	    return serializeProperty('', {'': value})

	    function serializeProperty (key, holder) {
	        var value = holder[key];
	        if (value != null) {
	            if (typeof value.toJSON5 === 'function') {
	                value = value.toJSON5(key);
	            } else if (typeof value.toJSON === 'function') {
	                value = value.toJSON(key);
	            }
	        }

	        if (replacerFunc) {
	            value = replacerFunc.call(holder, key, value);
	        }

	        if (value instanceof Number) {
	            value = Number(value);
	        } else if (value instanceof String) {
	            value = String(value);
	        } else if (value instanceof Boolean) {
	            value = value.valueOf();
	        }

	        switch (value) {
	        case null: return 'null'
	        case true: return 'true'
	        case false: return 'false'
	        }

	        if (typeof value === 'string') {
	            return quoteString(value, false)
	        }

	        if (typeof value === 'number') {
	            return String(value)
	        }

	        if (typeof value === 'object') {
	            return Array.isArray(value) ? serializeArray(value) : serializeObject(value)
	        }

	        return undefined
	    }

	    function quoteString (value) {
	        var quotes = {
	            "'": 0.1,
	            '"': 0.2,
	        };

	        var replacements = {
	            "'": "\\'",
	            '"': '\\"',
	            '\\': '\\\\',
	            '\b': '\\b',
	            '\f': '\\f',
	            '\n': '\\n',
	            '\r': '\\r',
	            '\t': '\\t',
	            '\v': '\\v',
	            '\0': '\\0',
	            '\u2028': '\\u2028',
	            '\u2029': '\\u2029',
	        };

	        var product = '';

	        for (var i = 0, list = value; i < list.length; i += 1) {
	            var c = list[i];

	            switch (c) {
	            case "'":
	            case '"':
	                quotes[c]++;
	                product += c;
	                continue
	            }

	            if (replacements[c]) {
	                product += replacements[c];
	                continue
	            }

	            if (c < ' ') {
	                var hexString = c.charCodeAt(0).toString(16);
	                product += '\\x' + ('00' + hexString).substring(hexString.length);
	                continue
	            }

	            product += c;
	        }

	        var quoteChar = quote || Object.keys(quotes).reduce(function (a, b) { return (quotes[a] < quotes[b]) ? a : b; });

	        product = product.replace(new RegExp(quoteChar, 'g'), replacements[quoteChar]);

	        return quoteChar + product + quoteChar
	    }

	    function serializeObject (value) {
	        if (stack.indexOf(value) >= 0) {
	            throw TypeError('Converting circular structure to JSON5')
	        }

	        stack.push(value);

	        var stepback = indent;
	        indent = indent + gap;

	        var keys = propertyList || Object.keys(value);
	        var partial = [];
	        for (var i = 0, list = keys; i < list.length; i += 1) {
	            var key = list[i];

	            var propertyString = serializeProperty(key, value);
	            if (propertyString !== undefined) {
	                var member = serializeKey(key) + ':';
	                if (gap !== '') {
	                    member += ' ';
	                }
	                member += propertyString;
	                partial.push(member);
	            }
	        }

	        var final;
	        if (partial.length === 0) {
	            final = '{}';
	        } else {
	            var properties;
	            if (gap === '') {
	                properties = partial.join(',');
	                final = '{' + properties + '}';
	            } else {
	                var separator = ',\n' + indent;
	                properties = partial.join(separator);
	                final = '{\n' + indent + properties + ',\n' + stepback + '}';
	            }
	        }

	        stack.pop();
	        indent = stepback;
	        return final
	    }

	    function serializeKey (key) {
	        if (key.length === 0) {
	            return quoteString(key, true)
	        }

	        var firstChar = String.fromCodePoint(key.codePointAt(0));
	        if (!util.isIdStartChar(firstChar)) {
	            return quoteString(key, true)
	        }

	        for (var i = firstChar.length; i < key.length; i++) {
	            if (!util.isIdContinueChar(String.fromCodePoint(key.codePointAt(i)))) {
	                return quoteString(key, true)
	            }
	        }

	        return key
	    }

	    function serializeArray (value) {
	        if (stack.indexOf(value) >= 0) {
	            throw TypeError('Converting circular structure to JSON5')
	        }

	        stack.push(value);

	        var stepback = indent;
	        indent = indent + gap;

	        var partial = [];
	        for (var i = 0; i < value.length; i++) {
	            var propertyString = serializeProperty(String(i), value);
	            partial.push((propertyString !== undefined) ? propertyString : 'null');
	        }

	        var final;
	        if (partial.length === 0) {
	            final = '[]';
	        } else {
	            if (gap === '') {
	                var properties = partial.join(',');
	                final = '[' + properties + ']';
	            } else {
	                var separator = ',\n' + indent;
	                var properties$1 = partial.join(separator);
	                final = '[\n' + indent + properties$1 + ',\n' + stepback + ']';
	            }
	        }

	        stack.pop();
	        indent = stepback;
	        return final
	    }
	};

	var JSON5 = {
	    parse: parse,
	    stringify: stringify,
	};

	var lib = JSON5;

	var es5 = lib;

	return es5;

})));

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/json5/dist/index.js","/node_modules/json5/dist")
},{"_process":25,"buffer":3,"timers":28}],12:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){

var Keyboard = require('./lib/keyboard');
var Locale   = require('./lib/locale');
var KeyCombo = require('./lib/key-combo');

var keyboard = new Keyboard();

keyboard.setLocale('us', require('./locales/us'));

exports          = module.exports = keyboard;
exports.Keyboard = Keyboard;
exports.Locale   = Locale;
exports.KeyCombo = KeyCombo;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/keyboardjs/index.js","/node_modules/keyboardjs")
},{"./lib/key-combo":13,"./lib/keyboard":14,"./lib/locale":15,"./locales/us":16,"_process":25,"buffer":3,"timers":28}],13:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){

function KeyCombo(keyComboStr) {
  this.sourceStr = keyComboStr;
  this.subCombos = KeyCombo.parseComboStr(keyComboStr);
  this.keyNames  = this.subCombos.reduce(function(memo, nextSubCombo) {
    return memo.concat(nextSubCombo);
  }, []);
}

// TODO: Add support for key combo sequences
KeyCombo.sequenceDeliminator = '>>';
KeyCombo.comboDeliminator    = '>';
KeyCombo.keyDeliminator      = '+';

KeyCombo.parseComboStr = function(keyComboStr) {
  var subComboStrs = KeyCombo._splitStr(keyComboStr, KeyCombo.comboDeliminator);
  var combo        = [];

  for (var i = 0 ; i < subComboStrs.length; i += 1) {
    combo.push(KeyCombo._splitStr(subComboStrs[i], KeyCombo.keyDeliminator));
  }
  return combo;
};

KeyCombo.prototype.check = function(pressedKeyNames) {
  var startingKeyNameIndex = 0;
  for (var i = 0; i < this.subCombos.length; i += 1) {
    startingKeyNameIndex = this._checkSubCombo(
      this.subCombos[i],
      startingKeyNameIndex,
      pressedKeyNames
    );
    if (startingKeyNameIndex === -1) { return false; }
  }
  return true;
};

KeyCombo.prototype.isEqual = function(otherKeyCombo) {
  if (
    !otherKeyCombo ||
    typeof otherKeyCombo !== 'string' &&
    typeof otherKeyCombo !== 'object'
  ) { return false; }

  if (typeof otherKeyCombo === 'string') {
    otherKeyCombo = new KeyCombo(otherKeyCombo);
  }

  if (this.subCombos.length !== otherKeyCombo.subCombos.length) {
    return false;
  }
  for (var i = 0; i < this.subCombos.length; i += 1) {
    if (this.subCombos[i].length !== otherKeyCombo.subCombos[i].length) {
      return false;
    }
  }

  for (var i = 0; i < this.subCombos.length; i += 1) {
    var subCombo      = this.subCombos[i];
    var otherSubCombo = otherKeyCombo.subCombos[i].slice(0);

    for (var j = 0; j < subCombo.length; j += 1) {
      var keyName = subCombo[j];
      var index   = otherSubCombo.indexOf(keyName);

      if (index > -1) {
        otherSubCombo.splice(index, 1);
      }
    }
    if (otherSubCombo.length !== 0) {
      return false;
    }
  }

  return true;
};

KeyCombo._splitStr = function(str, deliminator) {
  var s  = str;
  var d  = deliminator;
  var c  = '';
  var ca = [];

  for (var ci = 0; ci < s.length; ci += 1) {
    if (ci > 0 && s[ci] === d && s[ci - 1] !== '\\') {
      ca.push(c.trim());
      c = '';
      ci += 1;
    }
    c += s[ci];
  }
  if (c) { ca.push(c.trim()); }

  return ca;
};

KeyCombo.prototype._checkSubCombo = function(subCombo, startingKeyNameIndex, pressedKeyNames) {
  subCombo = subCombo.slice(0);
  pressedKeyNames = pressedKeyNames.slice(startingKeyNameIndex);

  var endIndex = startingKeyNameIndex;
  for (var i = 0; i < subCombo.length; i += 1) {

    var keyName = subCombo[i];
    if (keyName[0] === '\\') {
      var escapedKeyName = keyName.slice(1);
      if (
        escapedKeyName === KeyCombo.comboDeliminator ||
        escapedKeyName === KeyCombo.keyDeliminator
      ) {
        keyName = escapedKeyName;
      }
    }

    var index = pressedKeyNames.indexOf(keyName);
    if (index > -1) {
      subCombo.splice(i, 1);
      i -= 1;
      if (index > endIndex) {
        endIndex = index;
      }
      if (subCombo.length === 0) {
        return endIndex;
      }
    }
  }
  return -1;
};


module.exports = KeyCombo;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/keyboardjs/lib/key-combo.js","/node_modules/keyboardjs/lib")
},{"_process":25,"buffer":3,"timers":28}],14:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){

var Locale = require('./locale');
var KeyCombo = require('./key-combo');


function Keyboard(targetWindow, targetElement, platform, userAgent) {
  this._locale               = null;
  this._currentContext       = null;
  this._contexts             = {};
  this._listeners            = [];
  this._appliedListeners     = [];
  this._locales              = {};
  this._targetElement        = null;
  this._targetWindow         = null;
  this._targetPlatform       = '';
  this._targetUserAgent      = '';
  this._isModernBrowser      = false;
  this._targetKeyDownBinding = null;
  this._targetKeyUpBinding   = null;
  this._targetResetBinding   = null;
  this._paused               = false;
  this._callerHandler        = null;

  this.setContext('global');
  this.watch(targetWindow, targetElement, platform, userAgent);
}

Keyboard.prototype.setLocale = function(localeName, localeBuilder) {
  var locale = null;
  if (typeof localeName === 'string') {

    if (localeBuilder) {
      locale = new Locale(localeName);
      localeBuilder(locale, this._targetPlatform, this._targetUserAgent);
    } else {
      locale = this._locales[localeName] || null;
    }
  } else {
    locale     = localeName;
    localeName = locale._localeName;
  }

  this._locale              = locale;
  this._locales[localeName] = locale;
  if (locale) {
    this._locale.pressedKeys = locale.pressedKeys;
  }
};

Keyboard.prototype.getLocale = function(localName) {
  localName || (localName = this._locale.localeName);
  return this._locales[localName] || null;
};

Keyboard.prototype.bind = function(keyComboStr, pressHandler, releaseHandler, preventRepeatByDefault) {
  if (keyComboStr === null || typeof keyComboStr === 'function') {
    preventRepeatByDefault = releaseHandler;
    releaseHandler         = pressHandler;
    pressHandler           = keyComboStr;
    keyComboStr            = null;
  }

  if (
    keyComboStr &&
    typeof keyComboStr === 'object' &&
    typeof keyComboStr.length === 'number'
  ) {
    for (var i = 0; i < keyComboStr.length; i += 1) {
      this.bind(keyComboStr[i], pressHandler, releaseHandler);
    }
    return;
  }

  this._listeners.push({
    keyCombo               : keyComboStr ? new KeyCombo(keyComboStr) : null,
    pressHandler           : pressHandler           || null,
    releaseHandler         : releaseHandler         || null,
    preventRepeat          : preventRepeatByDefault || false,
    preventRepeatByDefault : preventRepeatByDefault || false
  });
};
Keyboard.prototype.addListener = Keyboard.prototype.bind;
Keyboard.prototype.on          = Keyboard.prototype.bind;

Keyboard.prototype.unbind = function(keyComboStr, pressHandler, releaseHandler) {
  if (keyComboStr === null || typeof keyComboStr === 'function') {
    releaseHandler = pressHandler;
    pressHandler   = keyComboStr;
    keyComboStr = null;
  }

  if (
    keyComboStr &&
    typeof keyComboStr === 'object' &&
    typeof keyComboStr.length === 'number'
  ) {
    for (var i = 0; i < keyComboStr.length; i += 1) {
      this.unbind(keyComboStr[i], pressHandler, releaseHandler);
    }
    return;
  }

  for (var i = 0; i < this._listeners.length; i += 1) {
    var listener = this._listeners[i];

    var comboMatches          = !keyComboStr && !listener.keyCombo ||
                                listener.keyCombo && listener.keyCombo.isEqual(keyComboStr);
    var pressHandlerMatches   = !pressHandler && !releaseHandler ||
                                !pressHandler && !listener.pressHandler ||
                                pressHandler === listener.pressHandler;
    var releaseHandlerMatches = !pressHandler && !releaseHandler ||
                                !releaseHandler && !listener.releaseHandler ||
                                releaseHandler === listener.releaseHandler;

    if (comboMatches && pressHandlerMatches && releaseHandlerMatches) {
      this._listeners.splice(i, 1);
      i -= 1;
    }
  }
};
Keyboard.prototype.removeListener = Keyboard.prototype.unbind;
Keyboard.prototype.off            = Keyboard.prototype.unbind;

Keyboard.prototype.setContext = function(contextName) {
  if(this._locale) { this.releaseAllKeys(); }

  if (!this._contexts[contextName]) {
    this._contexts[contextName] = [];
  }
  this._listeners      = this._contexts[contextName];
  this._currentContext = contextName;
};

Keyboard.prototype.getContext = function() {
  return this._currentContext;
};

Keyboard.prototype.withContext = function(contextName, callback) {
  var previousContextName = this.getContext();
  this.setContext(contextName);

  callback();

  this.setContext(previousContextName);
};

Keyboard.prototype.watch = function(targetWindow, targetElement, targetPlatform, targetUserAgent) {
  var _this = this;

  this.stop();

  if (!targetWindow) {
    if (!global.addEventListener && !global.attachEvent) {
      throw new Error('Cannot find global functions addEventListener or attachEvent.');
    }
    targetWindow = global;
  }

  if (typeof targetWindow.nodeType === 'number') {
    targetUserAgent = targetPlatform;
    targetPlatform  = targetElement;
    targetElement   = targetWindow;
    targetWindow    = global;
  }

  if (!targetWindow.addEventListener && !targetWindow.attachEvent) {
    throw new Error('Cannot find addEventListener or attachEvent methods on targetWindow.');
  }

  this._isModernBrowser = !!targetWindow.addEventListener;

  var userAgent = targetWindow.navigator && targetWindow.navigator.userAgent || '';
  var platform  = targetWindow.navigator && targetWindow.navigator.platform  || '';

  targetElement   && targetElement   !== null || (targetElement   = targetWindow.document);
  targetPlatform  && targetPlatform  !== null || (targetPlatform  = platform);
  targetUserAgent && targetUserAgent !== null || (targetUserAgent = userAgent);

  this._targetKeyDownBinding = function(event) {
    _this.pressKey(event.keyCode, event);
    _this._handleCommandBug(event, platform);
  };
  this._targetKeyUpBinding = function(event) {
    _this.releaseKey(event.keyCode, event);
  };
  this._targetResetBinding = function(event) {
    _this.releaseAllKeys(event)
  };

  this._bindEvent(targetElement, 'keydown', this._targetKeyDownBinding);
  this._bindEvent(targetElement, 'keyup',   this._targetKeyUpBinding);
  this._bindEvent(targetWindow,  'focus',   this._targetResetBinding);
  this._bindEvent(targetWindow,  'blur',    this._targetResetBinding);

  this._targetElement   = targetElement;
  this._targetWindow    = targetWindow;
  this._targetPlatform  = targetPlatform;
  this._targetUserAgent = targetUserAgent;
};

Keyboard.prototype.stop = function() {
  var _this = this;

  if (!this._targetElement || !this._targetWindow) { return; }

  this._unbindEvent(this._targetElement, 'keydown', this._targetKeyDownBinding);
  this._unbindEvent(this._targetElement, 'keyup',   this._targetKeyUpBinding);
  this._unbindEvent(this._targetWindow,  'focus',   this._targetResetBinding);
  this._unbindEvent(this._targetWindow,  'blur',    this._targetResetBinding);

  this._targetWindow  = null;
  this._targetElement = null;
};

Keyboard.prototype.pressKey = function(keyCode, event) {
  if (this._paused) { return; }
  if (!this._locale) { throw new Error('Locale not set'); }

  this._locale.pressKey(keyCode);
  this._applyBindings(event);
};

Keyboard.prototype.releaseKey = function(keyCode, event) {
  if (this._paused) { return; }
  if (!this._locale) { throw new Error('Locale not set'); }

  this._locale.releaseKey(keyCode);
  this._clearBindings(event);
};

Keyboard.prototype.releaseAllKeys = function(event) {
  if (this._paused) { return; }
  if (!this._locale) { throw new Error('Locale not set'); }

  this._locale.pressedKeys.length = 0;
  this._clearBindings(event);
};

Keyboard.prototype.pause = function() {
  if (this._paused) { return; }
  if (this._locale) { this.releaseAllKeys(); }
  this._paused = true;
};

Keyboard.prototype.resume = function() {
  this._paused = false;
};

Keyboard.prototype.reset = function() {
  this.releaseAllKeys();
  this._listeners.length = 0;
};

Keyboard.prototype._bindEvent = function(targetElement, eventName, handler) {
  return this._isModernBrowser ?
    targetElement.addEventListener(eventName, handler, false) :
    targetElement.attachEvent('on' + eventName, handler);
};

Keyboard.prototype._unbindEvent = function(targetElement, eventName, handler) {
  return this._isModernBrowser ?
    targetElement.removeEventListener(eventName, handler, false) :
    targetElement.detachEvent('on' + eventName, handler);
};

Keyboard.prototype._getGroupedListeners = function() {
  var listenerGroups   = [];
  var listenerGroupMap = [];

  var listeners = this._listeners;
  if (this._currentContext !== 'global') {
    listeners = [].concat(listeners, this._contexts.global);
  }

  listeners.sort(function(a, b) {
    return (b.keyCombo ? b.keyCombo.keyNames.length : 0) - (a.keyCombo ? a.keyCombo.keyNames.length : 0);
  }).forEach(function(l) {
    var mapIndex = -1;
    for (var i = 0; i < listenerGroupMap.length; i += 1) {
      if (listenerGroupMap[i] === null && l.keyCombo === null ||
          listenerGroupMap[i] !== null && listenerGroupMap[i].isEqual(l.keyCombo)) {
        mapIndex = i;
      }
    }
    if (mapIndex === -1) {
      mapIndex = listenerGroupMap.length;
      listenerGroupMap.push(l.keyCombo);
    }
    if (!listenerGroups[mapIndex]) {
      listenerGroups[mapIndex] = [];
    }
    listenerGroups[mapIndex].push(l);
  });
  return listenerGroups;
};

Keyboard.prototype._applyBindings = function(event) {
  var preventRepeat = false;

  event || (event = {});
  event.preventRepeat = function() { preventRepeat = true; };
  event.pressedKeys   = this._locale.pressedKeys.slice(0);

  var pressedKeys    = this._locale.pressedKeys.slice(0);
  var listenerGroups = this._getGroupedListeners();


  for (var i = 0; i < listenerGroups.length; i += 1) {
    var listeners = listenerGroups[i];
    var keyCombo  = listeners[0].keyCombo;

    if (keyCombo === null || keyCombo.check(pressedKeys)) {
      for (var j = 0; j < listeners.length; j += 1) {
        var listener = listeners[j];

        if (keyCombo === null) {
          listener = {
            keyCombo               : new KeyCombo(pressedKeys.join('+')),
            pressHandler           : listener.pressHandler,
            releaseHandler         : listener.releaseHandler,
            preventRepeat          : listener.preventRepeat,
            preventRepeatByDefault : listener.preventRepeatByDefault
          };
        }
        if (listener.pressHandler && !listener.preventRepeat && (!keyCombo || !event.keyCode || keyCombo.keyNames.indexOf(this._locale.getKeyNames(event.keyCode)[0]) !== -1)) {
          listener.pressHandler.call(this, event);
          if (preventRepeat) {
            listener.preventRepeat = preventRepeat;
            preventRepeat          = false;
          }
        }

        if (listener.releaseHandler && this._appliedListeners.indexOf(listener) === -1) {
          this._appliedListeners.push(listener);
        }
      }

      if (keyCombo) {
        for (var j = 0; j < keyCombo.keyNames.length; j += 1) {
          var index = pressedKeys.indexOf(keyCombo.keyNames[j]);
          if (index !== -1) {
            pressedKeys.splice(index, 1);
            j -= 1;
          }
        }
      }
    }
  }
};

Keyboard.prototype._clearBindings = function(event) {
  event || (event = {});

  for (var i = 0; i < this._appliedListeners.length; i += 1) {
    var listener = this._appliedListeners[i];
    var keyCombo = listener.keyCombo;
    if (keyCombo === null || !keyCombo.check(this._locale.pressedKeys)) {
      if (this._callerHandler !== listener.releaseHandler) {
        var oldCaller = this._callerHandler;
        this._callerHandler = listener.releaseHandler;
        listener.preventRepeat = listener.preventRepeatByDefault;
        listener.releaseHandler.call(this, event);
        this._callerHandler = oldCaller;
      }
      this._appliedListeners.splice(i, 1);
      i -= 1;
    }
  }
};

Keyboard.prototype._handleCommandBug = function(event, platform) {
  // On Mac when the command key is kept pressed, keyup is not triggered for any other key.
  // In this case force a keyup for non-modifier keys directly after the keypress.
  var modifierKeys = ["shift", "ctrl", "alt", "capslock", "tab", "command"];
  if (platform.match("Mac") && this._locale.pressedKeys.includes("command") &&
      !modifierKeys.includes(this._locale.getKeyNames(event.keyCode)[0])) {
    this._targetKeyUpBinding(event);
  }
};

module.exports = Keyboard;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/keyboardjs/lib/keyboard.js","/node_modules/keyboardjs/lib")
},{"./key-combo":13,"./locale":15,"_process":25,"buffer":3,"timers":28}],15:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){

var KeyCombo = require('./key-combo');


function Locale(name) {
  this.localeName     = name;
  this.pressedKeys    = [];
  this._appliedMacros = [];
  this._keyMap        = {};
  this._killKeyCodes  = [];
  this._macros        = [];
}

Locale.prototype.bindKeyCode = function(keyCode, keyNames) {
  if (typeof keyNames === 'string') {
    keyNames = [keyNames];
  }

  this._keyMap[keyCode] = keyNames;
};

Locale.prototype.bindMacro = function(keyComboStr, keyNames) {
  if (typeof keyNames === 'string') {
    keyNames = [ keyNames ];
  }

  var handler = null;
  if (typeof keyNames === 'function') {
    handler = keyNames;
    keyNames = null;
  }

  var macro = {
    keyCombo : new KeyCombo(keyComboStr),
    keyNames : keyNames,
    handler  : handler
  };

  this._macros.push(macro);
};

Locale.prototype.getKeyCodes = function(keyName) {
  var keyCodes = [];
  for (var keyCode in this._keyMap) {
    var index = this._keyMap[keyCode].indexOf(keyName);
    if (index > -1) { keyCodes.push(keyCode|0); }
  }
  return keyCodes;
};

Locale.prototype.getKeyNames = function(keyCode) {
  return this._keyMap[keyCode] || [];
};

Locale.prototype.setKillKey = function(keyCode) {
  if (typeof keyCode === 'string') {
    var keyCodes = this.getKeyCodes(keyCode);
    for (var i = 0; i < keyCodes.length; i += 1) {
      this.setKillKey(keyCodes[i]);
    }
    return;
  }

  this._killKeyCodes.push(keyCode);
};

Locale.prototype.pressKey = function(keyCode) {
  if (typeof keyCode === 'string') {
    var keyCodes = this.getKeyCodes(keyCode);
    for (var i = 0; i < keyCodes.length; i += 1) {
      this.pressKey(keyCodes[i]);
    }
    return;
  }

  var keyNames = this.getKeyNames(keyCode);
  for (var i = 0; i < keyNames.length; i += 1) {
    if (this.pressedKeys.indexOf(keyNames[i]) === -1) {
      this.pressedKeys.push(keyNames[i]);
    }
  }

  this._applyMacros();
};

Locale.prototype.releaseKey = function(keyCode) {
  if (typeof keyCode === 'string') {
    var keyCodes = this.getKeyCodes(keyCode);
    for (var i = 0; i < keyCodes.length; i += 1) {
      this.releaseKey(keyCodes[i]);
    }
  }

  else {
    var keyNames         = this.getKeyNames(keyCode);
    var killKeyCodeIndex = this._killKeyCodes.indexOf(keyCode);
    
    if (killKeyCodeIndex > -1) {
      this.pressedKeys.length = 0;
    } else {
      for (var i = 0; i < keyNames.length; i += 1) {
        var index = this.pressedKeys.indexOf(keyNames[i]);
        if (index > -1) {
          this.pressedKeys.splice(index, 1);
        }
      }
    }

    this._clearMacros();
  }
};

Locale.prototype._applyMacros = function() {
  var macros = this._macros.slice(0);
  for (var i = 0; i < macros.length; i += 1) {
    var macro = macros[i];
    if (macro.keyCombo.check(this.pressedKeys)) {
      if (macro.handler) {
        macro.keyNames = macro.handler(this.pressedKeys);
      }
      for (var j = 0; j < macro.keyNames.length; j += 1) {
        if (this.pressedKeys.indexOf(macro.keyNames[j]) === -1) {
          this.pressedKeys.push(macro.keyNames[j]);
        }
      }
      this._appliedMacros.push(macro);
    }
  }
};

Locale.prototype._clearMacros = function() {
  for (var i = 0; i < this._appliedMacros.length; i += 1) {
    var macro = this._appliedMacros[i];
    if (!macro.keyCombo.check(this.pressedKeys)) {
      for (var j = 0; j < macro.keyNames.length; j += 1) {
        var index = this.pressedKeys.indexOf(macro.keyNames[j]);
        if (index > -1) {
          this.pressedKeys.splice(index, 1);
        }
      }
      if (macro.handler) {
        macro.keyNames = null;
      }
      this._appliedMacros.splice(i, 1);
      i -= 1;
    }
  }
};


module.exports = Locale;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/keyboardjs/lib/locale.js","/node_modules/keyboardjs/lib")
},{"./key-combo":13,"_process":25,"buffer":3,"timers":28}],16:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){

module.exports = function(locale, platform, userAgent) {

  // general
  locale.bindKeyCode(3,   ['cancel']);
  locale.bindKeyCode(8,   ['backspace']);
  locale.bindKeyCode(9,   ['tab']);
  locale.bindKeyCode(12,  ['clear']);
  locale.bindKeyCode(13,  ['enter']);
  locale.bindKeyCode(16,  ['shift']);
  locale.bindKeyCode(17,  ['ctrl']);
  locale.bindKeyCode(18,  ['alt', 'menu']);
  locale.bindKeyCode(19,  ['pause', 'break']);
  locale.bindKeyCode(20,  ['capslock']);
  locale.bindKeyCode(27,  ['escape', 'esc']);
  locale.bindKeyCode(32,  ['space', 'spacebar']);
  locale.bindKeyCode(33,  ['pageup']);
  locale.bindKeyCode(34,  ['pagedown']);
  locale.bindKeyCode(35,  ['end']);
  locale.bindKeyCode(36,  ['home']);
  locale.bindKeyCode(37,  ['left']);
  locale.bindKeyCode(38,  ['up']);
  locale.bindKeyCode(39,  ['right']);
  locale.bindKeyCode(40,  ['down']);
  locale.bindKeyCode(41,  ['select']);
  locale.bindKeyCode(42,  ['printscreen']);
  locale.bindKeyCode(43,  ['execute']);
  locale.bindKeyCode(44,  ['snapshot']);
  locale.bindKeyCode(45,  ['insert', 'ins']);
  locale.bindKeyCode(46,  ['delete', 'del']);
  locale.bindKeyCode(47,  ['help']);
  locale.bindKeyCode(145, ['scrolllock', 'scroll']);
  locale.bindKeyCode(187, ['equal', 'equalsign', '=']);
  locale.bindKeyCode(188, ['comma', ',']);
  locale.bindKeyCode(190, ['period', '.']);
  locale.bindKeyCode(191, ['slash', 'forwardslash', '/']);
  locale.bindKeyCode(192, ['graveaccent', '`']);
  locale.bindKeyCode(219, ['openbracket', '[']);
  locale.bindKeyCode(220, ['backslash', '\\']);
  locale.bindKeyCode(221, ['closebracket', ']']);
  locale.bindKeyCode(222, ['apostrophe', '\'']);

  // 0-9
  locale.bindKeyCode(48, ['zero', '0']);
  locale.bindKeyCode(49, ['one', '1']);
  locale.bindKeyCode(50, ['two', '2']);
  locale.bindKeyCode(51, ['three', '3']);
  locale.bindKeyCode(52, ['four', '4']);
  locale.bindKeyCode(53, ['five', '5']);
  locale.bindKeyCode(54, ['six', '6']);
  locale.bindKeyCode(55, ['seven', '7']);
  locale.bindKeyCode(56, ['eight', '8']);
  locale.bindKeyCode(57, ['nine', '9']);

  // numpad
  locale.bindKeyCode(96, ['numzero', 'num0']);
  locale.bindKeyCode(97, ['numone', 'num1']);
  locale.bindKeyCode(98, ['numtwo', 'num2']);
  locale.bindKeyCode(99, ['numthree', 'num3']);
  locale.bindKeyCode(100, ['numfour', 'num4']);
  locale.bindKeyCode(101, ['numfive', 'num5']);
  locale.bindKeyCode(102, ['numsix', 'num6']);
  locale.bindKeyCode(103, ['numseven', 'num7']);
  locale.bindKeyCode(104, ['numeight', 'num8']);
  locale.bindKeyCode(105, ['numnine', 'num9']);
  locale.bindKeyCode(106, ['nummultiply', 'num*']);
  locale.bindKeyCode(107, ['numadd', 'num+']);
  locale.bindKeyCode(108, ['numenter']);
  locale.bindKeyCode(109, ['numsubtract', 'num-']);
  locale.bindKeyCode(110, ['numdecimal', 'num.']);
  locale.bindKeyCode(111, ['numdivide', 'num/']);
  locale.bindKeyCode(144, ['numlock', 'num']);

  // function keys
  locale.bindKeyCode(112, ['f1']);
  locale.bindKeyCode(113, ['f2']);
  locale.bindKeyCode(114, ['f3']);
  locale.bindKeyCode(115, ['f4']);
  locale.bindKeyCode(116, ['f5']);
  locale.bindKeyCode(117, ['f6']);
  locale.bindKeyCode(118, ['f7']);
  locale.bindKeyCode(119, ['f8']);
  locale.bindKeyCode(120, ['f9']);
  locale.bindKeyCode(121, ['f10']);
  locale.bindKeyCode(122, ['f11']);
  locale.bindKeyCode(123, ['f12']);

  // secondary key symbols
  locale.bindMacro('shift + `', ['tilde', '~']);
  locale.bindMacro('shift + 1', ['exclamation', 'exclamationpoint', '!']);
  locale.bindMacro('shift + 2', ['at', '@']);
  locale.bindMacro('shift + 3', ['number', '#']);
  locale.bindMacro('shift + 4', ['dollar', 'dollars', 'dollarsign', '$']);
  locale.bindMacro('shift + 5', ['percent', '%']);
  locale.bindMacro('shift + 6', ['caret', '^']);
  locale.bindMacro('shift + 7', ['ampersand', 'and', '&']);
  locale.bindMacro('shift + 8', ['asterisk', '*']);
  locale.bindMacro('shift + 9', ['openparen', '(']);
  locale.bindMacro('shift + 0', ['closeparen', ')']);
  locale.bindMacro('shift + -', ['underscore', '_']);
  locale.bindMacro('shift + =', ['plus', '+']);
  locale.bindMacro('shift + [', ['opencurlybrace', 'opencurlybracket', '{']);
  locale.bindMacro('shift + ]', ['closecurlybrace', 'closecurlybracket', '}']);
  locale.bindMacro('shift + \\', ['verticalbar', '|']);
  locale.bindMacro('shift + ;', ['colon', ':']);
  locale.bindMacro('shift + \'', ['quotationmark', '\'']);
  locale.bindMacro('shift + !,', ['openanglebracket', '<']);
  locale.bindMacro('shift + .', ['closeanglebracket', '>']);
  locale.bindMacro('shift + /', ['questionmark', '?']);
  
  if (platform.match('Mac')) {
    locale.bindMacro('command', ['mod', 'modifier']);
  } else {
    locale.bindMacro('ctrl', ['mod', 'modifier']);
  }

  //a-z and A-Z
  for (var keyCode = 65; keyCode <= 90; keyCode += 1) {
    var keyName = String.fromCharCode(keyCode + 32);
    var capitalKeyName = String.fromCharCode(keyCode);
  	locale.bindKeyCode(keyCode, keyName);
  	locale.bindMacro('shift + ' + keyName, capitalKeyName);
  	locale.bindMacro('capslock + ' + keyName, capitalKeyName);
  }

  // browser caveats
  var semicolonKeyCode = userAgent.match('Firefox') ? 59  : 186;
  var dashKeyCode      = userAgent.match('Firefox') ? 173 : 189;
  var leftCommandKeyCode;
  var rightCommandKeyCode;
  if (platform.match('Mac') && (userAgent.match('Safari') || userAgent.match('Chrome'))) {
    leftCommandKeyCode  = 91;
    rightCommandKeyCode = 93;
  } else if(platform.match('Mac') && userAgent.match('Opera')) {
    leftCommandKeyCode  = 17;
    rightCommandKeyCode = 17;
  } else if(platform.match('Mac') && userAgent.match('Firefox')) {
    leftCommandKeyCode  = 224;
    rightCommandKeyCode = 224;
  }
  locale.bindKeyCode(semicolonKeyCode,    ['semicolon', ';']);
  locale.bindKeyCode(dashKeyCode,         ['dash', '-']);
  locale.bindKeyCode(leftCommandKeyCode,  ['command', 'windows', 'win', 'super', 'leftcommand', 'leftwindows', 'leftwin', 'leftsuper']);
  locale.bindKeyCode(rightCommandKeyCode, ['command', 'windows', 'win', 'super', 'rightcommand', 'rightwindows', 'rightwin', 'rightsuper']);

  // kill keys
  locale.setKillKey('command');
};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/keyboardjs/locales/us.js","/node_modules/keyboardjs/locales")
},{"_process":25,"buffer":3,"timers":28}],17:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
/**
 * math.js
 * https://github.com/josdejong/mathjs
 *
 * Math.js is an extensive math library for JavaScript and Node.js,
 * It features real and complex numbers, units, matrices, a large set of
 * mathematical functions, and a flexible expression parser.
 *
 * @version 5.0.4
 * @date    2018-07-22
 *
 * @license
 * Copyright (C) 2013-2018 Jos de Jong <wjosdejong@gmail.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.math=t():e.math=t()}(this,function(){return function(r){var n={};function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=r,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=570)}([function(e,t,r){"use strict";e.exports=function t(e,r,n){return e&&"function"==typeof e.map?e.map(function(e){return t(e,r,n)}):r(e)}},function(e,t,r){"use strict";t.name="matrix",t.factory=function(n,e,t,r){var i=r("matrix",{"":function(){return o([])},string:function(e){return o([],e)},"string, string":function(e,t){return o([],e,t)},Array:function(e){return o(e)},Matrix:function(e){return o(e,e.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});return i.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},i;function o(e,t,r){return new(n.Matrix.storage(t||"default"))(e,r)}}},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.size=function(e){var t=[];for(;Array.isArray(e);)t.push(e.length),e=e[0];return t},s.validate=function(e,t){if(0===t.length){if(Array.isArray(e))throw new u.default(e.length,0)}else!function e(t,r,n){var i=void 0;var o=t.length;if(o!==r[n])throw new u.default(o,r[n]);if(n<r.length-1){var a=n+1;for(i=0;i<o;i++){var s=t[i];if(!Array.isArray(s))throw new u.default(r.length-1,r.length,"<");e(t[i],r,a)}}else for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new u.default(r.length+1,r.length,">")}(e,t,0)},s.resize=function(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");t.forEach(function(e){if(!i.default.isNumber(e)||!i.default.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+o.default.format(t)+")")});var n=void 0!==r?r:0;return function e(t,r,n,i){var o=void 0,a=void 0,s=t.length,u=r[n],c=Math.min(s,u);if(t.length=u,n<r.length-1){var f=n+1;for(o=0;o<c;o++)a=t[o],Array.isArray(a)||(a=[a],t[o]=a),e(a,r,f,i);for(o=c;o<u;o++)a=[],t[o]=a,e(a,r,f,i)}else{for(o=0;o<c;o++)for(;Array.isArray(t[o]);)t[o]=t[o][0];for(o=c;o<u;o++)t[o]=i}}(e,t,0,n),e},s.reshape=function(t,r){var e=s.flatten(t),n=void 0;function i(e){return e.reduce(function(e,t){return e*t})}if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new u.default(0,i(s.size(t)),"!=");for(var o=1,a=0;a<r.length;a++)o*=r[a];if(e.length!==o)throw new u.default(i(r),i(s.size(t)),"!=");try{n=function(e,t){for(var r,n=e,i=t.length-1;0<i;i--){var o=t[i];r=[];for(var a=n.length/o,s=0;s<a;s++)r.push(n.slice(s*o,(s+1)*o));n=r}return n}(e,r)}catch(e){if(e instanceof u.default)throw new u.default(i(r),i(s.size(t)),"!=");throw e}return n},s.unsqueeze=function(e,t,r,n){var i=n||s.size(e);if(r)for(var o=0;o<r;o++)e=[e],i.unshift(1);e=function e(t,r,n){var i=void 0,o=void 0;if(Array.isArray(t)){var a=n+1;for(i=0,o=t.length;i<o;i++)t[i]=e(t[i],r,a)}else for(var s=n;s<r;s++)t=[t];return t}(e,t,0);for(;i.length<t;)i.push(1);return e},s.flatten=function(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function e(t){Array.isArray(t)?t.forEach(e):r.push(t)}),r},s.map=function(e,t){return Array.prototype.map.call(e,t)},s.forEach=function(e,t){Array.prototype.forEach.call(e,t)},s.filter=function(e,t){if(1!==s.size(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)},s.filterRegExp=function(e,t){if(1!==s.size(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,function(e){return t.test(e)})},s.join=function(e,t){return Array.prototype.join.call(e,t)},s.identify=function(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],r=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?r++:r=0,t.push({value:e[n],identifier:r});return t};var i=n(t(3)),o=n(t(9)),u=n(t(11)),r=n(t(58));function n(e){return e&&e.__esModule?e:{default:e}}s.validateIndex=function(e,t){if(!i.default.isNumber(e)||!i.default.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&t<=e)throw new r.default(e,t)},s.squeeze=function(e,t){for(var r=t||s.size(e);Array.isArray(e)&&1===e.length;)e=e[0],r.shift();for(var n=r.length;1===r[n-1];)n--;return n<r.length&&(e=function e(t,r,n){var i=void 0,o=void 0;if(n<r){var a=n+1;for(i=0,o=t.length;i<o;i++)t[i]=e(t[i],r,a)}else for(;Array.isArray(t);)t=t[0];return t}(e,n,0),r.length=n),e},s.generalize=function(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],r=0;r<e.length;r++)t.push(e[r].value);return t},s.isArray=Array.isArray},function(e,p,t){"use strict";var o=t(5);function m(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}p.isNumber=function(e){return"number"==typeof e},p.isInteger=function(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)},p.sign=Math.sign||function(e){return 0<e?1:e<0?-1:0},p.format=function(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r="auto",n=void 0;switch(t&&(t.notation&&(r=t.notation),p.isNumber(t)?n=t:t.precision&&(n=t.precision)),r){case"fixed":return p.toFixed(e,n);case"exponential":return p.toExponential(e,n);case"engineering":return p.toEngineering(e,n);case"auto":if(t&&t.exponential&&(void 0!==t.exponential.lower||void 0!==t.exponential.upper)){var i=o.map(t,function(e){return e});return(i.exponential=void 0)!==t.exponential.lower&&(i.lowerExp=Math.round(Math.log(t.exponential.lower)/Math.LN10)),void 0!==t.exponential.upper&&(i.upperExp=Math.round(Math.log(t.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(t)+" with "+JSON.stringify(i)),p.toPrecision(e,n,i)}return p.toPrecision(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},p.splitNumber=function(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),o=n.indexOf(".");i+=-1!==o?o-1:n.length-1;var a=n.replace(".","").replace(/^0*/,function(e){return i-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===a.length&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}},p.toEngineering=function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=p.roundDigits(p.splitNumber(e),t),n=r.exponent,i=r.coefficients,o=n%3==0?n:n<0?n-3-n%3:n-n%3;if(p.isNumber(t))t>i.length&&(i=i.concat(m(t-i.length)));else{var a=0<=n?n:Math.abs(o);i.length-1<a&&(i=i.concat(m(a-(i.length-1))))}for(var s=Math.abs(n-o),u=1;0<=--s;)u++;var c=i.slice(u).join(""),f=p.isNumber(t)&&c.length||c.match(/[1-9]/)?"."+c:"",l=i.slice(0,u).join("")+f+"e"+(0<=n?"+":"")+o.toString();return r.sign+l},p.toFixed=function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=p.splitNumber(e),n="number"==typeof t?p.roundDigits(r,r.exponent+1+t):r,i=n.coefficients,o=n.exponent+1,a=o+(t||0);return i.length<a&&(i=i.concat(m(a-i.length))),o<0&&(i=m(1-o).concat(i),o=1),o<i.length&&i.splice(o,0,0===o?"0.":"."),n.sign+i.join("")},p.toExponential=function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=p.splitNumber(e),n=t?p.roundDigits(r,t):r,i=n.coefficients,o=n.exponent;i.length<t&&(i=i.concat(m(t-i.length)));var a=i.shift();return n.sign+a+(0<i.length?"."+i.join(""):"")+"e"+(0<=o?"+":"")+o},p.toPrecision=function(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,i=r&&void 0!==r.upperExp?r.upperExp:5,o=p.splitNumber(e);if(o.exponent<n||o.exponent>=i)return p.toExponential(e,t);var a=t?p.roundDigits(o,t):o,s=a.coefficients,u=a.exponent;s.length<t&&(s=s.concat(m(t-s.length))),s=s.concat(m(u-s.length+1+(s.length<t?t-s.length:0)));var c=0<u?u:0;return c<(s=m(-u).concat(s)).length-1&&s.splice(c+1,0,"."),a.sign+s.join("")},p.roundDigits=function(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t&&5<=n.splice(t,n.length-t)[0]){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++}return r},p.digits=function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},p.DBL_EPSILON=Number.EPSILON||2220446049250313e-31,p.nearlyEqual=function(e,t,r){if(null==r)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var n=Math.abs(e-t);return n<p.DBL_EPSILON||n<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}},function(e,r,t){"use strict";var n=t(549);r.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},r.operators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},r.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var i={deg:"^\\circ"};r.escape=function(e){return n(e,{preserveFormatting:!0})},r.toSymbol=function(e,t){return(t=void 0!==t&&t)?i.hasOwnProperty(e)?i[e]:"\\mathrm{"+r.escape(e)+"}":r.symbols.hasOwnProperty(e)?r.symbols[e]:r.escape(e)}},function(e,o,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=t(92);o.clone=function t(e){var r=void 0===e?"undefined":n(e);if("number"===r||"string"===r||"boolean"===r||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return t(e)});if(e instanceof Date)return new Date(e.valueOf());if(i(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return o.map(e,t)},o.map=function(e,t){var r={};for(var n in e)o.hasOwnProperty(e,n)&&(r[n]=t(e[n]));return r},o.extend=function(e,t){for(var r in t)o.hasOwnProperty(t,r)&&(e[r]=t[r]);return e},o.deepExtend=function e(t,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var n in r)if(o.hasOwnProperty(r,n))if(r[n]&&r[n].constructor===Object)void 0===t[n]&&(t[n]={}),t[n].constructor===Object?e(t[n],r[n]):t[n]=r[n];else{if(Array.isArray(r[n]))throw new TypeError("Arrays are not supported by deepExtend");t[n]=r[n]}return t},o.deepEqual=function(e,t){var r=void 0,n=void 0,i=void 0;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!o.deepEqual(e[n],t[n]))return!1;return!0}if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!o.deepEqual(e[r],t[r]))return!1;for(r in t)if(!o.deepEqual(e[r],t[r]))return!1;return!0}return e===t},o.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(e){}return!1},o.lazy=function(e,t,r){if(o.canDefineProperty()){var n=!0,i=void 0;Object.defineProperty(e,t,{get:function(){return n&&(i=r(),n=!1),i},set:function(e){i=e,n=!1},configurable:!0,enumerable:!0})}else e[t]=r()},o.traverse=function(e,t){var r=e;if(t)for(var n=t.split("."),i=0;i<n.length;i++){var o=n[i];o in r||(r[o]={}),r=r[o]}return r},o.hasOwnProperty=function(e,t){return e&&Object.hasOwnProperty.call(e,t)},o.isFactory=function(e){return e&&"function"==typeof e.factory}},function(e,t,r){"use strict";var p=r(5).clone;t.name="algorithm14",t.factory=function(e,t,r,f){var l=e.DenseMatrix;return function(e,t,r,n){var i=e._data,o=e._size,a=e._datatype,s=void 0,u=r;"string"==typeof a&&(s=a,t=f.convert(t,s),u=f.find(r,[s,s]));var c=0<o.length?function e(t,r,n,i,o,a,s){var u=[];if(r===n.length-1)for(var c=0;c<i;c++)u[c]=s?t(a,o[c]):t(o[c],a);else for(var f=0;f<i;f++)u[f]=e(t,r+1,n,n[r+1],o[f],a,s);return u}(u,0,o,o[0],i,t,n):[];return new l({data:c,size:p(o),datatype:s})}}},function(e,t,r){"use strict";var v=r(11);t.name="algorithm13",t.factory=function(e,t,r,h){var d=e.DenseMatrix;return function(e,t,r){var n=e._data,i=e._size,o=e._datatype,a=t._data,s=t._size,u=t._datatype,c=[];if(i.length!==s.length)throw new v(i.length,s.length);for(var f=0;f<i.length;f++){if(i[f]!==s[f])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+s+")");c[f]=i[f]}var l=void 0,p=r;"string"==typeof o&&o===u&&(l=o,p=h.find(r,[l,l]));var m=0<c.length?function e(t,r,n,i,o,a){var s=[];if(r===n.length-1)for(var u=0;u<i;u++)s[u]=t(o[u],a[u]);else for(var c=0;c<i;c++)s[c]=e(t,r+1,n,n[r+1],o[c],a[c]);return s}(p,0,c,c[0],n,a):[];return new d({data:m,size:c,datatype:l})}}},function(e,t,l){"use strict";var p=l(5).extend,m=l(2);t.name="multiply",t.factory=function(n,e,t,R){var r=l(4),i=t(l(1)),U=t(l(20)),q=t(l(21)),k=t(l(10)),o=t(l(17)),a=t(l(6)),b=n.DenseMatrix,D=n.SparseMatrix,s=R("multiply",p({"Array, Array":function(e,t){u(m.size(e),m.size(t));var r=s(i(e),i(t));return n.isMatrix(r)?r.valueOf():r},"Matrix, Matrix":function(e,t){var r=e.size(),n=t.size();return u(r,n),1===r.length?1===n.length?function(e,t,r){if(0===r)throw new Error("Cannot multiply two empty vectors");var n=e._data,i=e._datatype,o=t._data,a=t._datatype,s=void 0,u=U,c=q;i&&a&&i===a&&"string"==typeof i&&(s=i,u=R.find(U,[s,s]),c=R.find(q,[s,s]));for(var f=c(n[0],o[0]),l=1;l<r;l++)f=u(f,c(n[l],o[l]));return f}(e,t,r[0]):function(e,t){if("dense"!==t.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,t){var r=e._data,n=e._size,i=e._datatype,o=t._data,a=t._size,s=t._datatype,u=n[0],c=a[1],f=void 0,l=U,p=q;i&&s&&i===s&&"string"==typeof i&&(f=i,l=R.find(U,[f,f]),p=R.find(q,[f,f]));for(var m=[],h=0;h<c;h++){for(var d=p(r[0],o[0][h]),v=1;v<u;v++)d=l(d,p(r[v],o[v][h]));m[h]=d}return new b({data:m,size:[c],datatype:f})}(e,t)}(e,t):1===n.length?c(e,t):f(e,t)},"Matrix, Array":function(e,t){return s(e,i(t))},"Array, Matrix":function(e,t){return s(i(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return o(e,t,q,!1)},"DenseMatrix, any":function(e,t){return a(e,t,q,!1)},"any, SparseMatrix":function(e,t){return o(t,e,q,!0)},"any, DenseMatrix":function(e,t){return a(t,e,q,!0)},"Array, any":function(e,t){return a(i(e),t,q,!1).valueOf()},"any, Array":function(e,t){return a(i(t),e,q,!0).valueOf()},"any, any":q,"any, any, ...any":function(e,t,r){for(var n=s(e,t),i=0;i<r.length;i++)n=s(n,r[i]);return n}},q.signatures));function u(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}var c=R("_multiplyMatrixVector",{"DenseMatrix, any":function(e,t){var r=e._data,n=e._size,i=e._datatype,o=t._data,a=t._datatype,s=n[0],u=n[1],c=void 0,f=U,l=q;i&&a&&i===a&&"string"==typeof i&&(c=i,f=R.find(U,[c,c]),l=R.find(q,[c,c]));for(var p=[],m=0;m<s;m++){for(var h=r[m],d=l(h[0],o[0]),v=1;v<u;v++)d=f(d,l(h[v],o[v]));p[m]=d}return new b({data:p,size:[s],datatype:c})},"SparseMatrix, any":function(e,t){var r=e._values,n=e._index,i=e._ptr,o=e._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var a=t._data,s=t._datatype,u=e._size[0],c=t._size[0],f=[],l=[],p=[],m=void 0,h=U,d=q,v=k,y=0;o&&s&&o===s&&"string"==typeof o&&(m=o,h=R.find(U,[m,m]),d=R.find(q,[m,m]),v=R.find(k,[m,m]),y=R.convert(0,m));for(var g=[],x=[],b=p[0]=0;b<c;b++){var w=a[b];if(!v(w,y))for(var N=i[b],M=i[b+1],E=N;E<M;E++){var A=n[E];x[A]?g[A]=h(g[A],d(w,r[E])):(x[A]=!0,l.push(A),g[A]=d(w,r[E]))}}for(var S=l.length,O=0;O<S;O++){var T=l[O];f[O]=g[T]}return p[1]=l.length,new D({values:f,index:l,ptr:p,size:[u,1],datatype:m})}}),f=R("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,t){var r=e._data,n=e._size,i=e._datatype,o=t._data,a=t._size,s=t._datatype,u=n[0],c=n[1],f=a[1],l=void 0,p=U,m=q;i&&s&&i===s&&"string"==typeof i&&(l=i,p=R.find(U,[l,l]),m=R.find(q,[l,l]));for(var h=[],d=0;d<u;d++){var v=r[d];h[d]=[];for(var y=0;y<f;y++){for(var g=m(v[0],o[0][y]),x=1;x<c;x++)g=p(g,m(v[x],o[x][y]));h[d][y]=g}}return new b({data:h,size:[u,f],datatype:l})},"DenseMatrix, SparseMatrix":function(e,t){var r=e._data,n=e._size,i=e._datatype,o=t._values,a=t._index,s=t._ptr,u=t._size,c=t._datatype;if(!o)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var f=n[0],l=u[1],p=void 0,m=U,h=q,d=k,v=0;i&&c&&i===c&&"string"==typeof i&&(p=i,m=R.find(U,[p,p]),h=R.find(q,[p,p]),d=R.find(k,[p,p]),v=R.convert(0,p));for(var y=[],g=[],x=[],b=new D({values:y,index:g,ptr:x,size:[f,l],datatype:p}),w=0;w<l;w++){x[w]=g.length;var N=s[w],M=s[w+1];if(N<M)for(var E=0,A=0;A<f;A++){for(var S=A+1,O=void 0,T=N;T<M;T++){var _=a[T];E!==S?(O=h(r[A][_],o[T]),E=S):O=m(O,h(r[A][_],o[T]))}E!==S||d(O,v)||(g.push(A),y.push(O))}}return x[l]=g.length,b},"SparseMatrix, DenseMatrix":function(e,t){var r=e._values,n=e._index,i=e._ptr,o=e._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var a=t._data,s=t._datatype,u=e._size[0],c=t._size[0],f=t._size[1],l=void 0,p=U,m=q,h=k,d=0;o&&s&&o===s&&"string"==typeof o&&(l=o,p=R.find(U,[l,l]),m=R.find(q,[l,l]),h=R.find(k,[l,l]),d=R.convert(0,l));for(var v=[],y=[],g=[],x=new D({values:v,index:y,ptr:g,size:[u,f],datatype:l}),b=[],w=[],N=0;N<f;N++){g[N]=y.length;for(var M=N+1,E=0;E<c;E++){var A=a[E][N];if(!h(A,d))for(var S=i[E],O=i[E+1],T=S;T<O;T++){var _=n[T];w[_]!==M?(w[_]=M,y.push(_),b[_]=m(A,r[T])):b[_]=p(b[_],m(A,r[T]))}}for(var C=g[N],z=y.length,B=C;B<z;B++){var I=y[B];v[B]=b[I]}}return g[f]=y.length,x},"SparseMatrix, SparseMatrix":function(e,t){var r=e._values,n=e._index,i=e._ptr,o=e._datatype,a=t._values,s=t._index,u=t._ptr,c=t._datatype,f=e._size[0],l=t._size[1],p=r&&a,m=void 0,h=U,d=q;o&&c&&o===c&&"string"==typeof o&&(m=o,h=R.find(U,[m,m]),d=R.find(q,[m,m]));for(var v=p?[]:void 0,y=[],g=[],x=new D({values:v,index:y,ptr:g,size:[f,l],datatype:m}),b=p?[]:void 0,w=[],N=void 0,M=void 0,E=void 0,A=void 0,S=void 0,O=void 0,T=void 0,_=void 0,C=0;C<l;C++){g[C]=y.length;var z=C+1;for(S=u[C],O=u[C+1],A=S;A<O;A++)if(_=s[A],p)for(M=i[_],E=i[_+1],N=M;N<E;N++)T=n[N],w[T]!==z?(w[T]=z,y.push(T),b[T]=d(a[A],r[N])):b[T]=h(b[T],d(a[A],r[N]));else for(M=i[_],E=i[_+1],N=M;N<E;N++)T=n[N],w[T]!==z&&(w[T]=z,y.push(T));if(p)for(var B=g[C],I=y.length,k=B;k<I;k++){var P=y[k];v[k]=b[P]}}return g[l]=y.length,x}});return s.toTex={2:"\\left(${args[0]}"+r.operators.multiply+"${args[1]}\\right)"},s}},function(e,a,t){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=t(3).format,u=t(554).format,c=t(92);a.isString=function(e){return"string"==typeof e},a.endsWith=function(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t},a.format=function(e,t){if("number"==typeof e)return s(e,t);if(c(e))return u(e,t);if((r=e)&&"object"===(void 0===r?"undefined":o(r))&&"number"==typeof r.s&&"number"==typeof r.n&&"number"==typeof r.d)return t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d;var r;if(Array.isArray(e))return function e(t,r){{if(Array.isArray(t)){for(var n="[",i=t.length,o=0;o<i;o++)0!==o&&(n+=", "),n+=e(t[o],r);return n+="]"}return a.format(t,r)}}(e,t);if(a.isString(e))return'"'+e+'"';if("function"==typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"===(void 0===e?"undefined":o(e))){if("function"==typeof e.format)return e.format(t);if(e&&e.toString()!=={}.toString())return e.toString();var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push('"'+i+'": '+a.format(e[i],t));return"{"+n.join(", ")+"}"}return String(e)},a.stringify=function(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);"\\"===i?(r+=i,n++,""!==(i=t.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++}return'"'+r+'"'},a.escape=function(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(e,t,r){"use strict";var o=r(3).nearlyEqual,a=r(46);t.factory=function(e,r,t,n){var i=n("equalScalar",{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return e===t||o(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||a(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return e.equals(t)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return i(e.value,t.value)}});return i}},function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}(n.prototype=new RangeError).constructor=RangeError,n.prototype.name="DimensionError",n.prototype.isDimensionError=!0,e.exports=n},function(e,t,a){"use strict";t.factory=function(e,t,r,n){var i=r(a(21)),o=n("divide",{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var r=e.clone();return r.value=o(null===r.value?r._normalize(1):r.value,t),r},"number | Fraction | BigNumber, Unit":function(e,t){var r=t.pow(-1);return r.value=i(null===r.value?r._normalize(1):r.value,e),r},"Unit, Unit":function(e,t){return e.divide(t)}});return o}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(5).hasOwnProperty;function o(e,t){return!(!e||"object"!==(void 0===e?"undefined":n(e)))&&(!!i(u,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function a(e,t){return!(!e||"function"!=typeof e[t])&&(!(i(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!i(c,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function s(e){return"object"===(void 0===e?"undefined":n(e))&&e&&e.constructor===Object}var u={length:!0,name:!0},c={toString:!0,valueOf:!0,toLocaleString:!0};t.getSafeProperty=function(e,t){if(s(e)&&o(e,t))return e[t];if("function"==typeof e[t]&&a(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')},t.setSafeProperty=function(e,t,r){if(s(e)&&o(e,t))return e[t]=r;throw new Error('No access to property "'+t+'"')},t.isSafeProperty=o,t.validateSafeMethod=function(e,t){if(!a(e,t))throw new Error('No access to method "'+t+'"')},t.isSafeMethod=a,t.isPlainObject=s},function(e,t,d){"use strict";var i=d(11);function v(e,t){var r=e.size(),n=t.size();if(r.length!==n.length)throw new i(r.length,n.length)}t.name="subtract",t.factory=function(e,t,r,n){var i=d(4),o=r(d(1)),a=r(d(20)),s=r(d(33)),u=r(d(35)),c=r(d(19)),f=r(d(71)),l=r(d(45)),p=r(d(7)),m=r(d(6)),h=n("subtract",{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=h(r.value,t.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(e,t){return v(e,t),f(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return v(e,t),c(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return v(e,t),u(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return v(e,t),p(e,t,h)},"Array, Array":function(e,t){return h(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return h(o(e),t)},"Matrix, Array":function(e,t){return h(e,o(t))},"SparseMatrix, any":function(e,t){return l(e,s(t),a)},"DenseMatrix, any":function(e,t){return m(e,t,h)},"any, SparseMatrix":function(e,t){return l(t,e,h,!0)},"any, DenseMatrix":function(e,t){return m(t,e,h,!0)},"Array, any":function(e,t){return m(o(e),t,h,!1).valueOf()},"any, Array":function(e,t){return m(o(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+i.operators.subtract+"${args[1]}\\right)"},h}},function(e,t,m){"use strict";var h=m(5).extend;t.name="add",t.factory=function(e,t,r,n){var i=r(m(1)),o=r(m(20)),a=m(4),s=r(m(35)),u=r(m(89)),c=r(m(45)),f=r(m(7)),l=r(m(6)),p=n("add",h({"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,o)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,o,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,o,!0)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,o)},"Array, Array":function(e,t){return p(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return p(i(e),t)},"Matrix, Array":function(e,t){return p(e,i(t))},"DenseMatrix, any":function(e,t){return l(e,t,o,!1)},"SparseMatrix, any":function(e,t){return c(e,t,o,!1)},"any, DenseMatrix":function(e,t){return l(t,e,o,!0)},"any, SparseMatrix":function(e,t){return c(t,e,o,!0)},"Array, any":function(e,t){return l(i(e),t,o,!1).valueOf()},"any, Array":function(e,t){return l(i(t),e,o,!0).valueOf()},"any, any":o,"any, any, ...any":function(e,t,r){for(var n=p(e,t),i=0;i<r.length;i++)n=p(n,r[i]);return n}},o.signatures));return p.toTex={2:"\\left(${args[0]}"+a.operators.add+"${args[1]}\\right)"},p}},function(e,t,r){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=r(137),u=r(5).deepEqual,c=r(5).hasOwnProperty;t.name="Node",t.path="expression.node",t.math=!0,t.factory=function(t,e,r,n,i){function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator")}return o.prototype.eval=function(e){return this.compile().eval(e)},o.prototype.type="Node",o.prototype.isNode=!0,o.prototype.comment="",o.prototype.compile=function(){var r=this._compile(i.expression.mathWithTransform,{}),n={};return{eval:function(e){var t=e||{};return function(e){for(var t in e)if(c(e,t)&&t in s)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(t),r(t,n,null)}}},o.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},o.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},o.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},o.prototype._ifNode=function(e){if(!t.isNode(e))throw new TypeError("Callback function must return a Node");return e},o.prototype.traverse=function(e){e(this,null,null),function n(e,i){e.forEach(function(e,t,r){i(e,t,r),n(e,i)})}(this,e)},o.prototype.transform=function(e){return function n(e,i){return e.map(function(e,t,r){return n(i(e,t,r),i)})}(e(this,null,null),e)},o.prototype.filter=function(n){var i=[];return this.traverse(function(e,t,r){n(e,t,r)&&i.push(e)}),i},o.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},o.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},o.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},o.prototype.cloneDeep=function(){return this.map(function(e){return e.cloneDeep()})},o.prototype.equals=function(e){return!!e&&u(this,e)},o.prototype.toString=function(e){var t=void 0;if(e&&"object"===(void 0===e?"undefined":a(e)))switch(a(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toString(e)},o.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},o.prototype.toHTML=function(e){var t=void 0;if(e&&"object"===(void 0===e?"undefined":a(e)))switch(a(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this.toHTML(e)},o.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},o.prototype.toTex=function(e){var t=void 0;if(e&&"object"===(void 0===e?"undefined":a(e)))switch(a(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toTex(e)},o.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},o.prototype.getIdentifier=function(){return this.type},o.prototype.getContent=function(){return this},o}},function(e,t,n){"use strict";t.name="algorithm11",t.factory=function(e,t,r,A){var S=r(n(10)),O=e.SparseMatrix;return function(e,t,r,n){var i=e._values,o=e._index,a=e._ptr,s=e._size,u=e._datatype;if(!i)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var c=s[0],f=s[1],l=void 0,p=S,m=0,h=r;"string"==typeof u&&(l=u,p=A.find(S,[l,l]),m=A.convert(0,l),t=A.convert(t,l),h=A.find(r,[l,l]));for(var d=[],v=[],y=[],g=new O({values:d,index:v,ptr:y,size:[c,f],datatype:l}),x=0;x<f;x++){y[x]=v.length;for(var b=a[x],w=a[x+1],N=b;N<w;N++){var M=o[N],E=n?h(t,i[N]):h(i[N],t);p(E,m)||(v.push(M),d.push(E))}}return y[f]=v.length,g}}},function(e,t,r){"use strict";t.name="algorithm12",t.factory=function(e,t,r,E){var A=e.DenseMatrix;return function(e,t,r,n){var i=e._values,o=e._index,a=e._ptr,s=e._size,u=e._datatype;if(!i)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var c=s[0],f=s[1],l=void 0,p=r;"string"==typeof u&&(l=u,t=E.convert(t,l),p=E.find(r,[l,l]));for(var m=[],h=new A({data:m,size:[c,f],datatype:l}),d=[],v=[],y=0;y<f;y++){for(var g=y+1,x=a[y],b=a[y+1],w=x;w<b;w++){var N=o[w];d[N]=i[w],v[N]=g}for(var M=0;M<c;M++)0===y&&(m[M]=[]),v[M]===g?m[M][y]=n?p(t,d[M]):p(d[M],t):m[M][y]=n?p(t,0):p(0,t)}return h}}},function(e,t,r){"use strict";var C=r(11);t.name="algorithm03",t.factory=function(e,t,r,T){var _=e.DenseMatrix;return function(e,t,r,n){var i=e._data,o=e._size,a=e._datatype,s=t._values,u=t._index,c=t._ptr,f=t._size,l=t._datatype;if(o.length!==f.length)throw new C(o.length,f.length);if(o[0]!==f[0]||o[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+f+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=o[0],m=o[1],h=void 0,d=0,v=r;"string"==typeof a&&a===l&&(h=a,d=T.convert(0,h),v=T.find(r,[h,h]));for(var y=[],g=0;g<p;g++)y[g]=[];for(var x=[],b=[],w=0;w<m;w++){for(var N=w+1,M=c[w],E=c[w+1],A=M;A<E;A++){var S=u[A];x[S]=n?v(s[A],i[S][w]):v(i[S][w],s[A]),b[S]=N}for(var O=0;O<p;O++)b[O]===N?y[O][w]=x[O]:y[O][w]=n?v(d,i[O][w]):v(i[O][w],d)}return new _({data:y,size:[p,m],datatype:h})}}},function(e,t,r){"use strict";t.factory=function(e,t,r,n){var i=n("add",{"number, number":function(e,t){return e+t},"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null===e.value||void 0===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value||void 0===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=i(r.value,t.value),r.fixPrefix=!1,r}});return i}},function(e,t,r){"use strict";t.factory=function(e,t,r,n){var i=n("multiplyScalar",{"number, number":function(e,t){return e*t},"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){var r=t.clone();return r.value=null===r.value?r._normalize(e):i(r.value,e),r},"Unit, number | Fraction | BigNumber | Complex":function(e,t){var r=e.clone();return r.value=null===r.value?r._normalize(t):i(r.value,t),r},"Unit, Unit":function(e,t){return e.multiply(t)}});return i}},function(e,t,s){"use strict";var u=s(5).clone,f=s(2).validateIndex,n=s(13).getSafeProperty,o=s(13).setSafeProperty,l=s(11);function c(e,t){if(1!==t.size().length)throw new l(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return n(e,r)}function p(e,t,r){if(1!==t.size().length)throw new l(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var i=u(e);return o(i,n,r),i}t.name="subset",t.factory=function(o,e,t,r){var i=t(s(1)),n=r("subset",{"Array, Index":function(e,t){var r=i(e).subset(t);return t.isScalar()?r:r.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":c,"string, Index":function(t,e){if(!o.isIndex(e))throw new TypeError("Index expected");if(1!==e.size().length)throw new l(e.size().length,1);var r=t.length;f(e.min()[0],r),f(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach(function(e){i+=t.charAt(e)}),i},"Array, Index, any":function(e,t,r){return i(u(e)).subset(t,r,void 0).valueOf()},"Array, Index, any, any":function(e,t,r,n){return i(u(e)).subset(t,r,n).valueOf()},"Matrix, Index, any":function(e,t,r){return e.clone().subset(t,r)},"Matrix, Index, any, any":function(e,t,r,n){return e.clone().subset(t,r,n)},"string, Index, string":a,"string, Index, string, string":a,"Object, Index, any":p});return n.toTex=void 0,n;function a(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new l(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=t.dimension(0);if(i.size()[0]!==r.length)throw new l(i.size()[0],r.length);var o=e.length;f(t.min()[0]),f(t.max()[0]);for(var a=[],s=0;s<o;s++)a[s]=e.charAt(s);if(i.forEach(function(e,t){a[e]=r.charAt(t[0])}),a.length>o)for(var u=o-1,c=a.length;u<c;u++)a[u]||(a[u]=n);return a.join("")}}},function(e,t,r){"use strict";var o=r(0);t.name="abs",t.factory=function(e,t,r,n){var i=n("abs",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return o(e,i,!0)},Unit:function(e){return e.abs()}});return i.toTex={1:"\\left|${args[0]}\\right|"},i}},function(e,t,a){"use strict";var s=a(2);t.name="size",t.factory=function(e,t,r,n){var i=r(a(1)),o=n("size",{Matrix:function(e){return i(e.size())},Array:s.size,string:function(e){return"Array"===t.matrix?[e.length]:i([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===t.matrix?[]:i([])}});return o.toTex=void 0,o}},function(e,t,n){"use strict";var C=n(11);t.name="algorithm02",t.factory=function(e,t,r,O){var T=r(n(10)),_=e.SparseMatrix;return function(e,t,r,n){var i=e._data,o=e._size,a=e._datatype,s=t._values,u=t._index,c=t._ptr,f=t._size,l=t._datatype;if(o.length!==f.length)throw new C(o.length,f.length);if(o[0]!==f[0]||o[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+f+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=o[0],m=o[1],h=void 0,d=T,v=0,y=r;"string"==typeof a&&a===l&&(h=a,d=O.find(T,[h,h]),v=O.convert(0,h),y=O.find(r,[h,h]));for(var g=[],x=[],b=[],w=0;w<m;w++){b[w]=x.length;for(var N=c[w],M=c[w+1],E=N;E<M;E++){var A=u[E],S=n?y(s[E],i[A][w]):y(i[A][w],s[E]);d(S,v)||(x.push(A),g.push(S))}}return b[m]=x.length,new _({values:g,index:x,ptr:b,size:[p,m],datatype:h})}}},function(e,t,n){"use strict";var m=n(439);t.name="compareNatural",t.factory=function(s,e,t,r){var u=t(n(32)),c=t(n(48)),f=c.signatures["boolean,boolean"],l=r("compareNatural",{"any, any":function(e,t){var r,n,i=u(e),o=u(t),a=void 0;if(!("number"!==i&&"BigNumber"!==i&&"Fraction"!==i||"number"!==o&&"BigNumber"!==o&&"Fraction"!==o))return"0"!==(a=c(e,t)).toString()?0<a?1:-1:m(i,o);if("Array"===i||"Matrix"===i||"Array"===o||"Matrix"===o)return 0!==(a=function e(t,r){return s.isSparseMatrix(t)&&s.isSparseMatrix(r)?p(t.toJSON().values,r.toJSON().values):s.isSparseMatrix(t)?e(t.toArray(),r):s.isSparseMatrix(r)?e(t,r.toArray()):s.isDenseMatrix(t)?e(t.toJSON().data,r):s.isDenseMatrix(r)?e(t,r.toJSON().data):Array.isArray(t)?Array.isArray(r)?p(t,r):e(t,[r]):e([t],r)}(e,t))?a:m(i,o);if(i!==o)return m(i,o);if("Complex"===i)return n=t,(r=e).re>n.re?1:r.re<n.re?-1:r.im>n.im?1:r.im<n.im?-1:0;if("Unit"===i)return e.equalBase(t)?l(e.value,t.value):p(e.formatUnits(),t.formatUnits());if("boolean"===i)return f(e,t);if("string"===i)return m(e,t);if("Object"===i)return function(e,t){var r=Object.keys(e),n=Object.keys(t);r.sort(m),n.sort(m);var i=p(r,n);if(0!==i)return i;for(var o=0;o<r.length;o++){var a=l(e[r[o]],t[n[o]]);if(0!==a)return a}return 0}(e,t);if("null"===i)return 0;if("undefined"===i)return 0;throw new TypeError('Unsupported type of value "'+i+'"')}});function p(e,t){for(var r=0,n=Math.min(e.length,t.length);r<n;r++){var i=l(e[r],t[r]);if(0!==i)return i}return e.length>t.length?1:e.length<t.length?-1:0}return l.toTex=void 0,l}},function(e,t,r){"use strict";var n=r(5).clone,i=r(3).isInteger;t.name="Index",t.path="type",t.factory=function(a){function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var t=0,r=arguments.length;t<r;t++){var n=arguments[t];if(a.isRange(n))this._dimensions.push(n),this._isScalar=!1;else if(Array.isArray(n)||a.isMatrix(n)){var i=u(n.valueOf());this._dimensions.push(i);var o=i.size();1===o.length&&1===o[0]||(this._isScalar=!1)}else if("number"==typeof n)this._dimensions.push(u([n]));else{if("string"!=typeof n)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(n)}}}function u(e){for(var t=0,r=e.length;t<r;t++)if("number"!=typeof e[t]||!i(e[t]))throw new TypeError("Index parameters must be positive integer numbers");return new a.ImmutableDenseMatrix(e)}return s.prototype.type="Index",s.prototype.isIndex=!0,s.prototype.clone=function(){var e=new s;return e._dimensions=n(this._dimensions),e._isScalar=this._isScalar,e},s.create=function(e){var t=new s;return s.apply(t,e),t},s.prototype.size=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?1:n.size()[0]}return e},s.prototype.max=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.max()}return e},s.prototype.min=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.min()}return e},s.prototype.forEach=function(e){for(var t=0,r=this._dimensions.length;t<r;t++)e(this._dimensions[t],t,this)},s.prototype.dimension=function(e){return this._dimensions[e]||null},s.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},s.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},s.prototype.isScalar=function(){return this._isScalar},s.prototype.valueOf=s.prototype.toArray=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e.push("string"==typeof n?n:n.toArray())}return e},s.prototype.toString=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];"string"==typeof n?e.push(JSON.stringify(n)):e.push(n.toString())}return"["+e.join(", ")+"]"},s.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},s.fromJSON=function(e){return s.create(e.dimensions)},s}},function(e,t,r){"use strict";var S=r(11);t.name="algorithm07",t.factory=function(e,t,r,M){var E=e.DenseMatrix;function A(e,t,r,n,i){for(var o=e._values,a=e._index,s=e._ptr,u=s[t],c=s[t+1];u<c;u++){var f=a[u];r[f]=i,n[f]=o[u]}}return function(e,t,r){var n=e._size,i=e._datatype,o=t._size,a=t._datatype;if(n.length!==o.length)throw new S(n.length,o.length);if(n[0]!==o[0]||n[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+n+") must match Matrix B ("+o+")");var s=n[0],u=n[1],c=void 0,f=0,l=r;"string"==typeof i&&i===a&&(c=i,f=M.convert(0,c),l=M.find(r,[c,c]));var p=void 0,m=void 0,h=[];for(p=0;p<s;p++)h[p]=[];var d=new E({data:h,size:[s,u],datatype:c}),v=[],y=[],g=[],x=[];for(m=0;m<u;m++){var b=m+1;for(A(e,m,g,v,b),A(t,m,x,y,b),p=0;p<s;p++){var w=g[p]===b?v[p]:f,N=x[p]===b?y[p]:f;h[p][m]=l(w,N)}}return d}}},function(e,t,r){"use strict";t.array=r(2),t.boolean=r(544),t.function=r(36),t.number=r(3),t.object=r(5),t.string=r(9),t.emitter=r(147)},function(e,t,o){"use strict";t.factory=function(e,t,r,n){var i=r(o(32));return function(e,t,r){var n=void 0;return-1!==String(e).indexOf("Unexpected type")?(n=2<arguments.length?" (type: "+i(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):-1!==String(e).indexOf("complex numbers")?(n=2<arguments.length?" (type: "+i(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):e}}},function(e,t,r){"use strict";var o=r(0),a=r(3);t.name="isInteger",t.factory=function(e,t,r,n){var i=n("isInteger",{number:a.isInteger,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return o(e,i)}});return i}},function(e,t,r){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.name="typeof",t.factory=function(r,e,t,n){var i=n("_typeof",{any:function(e){var t=void 0===e?"undefined":o(e);return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":r.isBigNumber(e)?"BigNumber":r.isComplex(e)?"Complex":r.isFraction(e)?"Fraction":r.isMatrix(e)?"Matrix":r.isUnit(e)?"Unit":r.isIndex(e)?"Index":r.isRange(e)?"Range":r.isResultSet(e)?"ResultSet":r.isNode(e)?e.type:r.isChain(e)?"Chain":r.isHelp(e)?"Help":"Object":"function"===t?"Function":t}});return i.toTex=void 0,i}},function(e,t,a){"use strict";var s=a(0);t.name="unaryMinus",t.factory=function(e,t,r,n){var i=a(4),o=n("unaryMinus",{number:function(e){return-e},Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=o(e.value),t},"Array | Matrix":function(e){return s(e,o,!0)}});return o.toTex={1:i.operators.unaryMinus+"\\left(${args[0]}\\right)"},o}},function(e,t,p){"use strict";var m=p(3).nearlyEqual,h=p(46);t.name="larger",t.factory=function(e,r,t,n){var i=t(p(1)),o=t(p(19)),a=t(p(28)),s=t(p(18)),u=t(p(7)),c=t(p(6)),f=p(4),l=n("larger",{"boolean, boolean":function(e,t){return t<e},"number, number":function(e,t){return t<e&&!m(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!h(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return l(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,l)},"Array, Array":function(e,t){return l(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return l(i(e),t)},"Matrix, Array":function(e,t){return l(e,i(t))},"SparseMatrix, any":function(e,t){return s(e,t,l,!1)},"DenseMatrix, any":function(e,t){return c(e,t,l,!1)},"any, SparseMatrix":function(e,t){return s(t,e,l,!0)},"any, DenseMatrix":function(e,t){return c(t,e,l,!0)},"Array, any":function(e,t){return c(i(e),t,l,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}"+f.operators.larger+"${args[1]}\\right)"},l}},function(e,t,r){"use strict";var O=r(11);t.name="algorithm01",t.factory=function(e,t,r,A){var S=e.DenseMatrix;return function(e,t,r,n){var i=e._data,o=e._size,a=e._datatype,s=t._values,u=t._index,c=t._ptr,f=t._size,l=t._datatype;if(o.length!==f.length)throw new O(o.length,f.length);if(o[0]!==f[0]||o[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+f+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=o[0],m=o[1],h="string"==typeof a&&a===l?a:void 0,d=h?A.find(r,[h,h]):r,v=void 0,y=void 0,g=[];for(v=0;v<p;v++)g[v]=[];var x=[],b=[];for(y=0;y<m;y++){for(var w=y+1,N=c[y],M=c[y+1],E=N;E<M;E++)x[v=u[E]]=n?d(s[E],i[v][y]):d(i[v][y],s[E]),b[v]=w;for(v=0;v<p;v++)b[v]===w?g[v][y]=x[v]:g[v][y]=i[v][y]}return new S({data:g,size:[p,m],datatype:h})}}},function(e,t,r){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.memoize=function(i,o){return function e(){"object"!==a(e.cache)&&(e.cache={});for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=o?o(t):JSON.stringify(t);return n in e.cache||(e.cache[n]=i.apply(i,t)),e.cache[n]}},t.maxArgumentCount=function(e){return Object.keys(e.signatures||{}).reduce(function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r)},-1)},t.callWithRightArgumentCount=function(e,t,r){return Object.keys(e.signatures||{}).reduce(function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r)},-1)}},function(e,t,r){"use strict";var a=r(72);e.exports=function e(t,r){a(t)&&(t=t.valueOf());for(var n=0,i=t.length;n<i;n++){var o=t[n];Array.isArray(o)?e(o,r):r(o)}}},function(e,t,r){"use strict";var a=r(0);t.name="sqrt",t.factory=function(t,r,e,n){var i=n("sqrt",{number:o,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||r.predictable?e.sqrt():o(e.toNumber())},"Array | Matrix":function(e){return a(e,i,!0)},Unit:function(e){return e.pow(.5)}});function o(e){return 0<=e||r.predictable?Math.sqrt(e):new t.Complex(e,0).sqrt()}return i.toTex={1:"\\sqrt{${args[0]}}"},i}},function(e,t,l){"use strict";var p=l(5).extend;t.name="divide",t.factory=function(e,t,r,n){var i=r(l(12)),o=r(l(8)),a=r(l(68)),s=r(l(1)),u=r(l(17)),c=r(l(6)),f=n("divide",p({"Array | Matrix, Array | Matrix":function(e,t){return o(e,a(t))},"DenseMatrix, any":function(e,t){return c(e,t,i,!1)},"SparseMatrix, any":function(e,t){return u(e,t,i,!1)},"Array, any":function(e,t){return c(s(e),t,i,!1).valueOf()},"any, Array | Matrix":function(e,t){return o(e,a(t))}},i.signatures));return f.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},f}},function(e,t,r){"use strict";var n=r(58);t.transform=function(e){return e&&e.isIndexError?new n(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}},function(e,t,re){"use strict";var ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ie=re(59),oe=re(0);t.name="parse",t.path="expression",t.factory=function(a,f,e,t){var l=e(re(139)),i=e(re(138)),p=e(re(135)),s=e(re(134)),o=e(re(133)),u=e(re(132)),m=e(re(56)),c=e(re(131)),h=e(re(130)),d=e(re(129)),v=e(re(55)),y=e(re(70)),g=e(re(69)),n=e(re(128)),x=e(re(49));function b(e,t){if(1!==arguments.length&&2!==arguments.length)throw new ie("parse",arguments.length,1,2);var r=t&&t.nodes?t.nodes:{};if("string"==typeof e)return P(e,r);if(Array.isArray(e)||e instanceof a.Matrix)return oe(e,function(e){if("string"!=typeof e)throw new TypeError("String expected");return P(e,r)});throw new TypeError("String or matrix expected")}var w={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},N={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},M={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},E={true:!0,false:!1,null:null,undefined:void 0},A=["NaN","Infinity"];function S(e,t){return e.expression.substr(e.index,t)}function O(e){return S(e,1)}function T(e){e.index++}function _(e){return e.expression.charAt(e.index-1)}function C(e){return e.expression.charAt(e.index+1)}function z(e){for(e.tokenType=w.NULL,e.token="",e.comment="";b.isWhitespace(O(e),e.nestingLevel);)T(e);if("#"===O(e))for(;"\n"!==O(e)&&""!==O(e);)e.comment+=O(e),T(e);if(""!==O(e)){if("\n"===O(e)&&!e.nestingLevel)return e.tokenType=w.DELIMITER,e.token=O(e),void T(e);var t=O(e),r=S(e,2),n=S(e,3);if(3===n.length&&N[n])return e.tokenType=w.DELIMITER,e.token=n,T(e),T(e),void T(e);if(2===r.length&&N[r])return e.tokenType=w.DELIMITER,e.token=r,T(e),void T(e);if(N[t])return e.tokenType=w.DELIMITER,e.token=t,void T(e);if(b.isDigitDot(t)){if(e.tokenType=w.NUMBER,"."===O(e))e.token+=O(e),T(e),b.isDigit(O(e))||(e.tokenType=w.DELIMITER);else{for(;b.isDigit(O(e));)e.token+=O(e),T(e);b.isDecimalMark(O(e),C(e))&&(e.token+=O(e),T(e))}for(;b.isDigit(O(e));)e.token+=O(e),T(e);if("E"===O(e)||"e"===O(e))if(b.isDigit(C(e))||"-"===C(e)||"+"===C(e)){if(e.token+=O(e),T(e),"+"!==O(e)&&"-"!==O(e)||(e.token+=O(e),T(e)),!b.isDigit(O(e)))throw ee(e,'Digit expected, got "'+O(e)+'"');for(;b.isDigit(O(e));)e.token+=O(e),T(e);if(b.isDecimalMark(O(e),C(e)))throw ee(e,'Digit expected, got "'+O(e)+'"')}else if("."===C(e))throw T(e),ee(e,'Digit expected, got "'+O(e)+'"')}else{if(!b.isAlpha(O(e),_(e),C(e))){for(e.tokenType=w.UNKNOWN;""!==O(e);)e.token+=O(e),T(e);throw ee(e,'Syntax error in part "'+e.token+'"')}for(;b.isAlpha(O(e),_(e),C(e))||b.isDigit(O(e));)e.token+=O(e),T(e);M.hasOwnProperty(e.token)?e.tokenType=w.DELIMITER:e.tokenType=w.SYMBOL}}else e.tokenType=w.DELIMITER}function B(e){for(;z(e),"\n"===e.token;);}function I(e){e.nestingLevel++}function k(e){e.nestingLevel--}function P(e,t){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w.NULL,nestingLevel:0,conditionalLevel:null};ne(r,{expression:e,extraNodes:t}),z(r);var n=function(e){var t=void 0,r=[],n=void 0;for(""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=R(e)).comment=e.comment);"\n"===e.token||";"===e.token;)0===r.length&&t&&(n=";"!==e.token,r.push({node:t,visible:n})),z(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=R(e)).comment=e.comment,n=";"!==e.token,r.push({node:t,visible:n}));return 0<r.length?new o(r):(t||((t=new m(void 0)).comment=e.comment),t)}(r);if(""!==r.token)throw r.tokenType===w.DELIMITER?te(r,"Unexpected operator "+r.token):ee(r,'Unexpected part "'+r.token+'"');return n}function R(e){var t=void 0,r=void 0,n=void 0,i=void 0,o=function(e){for(var t=function(e){for(var t=U(e);"or"===e.token;)B(e),t=new v("or","or",[t,U(e)]);return t}(e);"?"===e.token;){var r=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,B(e);var n=t,i=R(e);if(":"!==e.token)throw ee(e,"False part of conditional expression expected");e.conditionalLevel=null,B(e);var o=R(e);t=new u(n,i,o),e.conditionalLevel=r}return t}(e);if("="===e.token){if(a.isSymbolNode(o))return t=o.name,B(e),n=R(e),new s(new x(t),n);if(a.isAccessorNode(o))return B(e),n=R(e),new s(o.object,o.index,n);if(a.isFunctionNode(o)&&a.isSymbolNode(o.fn)&&(i=!0,r=[],t=o.name,o.args.forEach(function(e,t){a.isSymbolNode(e)?r[t]=e.name:i=!1}),i))return B(e),n=R(e),new c(t,r,n);throw ee(e,"Invalid left hand side of assignment operator =")}return o}function U(e){for(var t=r(e);"xor"===e.token;)B(e),t=new v("xor","xor",[t,r(e)]);return t}function r(e){for(var t=q(e);"and"===e.token;)B(e),t=new v("and","and",[t,q(e)]);return t}function q(e){for(var t=D(e);"|"===e.token;)B(e),t=new v("|","bitOr",[t,D(e)]);return t}function D(e){for(var t=L(e);"^|"===e.token;)B(e),t=new v("^|","bitXor",[t,L(e)]);return t}function L(e){for(var t=F(e);"&"===e.token;)B(e),t=new v("&","bitAnd",[t,F(e)]);return t}function F(e){var t=void 0,r=void 0,n=void 0,i=void 0,o=void 0;for(t=j(e),r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};r.hasOwnProperty(e.token);)i=r[n=e.token],B(e),o=[t,j(e)],t=new v(n,i,o);return t}function j(e){var t=void 0,r=void 0,n=void 0,i=void 0,o=void 0;for(t=$(e),r={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};r.hasOwnProperty(e.token);)i=r[n=e.token],B(e),o=[t,$(e)],t=new v(n,i,o);return t}function $(e){var t=void 0,r=void 0,n=void 0,i=void 0,o=void 0;for(t=H(e),r={to:"to",in:"to"};r.hasOwnProperty(e.token);)i=r[n=e.token],B(e),"in"===n&&""===e.token?t=new v("*","multiply",[t,new x("in")],!0):(o=[t,H(e)],t=new v(n,i,o));return t}function H(e){var t=void 0,r=[];if(t=":"===e.token?new m(1):G(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(r.push(t);":"===e.token&&r.length<3;)B(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?r.push(new x("end")):r.push(G(e));t=3===r.length?new n(r[0],r[2],r[1]):new n(r[0],r[1])}return t}function G(e){var t=void 0,r=void 0,n=void 0,i=void 0,o=void 0;for(t=Z(e),r={"+":"add","-":"subtract"};r.hasOwnProperty(e.token);)i=r[n=e.token],B(e),o=[t,Z(e)],t=new v(n,i,o);return t}function Z(e){var t=void 0,r=void 0,n=void 0,i=void 0,o=void 0;for(r=t=V(e),n={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};n.hasOwnProperty(e.token);)o=n[i=e.token],B(e),r=V(e),t=new v(i,o,[t,r]);return t}function V(e){var t=void 0,r=void 0;for(r=t=W(e);e.tokenType===w.SYMBOL||"in"===e.token&&a.isConstantNode(t)||!(e.tokenType!==w.NUMBER||a.isConstantNode(r)||a.isOperatorNode(r)&&"!"!==r.op)||"("===e.token;)r=W(e),t=new v("*","multiply",[t,r],!0);return t}function W(e){for(var t=J(e),r=t,n=[];"/"===e.token&&a.isConstantNode(r);){if(n.push(ne({},e)),B(e),e.tokenType!==w.NUMBER){ne(e,n.pop());break}if(n.push(ne({},e)),B(e),e.tokenType!==w.SYMBOL&&"("!==e.token){n.pop(),ne(e,n.pop());break}ne(e,n.pop()),n.pop(),r=J(e),t=new v("/","divide",[t,r])}return t}function J(e){var t,r,n,i,o,a=void 0,s=void 0,u=void 0,c={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return c.hasOwnProperty(e.token)?(u=c[e.token],a=e.token,B(e),s=[J(e)],new v(a,u,s)):(o=i=n=r=void 0,r=function(e){var t=void 0,r=void 0,n=void 0,i=void 0;for(t=function(e){var t,r,n,i,o,a,s=[];if(e.tokenType===w.SYMBOL&&e.extraNodes.hasOwnProperty(e.token)){var u=e.extraNodes[e.token];if(z(e),"("===e.token){if(s=[],I(e),z(e),")"!==e.token)for(s.push(R(e));","===e.token;)z(e),s.push(R(e));if(")"!==e.token)throw ee(e,"Parenthesis ) expected");k(e),z(e)}return new u(s)}return a=o=void 0,(t=e).tokenType===w.SYMBOL||t.tokenType===w.DELIMITER&&t.token in M?(a=t.token,z(t),o=E.hasOwnProperty(a)?new m(E[a]):-1!==A.indexOf(a)?new m(l(a)):new x(a),o=Y(t,o)):(i=n=void 0,'"'===(r=t).token?(i=X(r),n=new m(i),n=Y(r,n)):function(e){var t=void 0,r=void 0,n=void 0,i=void 0;if("["===e.token){if(I(e),z(e),"]"!==e.token){var o=Q(e);if(";"===e.token){for(n=1,r=[o];";"===e.token;)z(e),r[n]=Q(e),n++;if("]"!==e.token)throw ee(e,"End of matrix ] expected");k(e),z(e),i=r[0].items.length;for(var a=1;a<n;a++)if(r[a].items.length!==i)throw te(e,"Column dimensions mismatch ("+r[a].items.length+" !== "+i+")");t=new p(r)}else{if("]"!==e.token)throw ee(e,"End of matrix ] expected");k(e),z(e),t=o}}else k(e),z(e),t=new p([]);return Y(e,t)}return function(e){if("{"===e.token){var t=void 0,r={};do{if(z(e),"}"!==e.token){if('"'===e.token)t=X(e);else{if(e.tokenType!==w.SYMBOL)throw ee(e,"Symbol or string expected as object key");t=e.token,z(e)}if(":"!==e.token)throw ee(e,"Colon : expected after object key");z(e),r[t]=R(e)}}while(","===e.token);if("}"!==e.token)throw ee(e,"Comma , or bracket } expected after object value");z(e);var n=new d(r);return n=Y(e,n)}return o=void 0,(i=e).tokenType===w.NUMBER?(o=i.token,z(i),new m(l(o,f.number))):function(e){var t=void 0;if("("===e.token){if(I(e),z(e),t=R(e),")"!==e.token)throw ee(e,"Parenthesis ) expected");return k(e),z(e),t=new y(t),t=Y(e,t)}return function(e){throw""===e.token?ee(e,"Unexpected end of expression"):"'"===e.token?ee(e,"Value expected. Note: strings must be enclosed by double quotes"):ee(e,"Value expected")}(e)}(i);var i,o}(e)}(r))}(e),r={"!":"factorial","'":"ctranspose"};r.hasOwnProperty(e.token);)n=e.token,i=r[n],z(e),t=new v(n,i,[t]),t=Y(e,t);return t}(t=e),("^"===t.token||".^"===t.token)&&(n=t.token,i="^"===n?"pow":"dotPow",B(t),o=[r,J(t)],r=new v(n,i,o)),r)}function Y(e,t,r){for(var n=void 0;!("("!==e.token&&"["!==e.token&&"."!==e.token||r&&-1===r.indexOf(e.token));)if(n=[],"("===e.token){if(!a.isSymbolNode(t)&&!a.isAccessorNode(t))return t;if(I(e),z(e),")"!==e.token)for(n.push(R(e));","===e.token;)z(e),n.push(R(e));if(")"!==e.token)throw ee(e,"Parenthesis ) expected");k(e),z(e),t=new g(t,n)}else if("["===e.token){if(I(e),z(e),"]"!==e.token)for(n.push(R(e));","===e.token;)z(e),n.push(R(e));if("]"!==e.token)throw ee(e,"Parenthesis ] expected");k(e),z(e),t=new i(t,new h(n))}else{if(z(e),e.tokenType!==w.SYMBOL)throw ee(e,"Property name expected after dot");n.push(new m(e.token)),z(e),t=new i(t,new h(n,!0))}return t}function X(e){for(var t="";""!==O(e)&&'"'!==O(e);)"\\"===O(e)&&(t+=O(e),T(e)),t+=O(e),T(e);if(z(e),'"'!==e.token)throw ee(e,'End of string " expected');return z(e),JSON.parse('"'+t+'"')}function Q(e){for(var t=[R(e)],r=1;","===e.token;)z(e),t[r]=R(e),r++;return new p(t)}function K(e){return e.index-e.token.length+1}function ee(e,t){var r=K(e),n=new SyntaxError(t+" (char "+r+")");return n.char=r,n}function te(e,t){var r=K(e),n=new SyntaxError(t+" (char "+r+")");return n.char=r,n}return b.isAlpha=function(e,t,r){return b.isValidLatinOrGreek(e)||b.isValidMathSymbol(e,r)||b.isValidMathSymbol(t,e)},b.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},b.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},b.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&0<t},b.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},b.isDigitDot=function(e){return"0"<=e&&e<="9"||"."===e},b.isDigit=function(e){return"0"<=e&&e<="9"},b}},function(e,t,o){"use strict";var u=o(3).isInteger,c=o(2).resize;t.name="zeros",t.factory=function(a,t,e,r){var s=e(o(1)),n=r("zeros",{"":function(){return"Array"===t.matrix?i([]):i([],"default")},"...number | BigNumber | string":function(e){return"string"==typeof e[e.length-1]?i(e,e.pop()):"Array"===t.matrix?i(e):i(e,"default")},Array:i,Matrix:function(e){var t=e.storage();return i(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return i(e.valueOf(),t)}});return n.toTex=void 0,n;function i(e,t){var n,r=(n=!1,e.forEach(function(e,t,r){a.isBigNumber(e)&&(n=!0,r[t]=e.toNumber())}),n?new a.BigNumber(0):0);if(e.forEach(function(e){if("number"!=typeof e||!u(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")}),t){var i=s(t);return 0<e.length?i.resize(e,r):i}var o=[];return 0<e.length?c(o,e,r):o}}},function(e,t,h){"use strict";var d=h(3).isInteger,v=h(2).size;t.name="pow",t.factory=function(i,o,e,t){var r=h(4),a=e(h(51)),s=e(h(8)),n=e(h(1)),u=e(h(146)),c=e(h(88)),f=t("pow",{"number, number":l,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||0<=e||o.predictable?e.pow(t):new i.Complex(e.toNumber(),0).pow(t.toNumber(),0)},"Fraction, Fraction":function(e,t){if(1!==t.d){if(o.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return l(e.valueOf(),t.valueOf())}return e.pow(t)},"Array, number":p,"Array, BigNumber":function(e,t){return p(e,t.toNumber())},"Matrix, number":m,"Matrix, BigNumber":function(e,t){return m(e,t.toNumber())},"Unit, number":function(e,t){return e.pow(t)}});function l(e,t){if(o.predictable&&!d(t)&&e<0)try{var r=u(t),n=c(r);if((t===n||Math.abs((t-n)/t)<1e-14)&&r.d%2==1)return(r.n%2==0?1:-1)*Math.pow(-e,t)}catch(e){}return e*e<1&&t===1/0||1<e*e&&t===-1/0?0:o.predictable&&(e<-1&&t===1/0||-1<e&&e<0&&t===-1/0)?NaN:d(t)||0<=e||o.predictable?Math.pow(e,t):new i.Complex(e,0).pow(t,0)}function p(e,t){if(!d(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var r=v(e);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var n=a(r[0]).valueOf(),i=e;1<=t;)1==(1&t)&&(n=s(i,n)),t>>=1,i=s(i,i);return n}function m(e,t){return n(p(e.valueOf(),t))}return f.toTex={2:"\\left(${args[0]}\\right)"+r.operators.pow+"{${args[1]}}"},f}},function(e,t,p){"use strict";var m=p(3).nearlyEqual,h=p(46);t.name="smaller",t.factory=function(e,r,t,n){var i=t(p(1)),o=t(p(19)),a=t(p(28)),s=t(p(18)),u=t(p(7)),c=t(p(6)),f=p(4),l=n("smaller",{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,t){return e<t&&!m(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!h(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return l(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,l)},"Array, Array":function(e,t){return l(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return l(i(e),t)},"Matrix, Array":function(e,t){return l(e,i(t))},"SparseMatrix, any":function(e,t){return s(e,t,l,!1)},"DenseMatrix, any":function(e,t){return c(e,t,l,!1)},"any, SparseMatrix":function(e,t){return s(t,e,l,!0)},"any, DenseMatrix":function(e,t){return c(t,e,l,!0)},"Array, any":function(e,t){return c(i(e),t,l,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}"+f.operators.smaller+"${args[1]}\\right)"},l}},function(e,t,r){"use strict";t.name="algorithm10",t.factory=function(e,t,r,E){var A=e.DenseMatrix;return function(e,t,r,n){var i=e._values,o=e._index,a=e._ptr,s=e._size,u=e._datatype;if(!i)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var c=s[0],f=s[1],l=void 0,p=r;"string"==typeof u&&(l=u,t=E.convert(t,l),p=E.find(r,[l,l]));for(var m=[],h=new A({data:m,size:[c,f],datatype:l}),d=[],v=[],y=0;y<f;y++){for(var g=y+1,x=a[y],b=a[y+1],w=x;w<b;w++){var N=o[w];d[N]=i[w],v[N]=g}for(var M=0;M<c;M++)0===y&&(m[M]=[]),v[M]===g?m[M][y]=n?p(t,d[M]):p(d[M],t):m[M][y]=t}return h}}},function(e,t,r){"use strict";e.exports=function(e,t,r){if(null==r)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return n.lte(i.times(r))}return!1}},function(e,t,r){"use strict";var n=r(72);e.exports=function(e){return Array.isArray(e)||n(e)}},function(e,t,l){"use strict";var p=l(3).nearlyEqual,m=l(46);t.name="compare",t.factory=function(r,n,e,t){var i=e(l(1)),o=e(l(19)),a=e(l(71)),s=e(l(18)),u=e(l(7)),c=e(l(6)),f=t("compare",{"boolean, boolean":function(e,t){return e===t?0:t<e?1:-1},"number, number":function(e,t){return e===t||p(e,t,n.epsilon)?0:t<e?1:-1},"BigNumber, BigNumber":function(e,t){return e.eq(t)||m(e,t,n.epsilon)?new r.BigNumber(0):new r.BigNumber(e.cmp(t))},"Fraction, Fraction":function(e,t){return new r.Fraction(e.compare(t))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return f(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,f)},"Array, Array":function(e,t){return f(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return f(i(e),t)},"Matrix, Array":function(e,t){return f(e,i(t))},"SparseMatrix, any":function(e,t){return s(e,t,f,!1)},"DenseMatrix, any":function(e,t){return c(e,t,f,!1)},"any, SparseMatrix":function(e,t){return s(t,e,f,!0)},"any, DenseMatrix":function(e,t){return c(t,e,f,!0)},"Array, any":function(e,t){return c(i(e),t,f,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,f,!0).valueOf()}});return f.toTex=void 0,f}},function(e,t,u){"use strict";var c=u(4),f=u(9).escape,l=u(5).hasOwnProperty,p=u(13).getSafeProperty;t.name="SymbolNode",t.path="expression.node",t.math=!0,t.factory=function(a,e,t,r,n){var i=t(u(16));function s(e){return!!a.Unit&&a.Unit.isValuelessUnit(e)}function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return(o.prototype=new i).type="SymbolNode",o.prototype.isSymbolNode=!0,o.prototype._compile=function(n,e){var i=this.name;if(l(e,i))return function(e,t,r){return t[i]};if(i in n)return function(e,t,r){return p(i in e?e:n,i)};var o=s(i);return function(e,t,r){return i in e?p(e,i):o?new a.Unit(null,i):function(e){throw new Error("Undefined symbol "+e)}(i)}},o.prototype.forEach=function(e){},o.prototype.map=function(e){return this.clone()},o.prototype.clone=function(){return new o(this.name)},o.prototype._toString=function(e){return this.name},o.prototype.toHTML=function(e){var t=f(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},o.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},o.fromJSON=function(e){return new o(e.name)},o.prototype._toTex=function(e){var t=!1;void 0===n[this.name]&&s(this.name)&&(t=!0);var r=c.toSymbol(this.name,t);return"\\"===r[0]?r:" "+r},o}},function(e,t,m){"use strict";t.name="equal",t.factory=function(e,t,r,n){var i=r(m(1)),o=r(m(10)),a=r(m(19)),s=r(m(28)),u=r(m(18)),c=r(m(7)),f=r(m(6)),l=m(4),p=n("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:o(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,o)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,o,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,o,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,o)},"Array, Array":function(e,t){return p(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return p(i(e),t)},"Matrix, Array":function(e,t){return p(e,i(t))},"SparseMatrix, any":function(e,t){return u(e,t,o,!1)},"DenseMatrix, any":function(e,t){return f(e,t,o,!1)},"any, SparseMatrix":function(e,t){return u(t,e,o,!0)},"any, DenseMatrix":function(e,t){return f(t,e,o,!0)},"Array, any":function(e,t){return f(i(e),t,o,!1).valueOf()},"any, Array":function(e,t){return f(i(t),e,o,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+l.operators.equal+"${args[1]}\\right)"},p}},function(e,t,s){"use strict";var l=s(2),p=s(3).isInteger;t.name="identity",t.factory=function(f,r,e,t){var n=e(s(1)),i=t("identity",{"":function(){return"Matrix"===r.matrix?n([]):[]},string:function(e){return n(e)},"number | BigNumber":function(e){return a(e,e,"Matrix"===r.matrix?"default":void 0)},"number | BigNumber, string":function(e,t){return a(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return a(e,t,"Matrix"===r.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,r){return a(e,t,r)},Array:function(e){return o(e)},"Array, string":function(e,t){return o(e,t)},Matrix:function(e){return o(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return o(e.valueOf(),t)}});return i.toTex=void 0,i;function o(e,t){switch(e.length){case 0:return t?n(t):[];case 1:return a(e[0],e[0],t);case 2:return a(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function a(e,t,r){var n=f.isBigNumber(e)||f.isBigNumber(t)?f.BigNumber:null;if(f.isBigNumber(e)&&(e=e.toNumber()),f.isBigNumber(t)&&(t=t.toNumber()),!p(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!p(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var i=n?new f.BigNumber(1):1,o=n?new n(0):0,a=[e,t];if(r)return f.Matrix.storage(r).diagonal(a,i,0,o);for(var s=l.resize([],a,o),u=e<t?e:t,c=0;c<u;c++)s[c][c]=i;return s}}},function(e,t,n){"use strict";var i=n(29),p=n(11),o=i.string,y=i.array,m=i.object,r=i.number,g=Array.isArray,x=r.isNumber,b=r.isInteger,w=o.isString,N=y.validateIndex;t.name="DenseMatrix",t.path="type",t.factory=function(h,e,t,d){var r=t(n(90));function v(e,t){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!w(t))throw new Error("Invalid datatype: "+t);if(h.isMatrix(e))"DenseMatrix"===e.type?(this._data=m.clone(e._data),this._size=m.clone(e._size)):(this._data=e.toArray(),this._size=e.size()),this._datatype=t||e._datatype;else if(e&&g(e.data)&&g(e.size))this._data=e.data,this._size=e.size,this._datatype=t||e.datatype;else if(g(e))this._data=function e(t){for(var r=0,n=t.length;r<n;r++){var i=t[r];g(i)?t[r]=e(i):i&&!0===i.isMatrix&&(t[r]=e(i.valueOf()))}return t}(e),this._size=y.size(this._data),y.validate(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+i.types.type(e)+")");this._data=[],this._size=[0],this._datatype=t}}function s(e,t,r){if(0===t.length){for(var n=e._data;g(n);)n=n[0];return n}return e._size=t.slice(0),e._data=y.resize(e._data,e._size,r),e}function l(e,t,r){for(var n=e._size.slice(0),i=!1;n.length<t.length;)n.push(0),i=!0;for(var o=0,a=t.length;o<a;o++)t[o]>n[o]&&(n[o]=t[o],i=!0);i&&s(e,n,r)}return(v.prototype=new r).type="DenseMatrix",v.prototype.isDenseMatrix=!0,v.prototype.storage=function(){return"dense"},v.prototype.datatype=function(){return this._datatype},v.prototype.create=function(e,t){return new v(e,t)},v.prototype.subset=function(e,t,r){switch(arguments.length){case 1:return function(e,t){if(!h.isIndex(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r=t.size();if(r.length!==e._size.length)throw new p(r.length,e._size.length);for(var n=t.min(),i=t.max(),o=0,a=e._size.length;o<a;o++)N(n[o],e._size[o]),N(i[o],e._size[o]);return new v(function r(n,i,o,a){var e=a===o-1,t=i.dimension(a);return e?t.map(function(e){return N(e,n.length),n[e]}).valueOf():t.map(function(e){N(e,n.length);var t=n[e];return r(t,i,o,a+1)}).valueOf()}(e._data,t,r.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i=t.size(),o=t.isScalar(),a=void 0;if(h.isMatrix(r)?(a=r.size(),r=r.valueOf()):a=y.size(r),o){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),r,n)}else{if(i.length<e._size.length)throw new p(i.length,e._size.length,"<");if(a.length<i.length){for(var s=0,u=0;1===i[s]&&1===a[s];)s++;for(;1===i[s];)u++,s++;r=y.unsqueeze(r,i.length,u,a)}if(!m.deepEqual(i,a))throw new p(i,a,">");var c=t.max().map(function(e){return e+1});l(e,c,n);var f=i.length;!function r(n,i,o,a,s){var e=s===a-1,t=i.dimension(s);e?t.forEach(function(e,t){N(e),n[e]=o[t[0]]}):t.forEach(function(e,t){N(e),r(n[e],i,o[t[0]],a,s+1)})}(e._data,t,r,f,0)}return e}(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},v.prototype.get=function(e){if(!g(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new p(e.length,this._size.length);for(var t=0;t<e.length;t++)N(e[t],this._size[t]);for(var r=this._data,n=0,i=e.length;n<i;n++){var o=e[n];N(o,r.length),r=r[o]}return r},v.prototype.set=function(e,t,r){if(!g(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new p(e.length,this._size.length,"<");var n,i=void 0,o=void 0;l(this,e.map(function(e){return e+1}),r);var a=this._data;for(i=0,n=e.length-1;i<n;i++)o=e[i],N(o,a.length),a=a[o];return o=e[e.length-1],N(o,a.length),a[o]=t,this},v.prototype.resize=function(e,t,r){if(!g(e))throw new TypeError("Array expected");return s(r?this.clone():this,e,t)},v.prototype.reshape=function(e,t){var r=t?this.clone():this;return r._data=y.reshape(r._data,e),r._size=e.slice(0),r},v.prototype.clone=function(){return new v({data:m.clone(this._data),size:m.clone(this._size),datatype:this._datatype})},v.prototype.size=function(){return this._size.slice(0)},v.prototype.map=function(t){var i=this;return new v({data:function r(e,n){return g(e)?e.map(function(e,t){return r(e,n.concat(t))}):t(e,n,i)}(this._data,[]),size:m.clone(this._size),datatype:this._datatype})},v.prototype.forEach=function(t){var i=this;!function r(e,n){g(e)?e.forEach(function(e,t){r(e,n.concat(t))}):t(e,n,i)}(this._data,[])},v.prototype.toArray=function(){return m.clone(this._data)},v.prototype.valueOf=function(){return this._data},v.prototype.format=function(e){return o.format(this._data,e)},v.prototype.toString=function(){return o.format(this._data)},v.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},v.prototype.diagonal=function(e){if(e){if(h.isBigNumber(e)&&(e=e.toNumber()),!x(e)||!b(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=0<e?e:0,r=e<0?-e:0,n=this._size[0],i=this._size[1],o=Math.min(n-r,i-t),a=[],s=0;s<o;s++)a[s]=this._data[s+r][s+t];return new v({data:a,size:[o],datatype:this._datatype})},v.diagonal=function(e,t,r,n,i){if(!g(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(h.isBigNumber(e)&&(e=e.toNumber()),!x(e)||!b(e)||e<1)throw new Error("Size values must be positive integers");return e}),r){if(h.isBigNumber(r)&&(r=r.toNumber()),!x(r)||!b(r))throw new TypeError("The parameter k must be an integer number")}else r=0;n&&w(i)&&(n=d.convert(n,i));var o=0<r?r:0,a=r<0?-r:0,s=e[0],u=e[1],c=Math.min(s-a,u-o),f=void 0;if(g(t)){if(t.length!==c)throw new Error("Invalid value array length");f=function(e){return t[e]}}else if(h.isMatrix(t)){var l=t.size();if(1!==l.length||l[0]!==c)throw new Error("Invalid matrix length");f=function(e){return t.get([e])}}else f=function(){return t};n||(n=h.isBigNumber(f(0))?new h.BigNumber(0):0);var p=[];if(0<e.length){p=y.resize(p,e,n);for(var m=0;m<c;m++)p[m+a][m+o]=f(m)}return new v({data:p,size:[s,u]})},v.fromJSON=function(e){return new v(e)},v.prototype.swapRows=function(e,t){if(!(x(e)&&b(e)&&x(t)&&b(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return N(e,this._size[0]),N(t,this._size[0]),v._swapRows(e,t,this._data),this},v._swapRows=function(e,t,r){var n=r[e];r[e]=r[t],r[t]=n},h.Matrix._storage.dense=v,h.Matrix._storage.default=v},t.lazy=!1},function(e,t,r){"use strict";var o=r(0);t.name="isNegative",t.factory=function(e,t,r,n){var i=n("isNegative",{number:function(e){return e<0},BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:function(e){return i(e.value)},"Array | Matrix":function(e){return o(e,i)}});return i}},function(e,t,r){"use strict";var o=r(0);t.name="isZero",t.factory=function(e,t,r,n){var i=n("isZero",{number:function(e){return 0===e},BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return i(e.value)},"Array | Matrix":function(e){return o(e,i)}});return i}},function(e,t,a){"use strict";var h=a(4),s=a(2).map,f=a(9).escape,u=a(13).isSafeMethod,c=a(13).getSafeProperty,b=a(57);t.name="OperatorNode",t.path="expression.node",t.factory=function(i,e,t,r){var n=t(a(16));function o(e,t,r,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(i.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===n,this.op=e,this.fn=t,this.args=r||[]}function m(i,o,e,t,r){var a=b.getPrecedence(i,o),s=b.getAssociativity(i,o);if("all"===o||2<t.length&&"OperatorNode:add"!==i.getIdentifier()&&"OperatorNode:multiply"!==i.getIdentifier())return t.map(function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var n=void 0;switch(t.length){case 0:n=[];break;case 1:var u=b.getPrecedence(t[0],o);if(r&&null!==u){var c=void 0,f=void 0;if("keep"===o?(c=t[0].getIdentifier(),f=i.getIdentifier()):(c=t[0].getContent().getIdentifier(),f=i.getContent().getIdentifier()),!1===b.properties[a][f].latexLeftParens){n=[!1];break}if(!1===b.properties[u][c].latexParens){n=[!1];break}}if(null===u){n=[!1];break}if(u<=a){n=[!0];break}n=[!1];break;case 2:var l=void 0,p=b.getPrecedence(t[0],o),m=b.isAssociativeWith(i,t[0],o);l=null!==p&&(p===a&&"right"===s&&!m||p<a);var h=void 0,d=b.getPrecedence(t[1],o),v=b.isAssociativeWith(i,t[1],o);if(h=null!==d&&(d===a&&"left"===s&&!v||d<a),r){var y=void 0,g=void 0,x=void 0;"keep"===o?(y=i.getIdentifier(),g=i.args[0].getIdentifier(),x=i.args[1].getIdentifier()):(y=i.getContent().getIdentifier(),g=i.args[0].getContent().getIdentifier(),x=i.args[1].getContent().getIdentifier()),null!==p&&(!1===b.properties[a][y].latexLeftParens&&(l=!1),!1===b.properties[p][g].latexParens&&(l=!1)),null!==d&&(!1===b.properties[a][y].latexRightParens&&(h=!1),!1===b.properties[d][x].latexParens&&(h=!1))}n=[l,h];break;default:"OperatorNode:add"!==i.getIdentifier()&&"OperatorNode:multiply"!==i.getIdentifier()||(n=t.map(function(e){var t=b.getPrecedence(e,o),r=b.isAssociativeWith(i,e,o),n=b.getAssociativity(e,o);return null!==t&&(a===t&&s===n&&!r||t<a)}))}return 2<=t.length&&"OperatorNode:multiply"===i.getIdentifier()&&i.implicit&&"auto"===o&&"hide"===e&&(n=t.map(function(e,t){var r="ParenthesisNode"===e.getIdentifier();return!(!n[t]&&!r)})),n}return(o.prototype=new n).type="OperatorNode",o.prototype.isOperatorNode=!0,o.prototype._compile=function(t,r){if("string"!=typeof this.fn||!u(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var i=c(t,this.fn),e=s(this.args,function(e){return e._compile(t,r)});if(1===e.length){var n=e[0];return function(e,t,r){return i(n(e,t,r))}}if(2===e.length){var o=e[0],a=e[1];return function(e,t,r){return i(o(e,t,r),a(e,t,r))}}return function(t,r,n){return i.apply(null,s(e,function(e){return e(t,r,n)}))}},o.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},o.prototype.map=function(e){for(var t=[],r=0;r<this.args.length;r++)t[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new o(this.op,this.fn,t,this.implicit)},o.prototype.clone=function(){return new o(this.op,this.fn,this.args.slice(0),this.implicit)},o.prototype.isUnary=function(){return 1===this.args.length},o.prototype.isBinary=function(){return 2===this.args.length},o.prototype._toString=function(r){var e=r&&r.parenthesis?r.parenthesis:"keep",t=r&&r.implicit?r.implicit:"hide",n=this.args,i=m(this,e,t,n,!1);if(1===n.length){var o=b.getAssociativity(this,e),a=n[0].toString(r);return i[0]&&(a="("+a+")"),"right"===o?this.op+a:a+this.op}if(2===n.length){var s=n[0].toString(r),u=n[1].toString(r);return i[0]&&(s="("+s+")"),i[1]&&(u="("+u+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===t?s+" "+u:s+" "+this.op+" "+u}if(2<n.length&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var c=n.map(function(e,t){return e=e.toString(r),i[t]&&(e="("+e+")"),e});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===t?c.join(" "):c.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},o.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},o.fromJSON=function(e){return new o(e.op,e.fn,e.args,e.implicit)},o.prototype.toHTML=function(r){var e=r&&r.parenthesis?r.parenthesis:"keep",t=r&&r.implicit?r.implicit:"hide",n=this.args,i=m(this,e,t,n,!1);if(1===n.length){var o=b.getAssociativity(this,e),a=n[0].toHTML(r);return i[0]&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===o?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+f(this.op)+"</span>"+a:'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+f(this.op)+"</span>"+a}if(2===n.length){var s=n[0].toHTML(r),u=n[1].toHTML(r);return i[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),i[1]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===t?s+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+u:s+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+f(this.op)+"</span>"+u}var c=n.map(function(e,t){return e=e.toHTML(r),i[t]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e});return 2<n.length&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===t?c.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):c.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+f(this.op)+"</span>"):'<span class="math-function">'+f(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},o.prototype._toTex=function(r){var e=r&&r.parenthesis?r.parenthesis:"keep",t=r&&r.implicit?r.implicit:"hide",n=this.args,i=m(this,e,t,n,!0),o=h.operators[this.fn];if(o=void 0===o?this.op:o,1===n.length){var a=b.getAssociativity(this,e),s=n[0].toTex(r);return i[0]&&(s="\\left("+s+"\\right)"),"right"===a?o+s:s+o}if(2===n.length){var u=n[0],c=u.toTex(r);i[0]&&(c="\\left("+c+"\\right)");var f=n[1].toTex(r);i[1]&&(f="\\left("+f+"\\right)");var l=void 0;switch(l="keep"===e?u.getIdentifier():u.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+c+"}{"+f+"}";case"OperatorNode:pow":switch(c="{"+c+"}",f="{"+f+"}",l){case"ConditionalNode":case"OperatorNode:divide":c="\\left("+c+"\\right)"}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===t)return c+"~"+f}return c+o+f}if(2<n.length&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var p=n.map(function(e,t){return e=e.toTex(r),i[t]&&(e="\\left("+e+"\\right)"),e});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?p.join("~"):p.join(o)}return"\\mathrm{"+this.fn+"}\\left("+n.map(function(e){return e.toTex(r)}).join(",")+"\\right)"},o.prototype.getIdentifier=function(){return this.type+":"+this.fn},o}},function(e,t,s){"use strict";var u=s(9).format,c=s(4).escape;t.name="ConstantNode",t.path="expression.node",t.factory=function(e,t,r,n){var i=r(s(16)),o=r(s(32));function a(e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(2===arguments.length)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=e}return(a.prototype=new i).type="ConstantNode",a.prototype.isConstantNode=!0,a.prototype._compile=function(e,t){var r=this.value;return function(){return r}},a.prototype.forEach=function(e){},a.prototype.map=function(e){return this.clone()},a.prototype.clone=function(){return new a(this.value)},a.prototype._toString=function(e){return u(this.value,e)},a.prototype.toHTML=function(e){var t=this._toString(e);switch(o(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},a.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},a.fromJSON=function(e){return new a(e.value)},a.prototype._toTex=function(e){var t=this._toString(e);switch(o(this.value)){case"string":return"\\mathtt{"+c(t)+"}";case"number":case"BigNumber":var r=t.toLowerCase().indexOf("e");return-1!==r?t.substring(0,r)+"\\cdot10^{"+t.substring(r+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},a}},function(e,t,r){"use strict";var f=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function l(e,t){var r=e;"keep"!==t&&(r=e.getContent());for(var n=r.getIdentifier(),i=0;i<f.length;i++)if(n in f[i])return i;return null}e.exports.properties=f,e.exports.getPrecedence=l,e.exports.getAssociativity=function(e,t){var r=e;"keep"!==t&&(r=e.getContent());var n=r.getIdentifier(),i=l(r,t);if(null===i)return null;var o=f[i][n];if(o.hasOwnProperty("associativity")){if("left"===o.associativity)return"left";if("right"===o.associativity)return"right";throw Error("'"+n+"' has the invalid associativity '"+o.associativity+"'.")}return null},e.exports.isAssociativeWith=function(e,t,r){var n="keep"!==r?e.getContent():e,i="keep"!==r?e.getContent():t,o=n.getIdentifier(),a=i.getIdentifier(),s=l(n,r);if(null===s)return null;var u=f[s][o];if(u.hasOwnProperty("associativeWith")&&u.associativeWith instanceof Array){for(var c=0;c<u.associativeWith.length;c++)if(u.associativeWith[c]===a)return!0;return!1}return null}},function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}(n.prototype=new RangeError).constructor=RangeError,n.prototype.name="IndexError",n.prototype.isIndexError=!0,e.exports=n},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack}(i.prototype=new Error).constructor=Error,i.prototype.name="ArgumentsError",i.prototype.isArgumentsError=!0,e.exports=i},function(e,t,r){"use strict";var n=r(47);e.exports=function(e){for(var t=0;t<e.length;t++)if(n(e[t]))return!0;return!1}},function(e,t,i){"use strict";var h=i(5).clone,d=i(2),v=i(58),y=i(11);function g(e,t,r,n){if(n<r){if(e.length!==t.length)throw new y(e.length,t.length);for(var i=[],o=0;o<e.length;o++)i[o]=g(e[o],t[o],r,n+1);return i}return e.concat(t)}t.name="concat",t.factory=function(l,e,t,r){var p=t(i(1)),m=t(i(31)),n=r("concat",{"...Array | Matrix | number | BigNumber":function(e){var t=void 0,r=e.length,n=-1,i=void 0,o=!1,a=[];for(t=0;t<r;t++){var s=e[t];if(l.isMatrix(s)&&(o=!0),l.isNumber(s)||l.isBigNumber(s)){if(t!==r-1)throw new Error("Dimension must be specified as last argument");if(i=n,n=s.valueOf(),!m(n))throw new TypeError("Integer number expected for dimension");if(n<0||0<t&&i<n)throw new v(n,i+1)}else{var u=h(s).valueOf(),c=d.size(u);if(a[t]=u,i=n,n=c.length-1,0<t&&n!==i)throw new y(i+1,n+1)}}if(0===a.length)throw new SyntaxError("At least one matrix expected");for(var f=a.shift();a.length;)f=g(f,a.shift(),n,0);return o?p(f):f},"...string":function(e){return e.join("")}});return n.toTex=void 0,n}},function(e,t,r){"use strict";var i=r(3).isInteger,o=r(78);function u(e){return e.isInteger()&&e.gte(0)}t.name="combinations",t.factory=function(s,e,t,r){var n=r("combinations",{"number, number":function(e,t){var r;if(!i(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!i(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(e<t)throw new TypeError("k must be less than or equal to n");return t<(r=e-t)?o(r+1,e)/o(1,t):o(t+1,e)/o(1,r)},"BigNumber, BigNumber":function(e,t){var r,n=void 0,i=void 0,o=void 0,a=new s.BigNumber(1);if(!u(e)||!u(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw new TypeError("k must be less than n in function combinations");for(n=e.minus(t),t.lt(n)&&(n=t),o=i=a,r=e.minus(n);o.lte(r);o=o.plus(1))i=i.times(n.plus(o)).dividedBy(o);return i}});return n.toTex={2:"\\binom{${args[0]}}{${args[1]}}"},n}},function(e,t,s){"use strict";var u=s(0);t.name="factorial",t.factory=function(e,t,r,n){var i=r(s(110)),o=s(4),a=n("factorial",{number:function(e){if(e<0)throw new Error("Value must be non-negative");return i(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return i(e.plus(1))},"Array | Matrix":function(e){return u(e,a)}});return a.toTex={1:"\\left(${args[0]}\\right)"+o.operators.factorial},a}},function(e,t,n){"use strict";var z=n(493),B=n(11);t.name="algorithm06",t.factory=function(e,t,r,T){var _=r(n(10)),C=e.SparseMatrix;return function(e,t,r){var n=e._values,i=e._size,o=e._datatype,a=t._values,s=t._size,u=t._datatype;if(i.length!==s.length)throw new B(i.length,s.length);if(i[0]!==s[0]||i[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+s+")");var c=i[0],f=i[1],l=void 0,p=_,m=0,h=r;"string"==typeof o&&o===u&&(l=o,p=T.find(_,[l,l]),m=T.convert(0,l),h=T.find(r,[l,l]));for(var d=n&&a?[]:void 0,v=[],y=[],g=new C({values:d,index:v,ptr:y,size:[c,f],datatype:l}),x=d?[]:void 0,b=[],w=[],N=0;N<f;N++){y[N]=v.length;var M=N+1;if(z(e,N,b,x,w,M,g,h),z(t,N,b,x,w,M,g,h),x)for(var E=y[N];E<v.length;){var A=v[E];if(w[A]===M){var S=x[A];p(S,m)?v.splice(E,1):(d.push(S),E++)}else v.splice(E,1)}else for(var O=y[N];O<v.length;)w[v[O]]!==M?v.splice(O,1):O++}return y[f]=v.length,g}}},function(e,t,r){"use strict";var o=r(0);t.name="isPositive",t.factory=function(e,t,r,n){var i=n("isPositive",{number:function(e){return 0<e},BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return 0<e.s&&0<e.n},Unit:function(e){return i(e.value)},"Array | Matrix":function(e){return o(e,i)}});return i}},function(e,t,s){"use strict";var w=s(5).clone,c=s(9).format;t.name="transpose",t.factory=function(e,t,r,n){var i=s(4),o=r(s(1)),u=e.DenseMatrix,b=e.SparseMatrix,a=n("transpose",{Array:function(e){return a(o(e)).valueOf()},Matrix:function(e){var t=e.size(),r=void 0;switch(t.length){case 1:r=e.clone();break;case 2:var n=t[0],i=t[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+c(t)+")");switch(e.storage()){case"dense":r=function(e,t,r){for(var n=e._data,i=[],o=void 0,a=0;a<r;a++){o=i[a]=[];for(var s=0;s<t;s++)o[s]=w(n[s][a])}return new u({data:i,size:[r,t],datatype:e._datatype})}(e,n,i);break;case"sparse":r=function(e,t,r){for(var n=e._values,i=e._index,o=e._ptr,a=n?[]:void 0,s=[],u=[],c=[],f=0;f<t;f++)c[f]=0;var l=void 0,p=void 0,m=void 0;for(l=0,p=i.length;l<p;l++)c[i[l]]++;for(var h=0,d=0;d<t;d++)u.push(h),h+=c[d],c[d]=u[d];for(u.push(h),m=0;m<r;m++)for(var v=o[m],y=o[m+1],g=v;g<y;g++){var x=c[i[g]]++;s[x]=m,n&&(a[x]=w(n[g]))}return new b({values:a,index:s,ptr:u,size:[r,t],datatype:e._datatype})}(e,n,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+c(this._size)+")")}return r},any:function(e){return w(e)}});return a.toTex={1:"\\left(${args[0]}\\right)"+i.operators.transpose},a}},function(e,t,r){"use strict";var o=r(0);t.name="conj",t.factory=function(e,t,r,n){var i=n("conj",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\left(${args[0]}\\right)^*"},i}},function(e,t,s){"use strict";var u=s(29);t.name="inv",t.factory=function(i,e,t,r){var o=t(s(1)),g=t(s(12)),x=t(s(20)),b=t(s(8)),w=t(s(33)),N=t(s(124)),M=t(s(51)),E=t(s(23)),n=r("inv",{"Array | Matrix":function(e){var t=i.isMatrix(e)?e.size():u.array.size(e);switch(t.length){case 1:if(1===t[0])return i.isMatrix(e)?o([g(1,e.valueOf()[0])]):[g(1,e[0])];throw new RangeError("Matrix must be square (size: "+u.string.format(t)+")");case 2:var r=t[0],n=t[1];if(r===n)return i.isMatrix(e)?o(a(e.valueOf(),r,n),e.storage()):a(e,r,n);throw new RangeError("Matrix must be square (size: "+u.string.format(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+u.string.format(t)+")")}},any:function(e){return g(1,e)}});function a(e,t,r){var n=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(1===t){if(0===(a=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[g(1,a)]]}if(2===t){var u=N(e);if(0===u)throw Error("Cannot calculate inverse, determinant is zero");return[[g(e[1][1],u),g(w(e[0][1]),u)],[g(w(e[1][0]),u),g(e[0][0],u)]]}var c=e.concat();for(n=0;n<t;n++)c[n]=c[n].concat();for(var f=M(t).valueOf(),l=0;l<r;l++){var p=E(c[l][l]),m=l;for(n=l+1;n<t;)E(c[n][l])>p&&(p=E(c[n][l]),m=n),n++;if(0===p)throw Error("Cannot calculate inverse, determinant is zero");(n=m)!==l&&(s=c[l],c[l]=c[n],c[n]=s,s=f[l],f[l]=f[n],f[n]=s);var h=c[l],d=f[l];for(n=0;n<t;n++){var v=c[n],y=f[n];if(n!==l){if(0!==v[l]){for(o=g(w(v[l]),h[l]),i=l;i<r;i++)v[i]=x(v[i],b(o,h[i]));for(i=0;i<r;i++)y[i]=x(y[i],b(o,d[i]))}}else{for(o=h[l],i=l;i<r;i++)v[i]=g(v[i],o);for(i=0;i<r;i++)y[i]=g(y[i],o)}}}return f}return n.toTex={1:"\\left(${args[0]}\\right)^{-1}"},n}},function(e,t,c){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=c(4),p=c(9).escape,m=c(5).hasOwnProperty,x=c(2).map,b=c(13).validateSafeMethod,w=c(13).getSafeProperty;t.name="FunctionNode",t.path="expression.node",t.math=!0,t.factory=function(v,e,t,r,i){var n=t(c(16)),o=t(c(49));function y(e,t){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new o(e)),!v.isNode(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(v.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var r=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:r,set:r})}(y.prototype=new n).type="FunctionNode",y.prototype.isFunctionNode=!0,y.prototype._compile=function(i,t){if(!(this instanceof y))throw new TypeError("No valid FunctionNode");var o=x(this.args,function(e){return e._compile(i,t)});if(v.isSymbolNode(this.fn)){var a=this.fn.name,s=a in i?w(i,a):void 0;if("function"==typeof s&&!0===s.rawArgs){var n=this.args;return function(e,t,r){return(a in e?w(e,a):s)(n,i,g({},e,t))}}if(1===o.length){var u=o[0];return function(e,t,r){return(a in e?w(e,a):s)(u(e,t,r))}}if(2===o.length){var c=o[0],f=o[1];return function(e,t,r){return(a in e?w(e,a):s)(c(e,t,r),f(e,t,r))}}return function(t,r,n){return(a in t?w(t,a):s).apply(null,x(o,function(e){return e(t,r,n)}))}}if(v.isAccessorNode(this.fn)&&v.isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var l=this.fn.object._compile(i,t),p=this.fn.index.getObjectProperty(),m=this.args;return function(t,r,n){var e=l(t,r,n);return b(e,p),e[p]&&e[p].rawArgs?e[p](m,i,g({},t,r)):e[p].apply(e,x(o,function(e){return e(t,r,n)}))}}var h=this.fn._compile(i,t),d=this.args;return function(t,r,n){var e=h(t,r,n);return e&&e.rawArgs?e(d,i,g({},t,r)):e.apply(e,x(o,function(e){return e(t,r,n)}))}},y.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},y.prototype.map=function(e){for(var t=this.fn.map(e),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new y(t,r)},y.prototype.clone=function(){return new y(this.fn,this.args.slice(0))};var a=y.prototype.toString;function s(e,t,r){for(var n="",i=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),o=0,a=void 0;null!==(a=i.exec(e));)if(n+=e.substring(o,a.index),o=a.index,"$$"===a[0])n+="$",o++;else{o+=a[0].length;var s=t[a[1]];if(!s)throw new ReferenceError("Template: Property "+a[1]+" does not exist.");if(void 0===a[2])switch(void 0===s?"undefined":f(s)){case"string":n+=s;break;case"object":if(v.isNode(s))n+=s.toTex(r);else{if(!Array.isArray(s))throw new TypeError("Template: "+a[1]+" has to be a Node, String or array of Nodes");n+=s.map(function(e,t){if(v.isNode(e))return e.toTex(r);throw new TypeError("Template: "+a[1]+"["+t+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+a[1]+" has to be a Node, String or array of Nodes")}else{if(!v.isNode(s[a[2]]&&s[a[2]]))throw new TypeError("Template: "+a[1]+"["+a[2]+"] is not a Node.");n+=s[a[2]].toTex(r)}}return n+=e.slice(o)}y.prototype.toString=function(e){var t=void 0,r=this.fn.toString(e);return e&&"object"===f(e.handler)&&m(e.handler,r)&&(t=e.handler[r](this,e)),void 0!==t?t:a.call(this,e)},y.prototype._toString=function(t){var e=this.args.map(function(e){return e.toString(t)});return(v.isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+e.join(", ")+")"},y.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},y.fromJSON=function(e){return new y(e.fn,e.args)},y.prototype.toHTML=function(t){var e=this.args.map(function(e){return e.toHTML(t)});return'<span class="math-function">'+p(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var u=y.prototype.toTex;return y.prototype.toTex=function(e){var t=void 0;return e&&"object"===f(e.handler)&&m(e.handler,this.name)&&(t=e.handler[this.name](this,e)),void 0!==t?t:u.call(this,e)},y.prototype._toTex=function(t){var e=this.args.map(function(e){return e.toTex(t)}),r=void 0;!i[this.name]||"function"!=typeof i[this.name].toTex&&"object"!==f(i[this.name].toTex)&&"string"!=typeof i[this.name].toTex||(r=i[this.name].toTex);var n=void 0;switch(void 0===r?"undefined":f(r)){case"function":n=r(this,t);break;case"string":n=s(r,this,t);break;case"object":switch(f(r[e.length])){case"function":n=r[e.length](this,t);break;case"string":n=s(r[e.length],this,t)}}return void 0!==n?n:s(l.defaultTemplate,this,t)},y.prototype.getIdentifier=function(){return this.type+":"+this.name},y}},function(e,t,a){"use strict";t.name="ParenthesisNode",t.path="expression.node",t.factory=function(t,e,r,n){var i=r(a(16));function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return(o.prototype=new i).type="ParenthesisNode",o.prototype.isParenthesisNode=!0,o.prototype._compile=function(e,t){return this.content._compile(e,t)},o.prototype.getContent=function(){return this.content.getContent()},o.prototype.forEach=function(e){e(this.content,"content",this)},o.prototype.map=function(e){return new o(e(this.content,"content",this))},o.prototype.clone=function(){return new o(this.content)},o.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},o.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},o.fromJSON=function(e){return new o(e.content)},o.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},o.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left("+this.content.toTex(e)+"\\right)":this.content.toTex(e)},o}},function(e,t,n){"use strict";var q=n(11);t.name="algorithm05",t.factory=function(e,t,r,P){var R=r(n(10)),U=e.SparseMatrix;return function(e,t,r){var n=e._values,i=e._index,o=e._ptr,a=e._size,s=e._datatype,u=t._values,c=t._index,f=t._ptr,l=t._size,p=t._datatype;if(a.length!==l.length)throw new q(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var m=a[0],h=a[1],d=void 0,v=R,y=0,g=r;"string"==typeof s&&s===p&&(d=s,v=P.find(R,[d,d]),y=P.convert(0,d),g=P.find(r,[d,d]));var x=n&&u?[]:void 0,b=[],w=[],N=new U({values:x,index:b,ptr:w,size:[m,h],datatype:d}),M=x?[]:void 0,E=x?[]:void 0,A=[],S=[],O=void 0,T=void 0,_=void 0,C=void 0;for(T=0;T<h;T++){w[T]=b.length;var z=T+1;for(_=o[T],C=o[T+1];_<C;_++)O=i[_],b.push(O),A[O]=z,M&&(M[O]=n[_]);for(_=f[T],C=f[T+1];_<C;_++)A[O=c[_]]!==z&&b.push(O),S[O]=z,E&&(E[O]=u[_]);if(x)for(_=w[T];_<b.length;){var B=A[O=b[_]],I=S[O];if(B===z||I===z){var k=g(B===z?M[O]:y,I===z?E[O]:y);v(k,y)?b.splice(_,1):(x.push(k),_++)}}}return w[h]=b.length,N}}},function(e,t,r){"use strict";e.exports=function(e){return e&&e.constructor.prototype.isMatrix||!1}},function(e,t,r){"use strict";t.factory=function(s,e,t,r){return function(e,t,r){var n=e.filter(function(e){return s.isSymbolNode(e)&&!(e.name in t)&&!(e.name in r)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+e+'"');var i=n.name,o=Object.create(r),a=e.compile();return function(e){return o[i]=e,a.eval(o)}}}},function(e,t,a){"use strict";var f=a(59),l=a(47),v=a(3).isNumber;t.name="distribution",t.factory=function(m,e,t,n,r){var u=t(a(1)),h=a(2),d=t(a(430));function i(e){if(!o.hasOwnProperty(e))throw new Error("Unknown distribution "+e);var t=Array.prototype.slice.call(arguments,1);return function(r){function o(e,t,r){var n=void 0===t;if(n&&(t=1),m.isMatrix(e))e=e.valueOf();else if(!Array.isArray(e))throw new TypeError("Unsupported type of value in function pickRandom");if(1<h.size(e).length)throw new Error("Only one dimensional vectors supported");var i=0;if(void 0!==r){if(r.length!==e.length)throw new Error("Weights must have the same length as possibles");for(var o=0,a=r.length;o<a;o++){if(!v(r[o])||r[o]<0)throw new Error("Weights must be an array of positive numbers");i+=r[o]}}var s=e.length;if(0===s)return[];if(s<=t)return 1<t?e:e[0];for(var u=[],c=void 0;u.length<t;){if(void 0===r)c=e[Math.floor(d()*s)];else for(var f=d()*i,l=0,p=e.length;l<p;l++)if((f-=r[l])<0){c=e[l];break}-1===u.indexOf(c)&&u.push(c)}return n?u[0]:u}function s(e,t){return e+r()*(t-e)}function a(e,t){return Math.floor(e+r()*(t-e))}function c(e,t,r,n){var i=[];if(1<(e=e.slice(0)).length)for(var o=0,a=e.shift();o<a;o++)i.push(c(e,t,r,n));else for(var s=0,u=e.shift();s<u;s++)i.push(n(t,r));return i}return{random:function(e,t,r){var n=void 0,i=void 0,o=void 0;if(3<arguments.length)throw new f("random",arguments.length,0,3);if(1===arguments.length?l(e)?n=e:o=e:2===arguments.length?(l(e)?n=e:i=e,o=t):(n=e,i=t,o=r),void 0!==i&&!v(i)||void 0!==o&&!v(o))throw new TypeError("Invalid argument in function random");if(void 0===o&&(o=1),void 0===i&&(i=0),void 0!==n){var a=c(n.valueOf(),i,o,s);return m.isMatrix(n)?u(a):a}return s(i,o)},randomInt:n({"number | Array":function(e){if(l(e)){var t=e,r=c(t.valueOf(),0,1,a);return m.isMatrix(t)?u(r):r}return a(0,e)},"number | Array, number":function(e,t){if(l(e)){var r=e,n=t,i=c(r.valueOf(),0,n,a);return m.isMatrix(r)?u(i):i}return a(e,t)},"Array, number, number":function(e,t,r){var n=c(e.valueOf(),t,r,a);return e&&!0===e.isMatrix?u(n):n}}),pickRandom:n({Array:function(e){return o(e)},"Array, number | Array":function(e,t){var r=void 0,n=void 0;if(Array.isArray(t))n=t;else{if(!v(t))throw new TypeError("Invalid argument in function pickRandom");r=t}return o(e,r,n)},"Array, number | Array, Array | number":function(e,t,r){var n=void 0,i=void 0;if(Array.isArray(t)?(i=t,n=r):(i=r,n=t),!Array.isArray(i)||!v(n))throw new TypeError("Invalid argument in function pickRandom");return o(e,n,i)}})}}(o[e].apply(this,t))}var o={uniform:function(){return d},normal:function(){return function(){for(var e=void 0,t=void 0,r=-1;r<0||1<r;)e=d(),t=d(),r=1/6*Math.pow(-2*Math.log(e),.5)*Math.cos(2*Math.PI*t)+.5;return r}}};return i.toTex=void 0,i}},function(e,t,r){"use strict";var i=r(2).size,o=r(72),a=r(58);function s(e,t,r){var n=void 0,i=void 0,o=void 0,a=void 0;if(t<=0){if(Array.isArray(e[0])){for(a=function(e){var t=e.length,r=e[0].length,n=void 0,i=void 0,o=[];for(i=0;i<r;i++){var a=[];for(n=0;n<t;n++)a.push(e[n][i]);o.push(a)}return o}(e),i=[],n=0;n<a.length;n++)i[n]=s(a[n],t-1,r);return i}for(o=e[0],n=1;n<e.length;n++)o=r(o,e[n]);return o}for(i=[],n=0;n<e.length;n++)i[n]=s(e[n],t-1,r);return i}e.exports=function(e,t,r){var n=Array.isArray(e)?i(e):e.size();if(t<0||t>=n.length)throw new a(t,n.length);return o(e)?e.create(s(e.valueOf(),t,r)):s(e,t,r)}},function(e,t,c){"use strict";var f=c(37),l=c(75),p=c(60);t.name="max",t.factory=function(e,t,r,n){var i=r(c(34)),o=r(c(30)),a=n("max",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(e,t){return l(e,t.valueOf(),s)},"...":function(e){if(p(e))throw new TypeError("Scalar values expected in function max");return u(e)}});return a.toTex="\\max\\left(${args}\\right)",a;function s(e,t){try{return i(e,t)?e:t}catch(e){throw o(e,"max",t)}}function u(e){var r=void 0;if(f(e,function(t){try{(void 0===r||i(t,r))&&(r=t)}catch(e){throw o(e,"max",t)}}),void 0===r)throw new Error("Cannot calculate max of an empty array");return r}}},function(e,t,u){"use strict";var c=u(3).isInteger;t.name="partitionSelect",t.factory=function(n,e,t,r){var i=t(u(48));function o(e,t){return-i(e,t)}return r("partitionSelect",{"Array | Matrix, number":function(e,t){return a(e,t,i)},"Array | Matrix, number, string":function(e,t,r){if("asc"===r)return a(e,t,i);if("desc"===r)return a(e,t,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":a});function a(e,t,r){if(!c(t)||t<0)throw new Error("k must be a non-negative integer");if(n.isMatrix(e)){if(1<e.size().length)throw new Error("Only one dimensional matrices supported");return s(e.valueOf(),t,r)}if(Array.isArray(e))return s(e,t,r)}function s(e,t,r){if(t>=e.length)throw new Error("k out of bounds");for(var n=0,i=e.length-1;n<i;){for(var o=n,a=i,s=e[Math.floor(Math.random()*(i-n+1))+n];o<a;)if(0<=r(e[o],s)){var u=e[a];e[a]=e[o],e[o]=u,--a}else++o;0<r(e[o],s)&&--o,t<=o?i=o:n=o+1}return e[t]}}},function(e,t,r){"use strict";e.exports=function e(t,r){var n;return r<t?1:r===t?r:e(t,n=r+t>>1)*e(n+1,r)}},function(e,t,n){"use strict";var P=n(11);t.name="algorithm08",t.factory=function(e,t,r,B){var I=r(n(10)),k=e.SparseMatrix;return function(e,t,r){var n=e._values,i=e._index,o=e._ptr,a=e._size,s=e._datatype,u=t._values,c=t._index,f=t._ptr,l=t._size,p=t._datatype;if(a.length!==l.length)throw new P(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!n||!u)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var m=a[0],h=a[1],d=void 0,v=I,y=0,g=r;"string"==typeof s&&s===p&&(d=s,v=B.find(I,[d,d]),y=B.convert(0,d),g=B.find(r,[d,d]));for(var x=[],b=[],w=[],N=new k({values:x,index:b,ptr:w,size:[m,h],datatype:d}),M=[],E=[],A=void 0,S=void 0,O=void 0,T=void 0,_=0;_<h;_++){w[_]=b.length;var C=_+1;for(S=o[_],O=o[_+1],A=S;A<O;A++)E[T=i[A]]=C,M[T]=n[A],b.push(T);for(S=f[_],O=f[_+1],A=S;A<O;A++)E[T=c[A]]===C&&(M[T]=g(M[T],u[A]));for(A=w[_];A<b.length;){var z=M[T=b[A]];v(z,y)?b.splice(A,1):(x.push(z),A++)}}return w[h]=b.length,N}}},function(e,t,r){"use strict";e.exports=function(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,r=t.precision;t.config({precision:1e9});var n=e.plus(new t(1));return n.s=-n.s||null,t.config({precision:r}),n}},function(e,t,r){"use strict";var b=r(80);function w(e){for(var t=e.d,r=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",o=7-i.length;o--;)i="0"+i;r+=i}for(var a=r.length;"0"===r.charAt(a);)a--;var s=e.e,u=r.slice(0,a+1||1),c=u.length;if(0<s)if(++s>c)for(s-=c;s--;)u+="0";else s<c&&(u=u.slice(0,s)+"."+u.slice(s));for(var f=[0],l=0;l<u.length;){for(var p=f.length;p--;)f[p]*=10;f[0]+=parseInt(u.charAt(l++));for(var m=0;m<f.length;++m)1<f[m]&&(null!==f[m+1]&&void 0!==f[m+1]||(f[m+1]=0),f[m+1]+=f[m]>>1,f[m]&=1)}return f.reverse()}e.exports=function(e,t,r){var n=e.constructor,i=void 0,o=void 0,a=+(e.s<0),s=+(t.s<0);if(a){i=w(b(e));for(var u=0;u<i.length;++u)i[u]^=1}else i=w(e);if(s){o=w(b(t));for(var c=0;c<o.length;++c)o[c]^=1}else o=w(t);var f=void 0,l=void 0,p=void 0;i.length<=o.length?(f=i,l=o,p=a):(f=o,l=i,p=s);var m=f.length,h=l.length,d=1^r(a,s),v=new n(1^d),y=new n(1),g=new n(2),x=n.precision;for(n.config({precision:1e9});0<m;)r(f[--m],l[--h])===d&&(v=v.plus(y)),y=y.times(g);for(;0<h;)r(p,l[--h])===d&&(v=v.plus(y)),y=y.times(g);return n.config({precision:x}),0===d&&(v.s=-v.s),v}},function(e,t,a){"use strict";var s=a(0);t.name="log",t.factory=function(t,r,e,n){var i=e(a(12)),o=n("log",{number:function(e){return 0<=e||r.predictable?Math.log(e):new t.Complex(e,0).log()},Complex:function(e){return e.log()},BigNumber:function(e){return!e.isNegative()||r.predictable?e.ln():new t.Complex(e.toNumber(),0).log()},"Array | Matrix":function(e){return s(e,o)},"any, any":function(e,t){return i(o(e),o(t))}});return o.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},o}},function(e,t,r){"use strict";var n=r(29),y=n.string,g=n.array,x=Array.isArray;t.factory=function(d){var v=d.DenseMatrix;return function(e,t,r){var n=e.size();if(2!==n.length)throw new RangeError("Matrix must be two dimensional (size: "+y.format(n)+")");var i=n[0];if(i!==n[1])throw new RangeError("Matrix must be square (size: "+y.format(n)+")");var o=void 0,a=void 0,s=void 0;if(d.isMatrix(t)){var u=t.size();if(1===u.length){if(u[0]!==i)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],s=t._data,a=0;a<i;a++)o[a]=[s[a]];return new v({data:o,size:[i,1],datatype:t._datatype})}if(2===u.length){if(u[0]!==i||1!==u[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(d.isDenseMatrix(t)){if(r){for(o=[],s=t._data,a=0;a<i;a++)o[a]=[s[a][0]];return new v({data:o,size:[i,1],datatype:t._datatype})}return t}for(o=[],a=0;a<i;a++)o[a]=[0];for(var c=t._values,f=t._index,l=t._ptr,p=l[1],m=l[0];m<p;m++)o[a=f[m]][0]=c[m];return new v({data:o,size:[i,1],datatype:t._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(x(t)){var h=g.size(t);if(1===h.length){if(h[0]!==i)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],a=0;a<i;a++)o[a]=[t[a]];return new v({data:o,size:[i,1]})}if(2===h.length){if(h[0]!==i||1!==h[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],a=0;a<i;a++)o[a]=[t[a][0]];return new v({data:o,size:[i,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}}}},function(e,t,r){"use strict";t.name="csFlip",t.path="algebra.sparse",t.factory=function(){return function(e){return-e-2}}},function(e,t,a){"use strict";var P=a(29).object;t.name="lup",t.factory=function(e,t,r,n){var i=r(a(1)),O=r(a(23)),E=r(a(20)),T=r(a(12)),_=r(a(21)),A=r(a(14)),C=r(a(34)),z=r(a(10)),B=r(a(33)),I=e.SparseMatrix,S=e.DenseMatrix,k=e.Spa;function o(e){var t=e._size[0],r=e._size[1],n=Math.min(t,r),i=P.clone(e._data),o=[],a=[t,n],s=[],u=[n,r],c=void 0,f=void 0,l=void 0,p=[];for(c=0;c<t;c++)p[c]=c;for(f=0;f<r;f++){if(0<f)for(c=0;c<t;c++){var m=Math.min(c,f),h=0;for(l=0;l<m;l++)h=E(h,_(i[c][l],i[l][f]));i[c][f]=A(i[c][f],h)}var d=f,v=0,y=0;for(c=f;c<t;c++){var g=i[c][f],x=O(g);C(x,v)&&(d=c,v=x,y=g)}if(f!==d&&(p[f]=[p[d],p[d]=p[f]][0],S._swapRows(f,d,i)),f<t)for(c=f+1;c<t;c++){var b=i[c][f];z(b,0)||(i[c][f]=T(i[c][f],y))}}for(f=0;f<r;f++)for(c=0;c<t;c++)0===f&&(c<r&&(s[c]=[]),o[c]=[]),c<f?(c<r&&(s[c][f]=i[c][f]),f<t&&(o[c][f]=0)):c!==f?(c<r&&(s[c][f]=0),f<t&&(o[c][f]=i[c][f])):(c<r&&(s[c][f]=i[c][f]),f<t&&(o[c][f]=1));var w=new S({data:o,size:a}),N=new S({data:s,size:u}),M=[];for(c=0,n=p.length;c<n;c++)M[p[c]]=c;return{L:w,U:N,p:M,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}return n("lup",{DenseMatrix:function(e){return o(e)},SparseMatrix:function(e){return function(e){var f=e._size[0],t=e._size[1],r=Math.min(f,t),l=e._values,p=e._index,m=e._ptr,h=[],d=[],v=[],y=[f,r],g=[],x=[],b=[],w=[r,t],N=void 0,M=void 0,E=void 0,A=[],S=[];for(N=0;N<f;N++)A[N]=N,S[N]=N;var n=function(){var i=new k;M<f&&(v.push(h.length),h.push(1),d.push(M)),b.push(g.length);var e=m[M],t=m[M+1];for(E=e;E<t;E++)N=p[E],i.set(A[N],l[E]);0<M&&i.forEach(0,M-1,function(r,n){I._forEachRow(r,h,d,v,function(e,t){r<e&&i.accumulate(e,B(_(t,n)))})});var r,n,o,a,s=M,u=i.get(M),c=O(u);i.forEach(M+1,f-1,function(e,t){var r=O(t);C(r,c)&&(s=e,c=r,u=t)}),M!==s&&(I._swapRows(M,s,y[1],h,d,v),I._swapRows(M,s,w[1],g,x,b),i.swap(M,s),n=s,o=S[r=M],a=S[n],A[o]=n,A[a]=r,S[r]=a,S[n]=o),i.forEach(0,f-1,function(e,t){e<=M?(g.push(t),x.push(e)):(t=T(t,u),z(t,0)||(h.push(t),d.push(e)))})};for(M=0;M<t;M++)n();return b.push(g.length),v.push(h.length),{L:new I({values:h,index:d,ptr:v,size:y}),U:new I({values:g,index:x,ptr:b,size:w}),p:A,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(e)},Array:function(e){var t=o(i(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}})}},function(e,t,z){"use strict";var B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.math=!0,t.name="simplify",t.factory=function(l,e,t,r,p){var c=t(z(41)),m=t(z(50)),h=t(z(56)),d=t(z(69)),v=t(z(55)),s=t(z(70)),y=t(z(49)),n=t(z(127)),i=t(z(125)),u=t(z(523)),o=t(z(126)),g=o.isCommutative,x=o.isAssociative,f=o.flatten,b=o.unflattenr,w=o.unflattenl,N=o.createMakeNodeFunction,a=r("simplify",{string:function(e){return a(c(e),a.rules,{})},"string, Object":function(e,t){return a(c(e),a.rules,t)},"string, Array":function(e,t){return a(c(e),t,{})},"string, Array, Object":function(e,t,r){return a(c(e),t,r)},"Node, Object":function(e,t){return a(e,a.rules,t)},Node:function(e){return a(e,a.rules,{})},"Node, Array":function(e,t){return a(e,t,{})},"Node, Array, Object":function(e,t,r){t=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=void 0,o=void 0===n?"undefined":B(n);switch(o){case"string":var a=n.split("->");if(2!==a.length)throw SyntaxError("Could not parse rule: "+n);n={l:a[0],r:a[1]};case"object":if(i={l:M(c(n.l)),r:M(c(n.r))},n.context&&(i.evaluate=n.context),n.evaluate&&(i.evaluate=c(n.evaluate)),x(i.l)){var s=N(i.l),u=new y("_p"+A++);i.expanded={},i.expanded.l=s([i.l.clone(),u]),f(i.expanded.l),b(i.expanded.l),i.expanded.r=s([i.r,u])}break;case"function":i=n;break;default:throw TypeError("Unsupported type of rule: "+o)}t.push(i)}return t}(t);for(var n=u(e,r),i={},o=(n=M(n)).toString({parenthesis:"all"});!i[o];){i[o]=!0;for(var a=A=0;a<t.length;a++)"function"==typeof t[a]?n=t[a](n):(f(n),n=S(n,t[a])),w(n);o=n.toString({parenthesis:"all"})}return n}});function M(e){return e.transform(function(e,t,r){return l.isParenthesisNode(e)?e.content:e})}a.simplifyCore=i,a.resolve=u;var E={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};a.rules=[i,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},n,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"}];var A=0,S=r("applyRule",{"Node, Object":function(e,t){var r=e;if(r instanceof v||r instanceof d){if(r.args)for(var n=0;n<r.args.length;n++)r.args[n]=S(r.args[n],t)}else r instanceof s&&r.content&&(r.content=S(r.content,t));var i=t.r,o=_(t.l,r)[0];if(!o&&t.expanded&&(i=t.expanded.r,o=_(t.expanded.l,r)[0]),o){var a=r.implicit;r=i.clone(),a&&"implicit"in i&&(r.implicit=!0),r=function e(t){return t.isSymbolNode&&o.placeholders.hasOwnProperty(t.name)?o.placeholders[t.name].clone():t.map(e)}(r)}return r}});function O(e,t){var r={placeholders:{}};if(!e.placeholders&&!t.placeholders)return r;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var n in e.placeholders)if(r.placeholders[n]=e.placeholders[n],t.placeholders.hasOwnProperty(n)&&!C(e.placeholders[n],t.placeholders[n]))return null;for(var i in t.placeholders)r.placeholders[i]=t.placeholders[i];return r}function T(e,t){var r=[];if(0===e.length||0===t.length)return r;for(var n=void 0,i=0;i<e.length;i++)for(var o=0;o<t.length;o++)(n=O(e[i],t[o]))&&r.push(n);return r}function _(e,t,r){var n=[{placeholders:{}}];if(e instanceof v&&t instanceof v||e instanceof d&&t instanceof d){if(e instanceof v){if(e.op!==t.op||e.fn!==t.fn)return[]}else if(e instanceof d&&e.name!==t.name)return[];if((1!==t.args.length||1!==e.args.length)&&x(t)&&!r){if(2<=t.args.length&&2===e.args.length){for(var i=function(e,t){var r=[],n=void 0,i=void 0,o=N(e);if(g(e,t))for(var a=0;a<e.args.length;a++)(i=e.args.slice(0)).splice(a,1),n=1===i.length?i[0]:o(i),r.push(o([e.args[a],n]));else n=1===(i=e.args.slice(1)).length?i[0]:o(i),r.push(o([e.args[0],n]));return r}(t,e.context),o=[],a=0;a<i.length;a++){var s=_(e,i[a],!0);o=o.concat(s)}return o}if(2<e.args.length)throw Error("Unexpected non-binary associative function: "+e.toString());return[]}for(var u=[],c=0;c<e.args.length;c++){var f=_(e.args[c],t.args[c]);if(0===f.length)return[];u.push(f)}n=function(e){if(0===e.length)return e;for(var t=e.reduce(T),r=[],n={},i=0;i<t.length;i++){var o=JSON.stringify(t[i]);n[o]||(n[o]=!0,r.push(t[i]))}return r}(u)}else if(e instanceof y){if(0===e.name.length)throw new Error("Symbol in rule has 0 length...!?");if(p.hasOwnProperty(e.name)){if(!E[e.name])throw new Error("Built in constant: "+e.name+" is not supported by simplify.");if(e.name!==t.name)return[]}else if("n"===e.name[0]||"_p"===e.name.substring(0,2))n[0].placeholders[e.name]=t;else if("v"===e.name[0]){if(l.isConstantNode(t))return[];n[0].placeholders[e.name]=t}else{if("c"!==e.name[0])throw new Error("Invalid symbol in rule: "+e.name);if(!(t instanceof h))return[];n[0].placeholders[e.name]=t}}else{if(!(e instanceof h))return[];if(!m(e.value,t.value))return[]}return n}function C(e,t){if(e instanceof h&&t instanceof h){if(!m(e.value,t.value))return!1}else if(e instanceof y&&t instanceof y){if(e.name!==t.name)return!1}else{if(!(e instanceof v&&t instanceof v||e instanceof d&&t instanceof d))return!1;if(e instanceof v){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof d&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var r=0;r<e.args.length;r++)if(!C(e.args[r],t.args[r]))return!1}return!0}return a}},function(e,t,r){"use strict";var o=r(0);t.name="isNumeric",t.factory=function(e,t,r,n){var i=n("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string":function(){return!1},"Array | Matrix":function(e){return o(e,i)}});return i}},function(e,t,r){"use strict";var o=r(0);t.name="number",t.factory=function(e,t,r,n){var i=n("number",{"":function(){return 0},number:function(e){return e},string:function(e){var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},i}},function(e,t,n){"use strict";var U=n(11);t.name="algorithm04",t.factory=function(e,t,r,k){var P=r(n(10)),R=e.SparseMatrix;return function(e,t,r){var n=e._values,i=e._index,o=e._ptr,a=e._size,s=e._datatype,u=t._values,c=t._index,f=t._ptr,l=t._size,p=t._datatype;if(a.length!==l.length)throw new U(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var m=a[0],h=a[1],d=void 0,v=P,y=0,g=r;"string"==typeof s&&s===p&&(d=s,v=k.find(P,[d,d]),y=k.convert(0,d),g=k.find(r,[d,d]));var x=n&&u?[]:void 0,b=[],w=[],N=new R({values:x,index:b,ptr:w,size:[m,h],datatype:d}),M=n&&u?[]:void 0,E=n&&u?[]:void 0,A=[],S=[],O=void 0,T=void 0,_=void 0,C=void 0,z=void 0;for(T=0;T<h;T++){w[T]=b.length;var B=T+1;for(C=o[T],z=o[T+1],_=C;_<z;_++)O=i[_],b.push(O),A[O]=B,M&&(M[O]=n[_]);for(C=f[T],z=f[T+1],_=C;_<z;_++)if(A[O=c[_]]===B){if(M){var I=g(M[O],u[_]);v(I,y)?A[O]=null:M[O]=I}}else b.push(O),S[O]=B,E&&(E[O]=u[_]);if(M&&E)for(_=w[T];_<b.length;)A[O=b[_]]===B?(x[_]=M[O],_++):S[O]===B?(x[_]=E[O],_++):b.splice(_,1)}return w[h]=b.length,N}}},function(e,t,r){"use strict";var o=r(29).string.isString;t.name="Matrix",t.path="type",t.factory=function(e,t,r,n){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(e){if(!o(e))throw new TypeError("format must be a string value");var t=i._storage[e];if(!t)throw new SyntaxError("Unsupported matrix storage format: "+e);return t},i._storage={},i.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},i.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},i}},function(e,t,r){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(551),s=r(3).format,u=r(3).isNumber;t.name="Complex",t.path="type",t.factory=function(i,e,t,r,n){return a.prototype.type="Complex",a.prototype.isComplex=!0,a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},a.prototype.format=function(e){var t=this.im,r=this.re,n=s(this.re,e),i=s(this.im,e),o=u(e)?e:e?e.precision:null;if(null!==o){var a=Math.pow(10,-o);Math.abs(r/t)<a&&(r=0),Math.abs(t/r)<a&&(t=0)}return 0===t?n:0===r?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?n+" - i":n+" - "+i.substring(1)+"i":1===t?n+" + i":n+" + "+i+"i"},a.fromPolar=function(e){switch(arguments.length){case 1:var t=e;if("object"===(void 0===t?"undefined":o(t)))return a(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=e,n=arguments[1];if(u(r)){if(i.isUnit(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),u(n))return new a({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},a.prototype.valueOf=a.prototype.toString,a.fromJSON=function(e){return new a(e)},a.EPSILON=e.epsilon,n.on("config",function(e,t){e.epsilon!==t.epsilon&&(a.EPSILON=e.epsilon)}),a.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},a},t.math=!0},function(e,t,r){"use strict";e.exports=function(e){return e&&e.constructor.prototype.isBigNumber||!1}},function(e,t,s){"use strict";var u=s(5).extend,c=s(13);t.name="Parser",t.path="expression",t.factory=function(e,t,r,n,i){var o=r(s(41));function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return a.prototype.type="Parser",a.prototype.isParser=!0,a.prototype.parse=function(e){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},a.prototype.compile=function(e){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},a.prototype.eval=function(e){return o(e).compile().eval(this.scope)},a.prototype.get=function(e){return e in this.scope?c.getSafeProperty(this.scope,e):void 0},a.prototype.getAll=function(){return u({},this.scope)},a.prototype.set=function(e,t){return c.setSafeProperty(this.scope,e,t)},a.prototype.remove=function(e){delete this.scope[e]},a.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&&delete this.scope[e]},a},t.math=!0},function(e,t,a){"use strict";t.name="parser",t.factory=function(e,t,r,n,i){var o=r(a(93));return n("parser",{"":function(){return new o(i)}})},t.math=!0},function(e,t,r){"use strict";e.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},function(e,t,r){"use strict";e.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},function(e,t,o){"use strict";t.name="docs",t.path="expression",t.factory=function(e,t,r,n){var i={};return i.bignumber=o(370),i.boolean=o(369),i.complex=o(368),i.createUnit=o(367),i.fraction=o(366),i.index=o(365),i.matrix=o(364),i.number=o(363),i.sparse=o(362),i.splitUnit=o(361),i.string=o(360),i.unit=o(359),i.e=o(96),i.E=o(96),i.false=o(358),i.i=o(357),i[1/0]=o(356),i.LN2=o(355),i.LN10=o(354),i.LOG2E=o(353),i.LOG10E=o(352),i.NaN=o(351),i.null=o(350),i.pi=o(95),i.PI=o(95),i.phi=o(349),i.SQRT1_2=o(348),i.SQRT2=o(347),i.tau=o(346),i.true=o(345),i.version=o(344),i.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},i.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},i.planckConstant={description:"Planck constant",examples:["planckConstant"]},i.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},i.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},i.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},i.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},i.coulomb={description:"Coulomb's constant",examples:["coulomb"]},i.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},i.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},i.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},i.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},i.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},i.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},i.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},i.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},i.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},i.electronMass={description:"Electron mass",examples:["electronMass"]},i.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},i.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},i.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},i.protonMass={description:"Proton mass",examples:["protonMass"]},i.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},i.neutronMass={description:"Neutron mass",examples:["neutronMass"]},i.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},i.rydberg={description:"Rydberg constant",examples:["rydberg"]},i.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},i.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},i.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},i.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},i.avogadro={description:"Avogadro's number",examples:["avogadro"]},i.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},i.faraday={description:"Faraday constant",examples:["faraday"]},i.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},i.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},i.gasConstant={description:"Gas constant",examples:["gasConstant"]},i.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},i.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},i.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},i.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},i.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},i.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},i.molarMass={description:"Molar mass constant",examples:["molarMass"]},i.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},i.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},i.planckLength={description:"Planck length",examples:["planckLength"]},i.planckMass={description:"Planck mass",examples:["planckMass"]},i.planckTime={description:"Planck time",examples:["planckTime"]},i.planckCharge={description:"Planck charge",examples:["planckCharge"]},i.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},i.derivative=o(343),i.lsolve=o(342),i.lup=o(341),i.lusolve=o(340),i.simplify=o(339),i.rationalize=o(338),i.slu=o(337),i.usolve=o(336),i.qr=o(335),i.abs=o(334),i.add=o(333),i.cbrt=o(332),i.ceil=o(331),i.cube=o(330),i.divide=o(329),i.dotDivide=o(328),i.dotMultiply=o(327),i.dotPow=o(326),i.exp=o(325),i.expm=o(324),i.expm1=o(323),i.fix=o(322),i.floor=o(321),i.gcd=o(320),i.hypot=o(319),i.lcm=o(318),i.log=o(317),i.log2=o(316),i.log1p=o(315),i.log10=o(314),i.mod=o(313),i.multiply=o(312),i.norm=o(311),i.nthRoot=o(310),i.nthRoots=o(309),i.pow=o(308),i.round=o(307),i.sign=o(306),i.sqrt=o(305),i.sqrtm=o(304),i.square=o(303),i.subtract=o(302),i.unaryMinus=o(301),i.unaryPlus=o(300),i.xgcd=o(299),i.bitAnd=o(298),i.bitNot=o(297),i.bitOr=o(296),i.bitXor=o(295),i.leftShift=o(294),i.rightArithShift=o(293),i.rightLogShift=o(292),i.bellNumbers=o(291),i.catalan=o(290),i.composition=o(289),i.stirlingS2=o(288),i.config=o(287),i.import=o(286),i.typed=o(285),i.arg=o(284),i.conj=o(283),i.re=o(282),i.im=o(281),i.eval=o(280),i.help=o(279),i.distance=o(278),i.intersect=o(277),i.and=o(276),i.not=o(275),i.or=o(274),i.xor=o(273),i.concat=o(272),i.cross=o(271),i.ctranspose=o(270),i.det=o(269),i.diag=o(268),i.dot=o(267),i.identity=o(266),i.filter=o(265),i.flatten=o(264),i.forEach=o(263),i.inv=o(262),i.kron=o(261),i.map=o(260),i.ones=o(259),i.partitionSelect=o(258),i.range=o(257),i.resize=o(256),i.reshape=o(255),i.size=o(254),i.sort=o(253),i.squeeze=o(252),i.subset=o(251),i.trace=o(250),i.transpose=o(249),i.zeros=o(248),i.combinations=o(247),i.factorial=o(246),i.gamma=o(245),i.kldivergence=o(244),i.multinomial=o(243),i.permutations=o(242),i.pickRandom=o(241),i.random=o(240),i.randomInt=o(239),i.compare=o(238),i.compareNatural=o(237),i.compareText=o(236),i.deepEqual=o(235),i.equal=o(234),i.equalText=o(233),i.larger=o(232),i.largerEq=o(231),i.smaller=o(230),i.smallerEq=o(229),i.unequal=o(228),i.setCartesian=o(227),i.setDifference=o(226),i.setDistinct=o(225),i.setIntersect=o(224),i.setIsSubset=o(223),i.setMultiplicity=o(222),i.setPowerset=o(221),i.setSize=o(220),i.setSymDifference=o(219),i.setUnion=o(218),i.erf=o(217),i.mad=o(216),i.max=o(215),i.mean=o(214),i.median=o(213),i.min=o(212),i.mode=o(211),i.prod=o(210),i.quantileSeq=o(209),i.std=o(208),i.sum=o(207),i.var=o(206),i.acos=o(205),i.acosh=o(204),i.acot=o(203),i.acoth=o(202),i.acsc=o(201),i.acsch=o(200),i.asec=o(199),i.asech=o(198),i.asin=o(197),i.asinh=o(196),i.atan=o(195),i.atanh=o(194),i.atan2=o(193),i.cos=o(192),i.cosh=o(191),i.cot=o(190),i.coth=o(189),i.csc=o(188),i.csch=o(187),i.sec=o(186),i.sech=o(185),i.sin=o(184),i.sinh=o(183),i.tan=o(182),i.tanh=o(181),i.to=o(180),i.clone=o(179),i.format=o(178),i.isNaN=o(177),i.isInteger=o(176),i.isNegative=o(175),i.isNumeric=o(174),i.isPositive=o(173),i.isPrime=o(172),i.isZero=o(171),i.typeof=o(170),i}},function(e,t,o){"use strict";var p=o(37);t.name="var",t.factory=function(a,e,t,r){var s=t(o(20)),u=t(o(14)),c=t(o(21)),f=t(o(12)),l=t(o(30)),n=r("variance",{"Array | Matrix":function(e){return i(e,"unbiased")},"Array | Matrix, string":i,"...":function(e){return i(e,"unbiased")}});return n.toTex="\\mathrm{Var}\\left(${args}\\right)",n;function i(e,t){var r=0,n=0;if(0===e.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(p(e,function(t){try{r=s(r,t),n++}catch(e){throw l(e,"var",t)}}),0===n)throw new Error("Cannot calculate var of an empty array");var i=f(r,n);switch(r=0,p(e,function(e){var t=u(e,i);r=s(r,c(t,t))}),t){case"uncorrected":return f(r,n);case"biased":return f(r,n+1);case"unbiased":var o=a.isBigNumber(r)?new a.BigNumber(0):0;return 1===n?o:f(r,n-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}}},function(e,t,c){"use strict";var f=c(37),l=c(75),p=c(60);t.name="min",t.factory=function(e,t,r,n){var i=r(c(44)),o=r(c(30)),a=n("min",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(e,t){return l(e,t.valueOf(),s)},"...":function(e){if(p(e))throw new TypeError("Scalar values expected in function min");return u(e)}});return a.toTex="\\min\\left(${args}\\right)",a;function s(e,t){try{return i(e,t)?e:t}catch(e){throw o(e,"min",t)}}function u(e){var r=void 0;if(f(e,function(t){try{(void 0===r||i(t,r))&&(r=t)}catch(e){throw o(e,"min",t)}}),void 0===r)throw new Error("Cannot calculate min of an empty array");return r}}},function(e,t,c){"use strict";var f=c(2).size,l=c(37),p=c(75),m=c(60);t.name="mean",t.factory=function(e,t,r,n){var i=r(c(15)),o=r(c(39)),a=r(c(30)),s=n("mean",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(e,t){try{var r=p(e,t,i),n=Array.isArray(e)?f(e):e.size();return o(r,n[t])}catch(e){throw a(e,"mean")}},"...":function(e){if(m(e))throw new TypeError("Scalar values expected in function mean");return u(e)}});return s.toTex=void 0,s;function u(e){var r=0,n=0;if(l(e,function(t){try{r=i(r,t),n++}catch(e){throw a(e,"mean",t)}}),0===n)throw new Error("Cannot calculate mean of an empty array");return o(r,n)}}},function(e,t,m){"use strict";var h=m(2).flatten,d=m(60);t.name="median",t.factory=function(e,t,r,n){var i=r(m(20)),o=r(m(12)),s=r(m(48)),u=r(m(77)),c=r(m(30)),a=n("median",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(d(e))throw new TypeError("Scalar values expected in function median");return f(e)}});function f(e){try{var t=(e=h(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var r=t/2-1,n=u(e,r+1),i=e[r],o=0;o<r;++o)0<s(e[o],i)&&(i=e[o]);return p(i,n)}var a=u(e,(t-1)/2);return l(a)}catch(e){throw c(e,"median")}}var l=n({"number | BigNumber | Complex | Unit":function(e){return e}}),p=n({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return o(i(e,t),2)}});return a.toTex=void 0,a}},function(e,t,c){"use strict";var f=c(2).flatten;t.name="setSymDifference",t.factory=function(e,t,r,n){var i=r(c(27)),o=r(c(61)),a=r(c(24)),s=r(c(22)),u=r(c(104));return n("setSymDifference",{"Array | Matrix, Array | Matrix":function(e,t){if(0===s(a(e),new i(0)))return f(t);if(0===s(a(t),new i(0)))return f(e);var r=f(e),n=f(t);return o(u(r,n),u(n,r))}})}},function(e,t,i){"use strict";var p=i(2).flatten,m=i(2).identify,h=i(2).generalize;t.name="setIntersect",t.factory=function(e,t,r,n){var s=r(i(27)),u=r(i(52)),c=r(i(24)),f=r(i(22)),l=r(i(26));return n("setIntersect",{"Array | Matrix, Array | Matrix":function(e,t){var r=void 0;if(0===f(c(e),new s(0))||0===f(c(t),new s(0)))r=[];else{var n=m(p(Array.isArray(e)?e:e.toArray()).sort(l)),i=m(p(Array.isArray(t)?t:t.toArray()).sort(l));r=[];for(var o=0;o<n.length;o++)for(var a=0;a<i.length;a++)if(0===l(n[o].value,i[a].value)&&n[o].identifier===i[a].identifier){r.push(n[o]);break}}return Array.isArray(e)&&Array.isArray(t)?h(r):new u(h(r))}})}},function(e,t,i){"use strict";var m=i(2).flatten,h=i(2).identify,d=i(2).generalize;t.name="setDifference",t.factory=function(e,t,r,n){var u=r(i(27)),c=r(i(52)),f=r(i(24)),l=r(i(22)),p=r(i(26));return n("setDifference",{"Array | Matrix, Array | Matrix":function(e,t){var r=void 0;if(0===l(f(e),new u(0)))r=[];else{if(0===l(f(t),new u(0)))return m(e.toArray());var n=h(m(Array.isArray(e)?e:e.toArray()).sort(p)),i=h(m(Array.isArray(t)?t:t.toArray()).sort(p));r=[];for(var o=void 0,a=0;a<n.length;a++){o=!1;for(var s=0;s<i.length;s++)if(0===p(n[a].value,i[s].value)&&n[a].identifier===i[s].identifier){o=!0;break}o||r.push(n[a])}}return Array.isArray(e)&&Array.isArray(t)?d(r):new c(d(r))}})}},function(e,t,f){"use strict";t.name="compareText",t.factory=function(r,e,t,n){var i=t(f(1)),o=t(f(32)),a=t(f(7)),s=t(f(6)),u=n("compareText",{"any, any":c,"DenseMatrix, DenseMatrix":function(e,t){return a(e,t,c)},"Array, Array":function(e,t){return u(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return u(i(e),t)},"Matrix, Array":function(e,t){return u(e,i(t))},"DenseMatrix, any":function(e,t){return s(e,t,c,!1)},"any, DenseMatrix":function(e,t){return s(t,e,c,!0)},"Array, any":function(e,t){return s(i(e),t,c,!1).valueOf()},"any, Array":function(e,t){return s(i(t),e,c,!0).valueOf()}});function c(e,t){if(!r.isString(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+o(e)+", index: 0)");if(!r.isString(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+o(t)+", index: 1)");return e===t?0:t<e?1:-1}return u.toTex=void 0,u}},function(e,t,u){"use strict";var c=u(37);t.name="sum",t.factory=function(t,n,e,r){var i=e(u(20)),o=e(u(30)),a=r("sum",{"Array | Matrix":function(e){return s(e)},"Array | Matrix, number | BigNumber":function(){throw new Error("sum(A, dim) is not yet supported")},"...":function(e){return s(e)}});return a.toTex=void 0,a;function s(e){var r=void 0;if(c(e,function(t){try{r=void 0===r?t:i(r,t)}catch(e){throw o(e,"sum",t)}}),void 0===r)switch(n.number){case"number":return 0;case"BigNumber":return new t.BigNumber(0);case"Fraction":return new t.Fraction(0);default:return 0}return r}}},function(e,t,h){"use strict";t.name="range",t.factory=function(n,i,e,t){var r=e(h(1)),o=new n.BigNumber(0),a=new n.BigNumber(1),s=t("range",{string:c,"string, boolean":c,"number, number":function(e,t){return u(f(e,t,1))},"number, number, number":function(e,t,r){return u(f(e,t,r))},"number, number, boolean":function(e,t,r){return u(r?l(e,t,1):f(e,t,1))},"number, number, number, boolean":function(e,t,r,n){return u(n?l(e,t,r):f(e,t,r))},"BigNumber, BigNumber":function(e,t){return u(p(e,t,a))},"BigNumber, BigNumber, BigNumber":function(e,t,r){return u(p(e,t,r))},"BigNumber, BigNumber, boolean":function(e,t,r){return u(r?m(e,t,a):p(e,t,a))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,r,n){return u(n?m(e,t,r):p(e,t,r))}});return s.toTex=void 0,s;function u(e){return"Array"===i.matrix?e:r(e)}function c(e,t){var r=function(e){var t=e.split(":").map(function(e){return Number(e)});if(t.some(function(e){return isNaN(e)}))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(e);if(!r)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===i.number?u((t?m:p)(new n.BigNumber(r.start),new n.BigNumber(r.end),new n.BigNumber(r.step))):u((t?l:f)(r.start,r.end,r.step))}function f(e,t,r){var n=[],i=e;if(0<r)for(;i<t;)n.push(i),i+=r;else if(r<0)for(;t<i;)n.push(i),i+=r;return n}function l(e,t,r){var n=[],i=e;if(0<r)for(;i<=t;)n.push(i),i+=r;else if(r<0)for(;t<=i;)n.push(i),i+=r;return n}function p(e,t,r){var n=[],i=e;if(r.gt(o))for(;i.lt(t);)n.push(i),i=i.plus(r);else if(r.lt(o))for(;i.gt(t);)n.push(i),i=i.plus(r);return n}function m(e,t,r){var n=[],i=e;if(r.gt(o))for(;i.lte(t);)n.push(i),i=i.plus(r);else if(r.lt(o))for(;i.gte(t);)n.push(i),i=i.plus(r);return n}}},function(e,t,r){"use strict";var n=r(36).maxArgumentCount;function o(t,i){var o=n(i);return function r(e,n){return Array.isArray(e)?e.map(function(e,t){return r(e,n.concat(t))}):1===o?i(e):2===o?i(e,n):i(e,n,t)}(t,[])}t.name="map",t.factory=function(e,t,r,n){var i=n("map",{"Array, function":o,"Matrix, function":function(e,t){return e.map(t)}});return i.toTex=void 0,i}},function(e,t,a){"use strict";var s=a(0);t.name="not",t.factory=function(e,t,r,n){var i=a(4),o=n("not",{number:function(e){return!e},Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return null===e.value||o(e.value)},"Array | Matrix":function(e){return s(e,o)}});return o.toTex={1:i.operators.not+"\\left(${args[0]}\\right)"},o}},function(e,t,r){"use strict";var n=r(0),m=r(3).isInteger;var h=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];t.name="gamma",t.factory=function(c,i,e,t){var f=e(r(8)),l=e(r(43)),u=r(78),p=t("gamma",{number:function(e){var t,r=void 0;if(m(e))return e<=0?isFinite(e)?1/0:NaN:171<e?1/0:u(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*p(1-e));if(171.35<=e)return 1/0;if(85<e){var n=e*e,i=n*e,o=i*e,a=o*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*i)-571/(2488320*o)+163879/(209018880*a)+5246819/(75246796800*a*e))}--e,r=h[0];for(var s=1;s<h.length;++s)r+=h[s]/(e+s);return t=e+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(t,e+.5)*Math.exp(-t)*r},Complex:function(e){var t=void 0,r=void 0;if(0===e.im)return p(e.re);e=new c.Complex(e.re-1,e.im),r=new c.Complex(h[0],0);for(var n=1;n<h.length;++n){var i=e.re+n,o=i*i+e.im*e.im;0!==o?(r.re+=h[n]*i/o,r.im+=-h[n]*e.im/o):r.re=h[n]<0?-1/0:1/0}t=new c.Complex(e.re+4.7421875+.5,e.im);var a=Math.sqrt(2*Math.PI);e.re+=.5;var s=l(t,e);0===s.im?s.re*=a:(0===s.re||(s.re*=a),s.im*=a);var u=Math.exp(-t.re);return t.re=u*Math.cos(-t.im),t.im=u*Math.sin(-t.im),f(f(s,t),r)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new c.BigNumber(1/0):function(e){if(e.isZero())return new c.BigNumber(1);for(var t=i.precision+(0|Math.log(e.toNumber())),r=new(c.BigNumber.clone({precision:t}))(e),n=e.toNumber()-1;1<n;)r=r.times(n),n--;return new c.BigNumber(r.toPrecision(c.BigNumber.precision))}(e.minus(1));if(!e.isFinite())return new c.BigNumber(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return n(e,p)}});return p.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},p}},function(e,t,o){"use strict";t.name="stirlingS2",t.factory=function(e,t,r,n){var u=r(o(15)),c=r(o(14)),f=r(o(8)),l=r(o(39)),p=r(o(43)),m=r(o(63)),h=r(o(62)),d=r(o(53)),v=r(o(31)),y=r(o(34)),i=n("stirlingS2",{"number | BigNumber, number | BigNumber":function(e,t){if(!v(e)||d(e)||!v(t)||d(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(y(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var r=m(t),n=0,i=0;i<=t;i++){var o=p(-1,c(t,i)),a=h(t,i),s=p(i,e);n=u(n,f(f(a,s),o))}return l(n,r)}});return i.toTex={2:"\\mathrm{S}\\left(${args}\\right)"},i}},function(e,t,n){"use strict";var R=n(11);t.name="algorithm09",t.factory=function(e,t,r,I){var k=r(n(10)),P=e.SparseMatrix;return function(e,t,r){var n=e._values,i=e._index,o=e._ptr,a=e._size,s=e._datatype,u=t._values,c=t._index,f=t._ptr,l=t._size,p=t._datatype;if(a.length!==l.length)throw new R(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var m=a[0],h=a[1],d=void 0,v=k,y=0,g=r;"string"==typeof s&&s===p&&(d=s,v=I.find(k,[d,d]),y=I.convert(0,d),g=I.find(r,[d,d]));var x=n&&u?[]:void 0,b=[],w=[],N=new P({values:x,index:b,ptr:w,size:[m,h],datatype:d}),M=x?[]:void 0,E=[],A=void 0,S=void 0,O=void 0,T=void 0,_=void 0;for(S=0;S<h;S++){w[S]=b.length;var C=S+1;if(M)for(T=f[S],_=f[S+1],O=T;O<_;O++)E[A=c[O]]=C,M[A]=u[O];for(T=o[S],_=o[S+1],O=T;O<_;O++)if(A=i[O],M){var z=E[A]===C?M[A]:y,B=g(n[O],z);v(B,y)||(b.push(A),x.push(B))}else b.push(A)}return w[h]=b.length,N}}},function(e,t,d){"use strict";t.name="dotDivide",t.factory=function(e,t,r,n){var i=r(d(1)),o=r(d(12)),a=d(4),s=r(d(25)),u=r(d(19)),c=r(d(28)),f=r(d(17)),l=r(d(18)),p=r(d(7)),m=r(d(6)),h=n("dotDivide",{"any, any":o,"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,o,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,o,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,o,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,o)},"Array, Array":function(e,t){return h(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return h(i(e),t)},"Matrix, Array":function(e,t){return h(e,i(t))},"SparseMatrix, any":function(e,t){return f(e,t,o,!1)},"DenseMatrix, any":function(e,t){return m(e,t,o,!1)},"any, SparseMatrix":function(e,t){return l(t,e,o,!0)},"any, DenseMatrix":function(e,t){return m(t,e,o,!0)},"Array, any":function(e,t){return m(i(e),t,o,!1).valueOf()},"any, Array":function(e,t){return m(i(t),e,o,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+a.operators.dotDivide+"${args[1]}\\right)"},h}},function(e,t,a){"use strict";t.name="usolve",t.factory=function(e,t,r,n){var i=r(a(1)),x=r(a(12)),b=r(a(21)),w=r(a(14)),N=r(a(10)),M=r(a(83)),E=e.DenseMatrix;function o(e,t){for(var r=(t=M(e,t,!0))._data,n=e._size[0],i=e._size[1],o=[],a=e._data,s=i-1;0<=s;s--){var u=r[s][0]||0,c=void 0;if(N(u,0))c=0;else{var f=a[s][s];if(N(f,0))throw new Error("Linear system cannot be solved since matrix is singular");c=x(u,f);for(var l=s-1;0<=l;l--)r[l]=[w(r[l][0]||0,b(c,a[l][s]))]}o[s]=[c]}return new E({data:o,size:[n,1]})}return n("usolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=(t=M(e,t,!0))._data,n=e._size[0],i=e._size[1],o=e._values,a=e._index,s=e._ptr,u=void 0,c=void 0,f=[],l=i-1;0<=l;l--){var p=r[l][0]||0;if(N(p,0))f[l]=[0];else{var m=0,h=[],d=[],v=s[l],y=s[l+1];for(c=y-1;v<=c;c--)(u=a[c])===l?m=o[c]:u<l&&(h.push(o[c]),d.push(u));if(N(m,0))throw new Error("Linear system cannot be solved since matrix is singular");var g=x(p,m);for(c=0,y=d.length;c<y;c++)u=d[c],r[u]=[w(r[u][0],b(g,h[c]))];f[l]=[g]}}return new E({data:f,size:[n,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return o(e,t)},"Array, Array | Matrix":function(e,t){return o(i(e),t).valueOf()}})}},function(e,t,a){"use strict";t.name="lsolve",t.factory=function(e,t,r,n){var i=r(a(1)),g=r(a(12)),x=r(a(21)),b=r(a(14)),w=r(a(10)),N=r(a(83)),M=e.DenseMatrix;function o(e,t){for(var r=(t=N(e,t,!0))._data,n=e._size[0],i=e._size[1],o=[],a=e._data,s=0;s<i;s++){var u=r[s][0]||0,c=void 0;if(w(u,0))c=0;else{var f=a[s][s];if(w(f,0))throw new Error("Linear system cannot be solved since matrix is singular");c=g(u,f);for(var l=s+1;l<n;l++)r[l]=[b(r[l][0]||0,x(c,a[l][s]))]}o[s]=[c]}return new M({data:o,size:[n,1]})}return n("lsolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=(t=N(e,t,!0))._data,n=e._size[0],i=e._size[1],o=e._values,a=e._index,s=e._ptr,u=void 0,c=void 0,f=[],l=0;l<i;l++){var p=r[l][0]||0;if(w(p,0))f[l]=[0];else{var m=0,h=[],d=[],v=s[l+1];for(c=s[l];c<v;c++)(u=a[c])===l?m=o[c]:l<u&&(h.push(o[c]),d.push(u));if(w(m,0))throw new Error("Linear system cannot be solved since matrix is singular");var y=g(p,m);for(c=0,v=d.length;c<v;c++)u=d[c],r[u]=[b(r[u][0]||0,x(y,h[c]))];f[l]=[y]}}return new M({data:f,size:[n,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return o(e,t)},"Array, Array | Matrix":function(e,t){return o(i(e),t).valueOf()}})}},function(e,t,i){"use strict";t.name="csMark",t.path="algebra.sparse",t.factory=function(e,t,r){var n=r(i(84));return function(e,t){e[t]=n(e[t])}}},function(e,t,r){"use strict";t.name="csMarked",t.path="algebra.sparse",t.factory=function(){return function(e,t){return e[t]<0}}},function(e,t,p){"use strict";var m=p(3).nearlyEqual,h=p(46);t.name="largerEq",t.factory=function(e,r,t,n){var i=t(p(1)),o=t(p(19)),a=t(p(28)),s=t(p(18)),u=t(p(7)),c=t(p(6)),f=p(4),l=n("largerEq",{"boolean, boolean":function(e,t){return t<=e},"number, number":function(e,t){return t<=e||m(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gte(t)||h(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return l(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,l)},"Array, Array":function(e,t){return l(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return l(i(e),t)},"Matrix, Array":function(e,t){return l(e,i(t))},"SparseMatrix, any":function(e,t){return s(e,t,l,!1)},"DenseMatrix, any":function(e,t){return c(e,t,l,!1)},"any, SparseMatrix":function(e,t){return s(t,e,l,!0)},"any, DenseMatrix":function(e,t){return c(t,e,l,!0)},"Array, any":function(e,t){return c(i(e),t,l,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}"+f.operators.largerEq+"${args[1]}\\right)"},l}},function(e,t,r){"use strict";t.name="csTdfs",t.path="algebra.sparse",t.factory=function(){return function(e,t,r,n,i,o,a){var s=0;for(r[a]=e;0<=s;){var u=r[a+s],c=r[n+u];-1===c?(s--,o[t++]=u):(r[n+u]=r[i+c],r[a+ ++s]=c)}return t}}},function(e,t,i){"use strict";var s=i(29).number.isInteger;t.name="slu",t.factory=function(e,t,r,n){var o=r(i(520)),a=r(i(512));return n("slu",{"SparseMatrix, number, number":function(e,t,r){if(!s(t)||t<0||3<t)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(r<0||1<r)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var n=o(t,e,!1),i=a(e,n,r);return{L:i.L,U:i.U,p:i.pinv,q:n.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}},function(e,t,r){"use strict";var o=r(3),a=r(0);t.name="sign",t.factory=function(t,e,r,n){var i=n("sign",{number:o.sign,Complex:function(e){return e.sign()},BigNumber:function(e){return new t.BigNumber(e.cmp(0))},Fraction:function(e){return new t.Fraction(e.s,1)},"Array | Matrix":function(e){return a(e,i,!0)},Unit:function(e){return i(e.value)}});return i.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},i}},function(e,t,m){"use strict";var h=m(3).nearlyEqual,d=m(46);t.name="unequal",t.factory=function(e,r,t,n){var i=t(m(1)),o=t(m(19)),a=t(m(28)),s=t(m(18)),u=t(m(7)),c=t(m(6)),f=m(4),l=n("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:p(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,p)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,p,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,p)},"Array, Array":function(e,t){return l(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return l(i(e),t)},"Matrix, Array":function(e,t){return l(e,i(t))},"SparseMatrix, any":function(e,t){return s(e,t,p,!1)},"DenseMatrix, any":function(e,t){return c(e,t,p,!1)},"any, SparseMatrix":function(e,t){return s(t,e,p,!0)},"any, DenseMatrix":function(e,t){return c(t,e,p,!0)},"Array, any":function(e,t){return c(i(e),t,p,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,p,!0).valueOf()}}),p=n("_unequal",{"boolean, boolean":function(e,t){return e!==t},"number, number":function(e,t){return!h(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return!d(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return!e.equals(t)},"Complex, Complex":function(e,t){return!e.equals(t)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return l(e.value,t.value)}});return l.toTex={2:"\\left(${args[0]}"+f.operators.unequal+"${args[1]}\\right)"},l}},function(e,t,o){"use strict";t.name="parse",t.factory=function(e,t,r,n){var i=r(o(41));return n("parse",{"string | Array | Matrix":i,"string | Array | Matrix, Object":i})}},function(e,t,a){"use strict";var r=a(29),d=r.object,s=r.string;t.name="det",t.factory=function(i,e,t,r){var o=t(a(1)),l=t(a(14)),p=t(a(8)),m=t(a(33)),h=t(a(85)),n=r("det",{any:function(e){return d.clone(e)},"Array | Matrix":function(e){var t=void 0;switch((t=i.isMatrix(e)?e.size():Array.isArray(e)?(e=o(e)).size():[]).length){case 0:return d.clone(e);case 1:if(1===t[0])return d.clone(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+s.format(t)+")");case 2:var r=t[0],n=t[1];if(r===n)return function(e,t,r){if(1===t)return d.clone(e[0][0]);if(2===t)return l(p(e[0][0],e[1][1]),p(e[1][0],e[0][1]));for(var n=h(e),i=n.U[0][0],o=1;o<t;o++)i=p(i,n.U[o][o]);for(var a=0,s=0,u=[];;){for(;u[s];)s++;if(t<=s)break;for(var c=s,f=0;!u[n.p[c]];)u[n.p[c]]=!0,c=n.p[c],f++;f%2==0&&a++}return a%2==0?i:m(i)}(e.clone().valueOf(),r);throw new RangeError("Matrix must be square (size: "+s.format(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+s.format(t)+")")}}});return n.toTex={1:"\\det\\left(${args[0]}\\right)"},n}},function(e,t,i){"use strict";t.math=!0,t.name="simplifyCore",t.path="algebra.simplify",t.factory=function(f,e,t,r,n){var l=t(i(50)),p=t(i(54)),m=t(i(15)),h=t(i(14)),d=t(i(8)),v=t(i(39)),y=t(i(43)),g=n.expression.node.ConstantNode,x=n.expression.node.OperatorNode,b=n.expression.node.FunctionNode,w=n.expression.node.ParenthesisNode,N=new g(0),M=new g(1);return function e(t){if(f.isOperatorNode(t)&&t.isUnary()){var r=e(t.args[0]);if("+"===t.op)return r;if("-"===t.op){if(f.isOperatorNode(r)){if(r.isUnary()&&"-"===r.op)return r.args[0];if(r.isBinary()&&"subtract"===r.fn)return new x("-","subtract",[r.args[1],r.args[0]])}return new x(t.op,t.fn,[r])}}else if(f.isOperatorNode(t)&&t.isBinary()){var n=e(t.args[0]),i=e(t.args[1]);if("+"===t.op){if(f.isConstantNode(n)){if(p(n.value))return i;if(f.isConstantNode(i))return new g(m(n.value,i.value))}return f.isConstantNode(i)&&p(i.value)?n:f.isOperatorNode(i)&&i.isUnary()&&"-"===i.op?new x("-","subtract",[n,i.args[0]]):new x(t.op,t.fn,i?[n,i]:[n])}if("-"===t.op){if(f.isConstantNode(n)&&i){if(f.isConstantNode(i))return new g(h(n.value,i.value));if(p(n.value))return new x("-","unaryMinus",[i])}if("subtract"===t.fn)return f.isConstantNode(i)&&p(i.value)?n:f.isOperatorNode(i)&&i.isUnary()&&"-"===i.op?e(new x("+","add",[n,i.args[0]])):new x(t.op,t.fn,[n,i])}else{if("*"===t.op){if(f.isConstantNode(n)){if(p(n.value))return N;if(l(n.value,1))return i;if(f.isConstantNode(i))return new g(d(n.value,i.value))}if(f.isConstantNode(i)){if(p(i.value))return N;if(l(i.value,1))return n;if(f.isOperatorNode(n)&&n.isBinary()&&n.op===t.op){var o=n.args[0];if(f.isConstantNode(o)){var a=new g(d(o.value,i.value));return new x(t.op,t.fn,[a,n.args[1]],t.implicit)}}return new x(t.op,t.fn,[i,n],t.implicit)}return new x(t.op,t.fn,[n,i],t.implicit)}if("/"===t.op){if(f.isConstantNode(n)){if(p(n.value))return N;if(f.isConstantNode(i)&&(l(i.value,1)||l(i.value,2)||l(i.value,4)))return new g(v(n.value,i.value))}return new x(t.op,t.fn,[n,i])}if("^"===t.op){if(f.isConstantNode(i)){if(p(i.value))return M;if(l(i.value,1))return n;if(f.isConstantNode(n))return new g(y(n.value,i.value));if(f.isOperatorNode(n)&&n.isBinary()&&"^"===n.op){var s=n.args[1];if(f.isConstantNode(s))return new x(t.op,t.fn,[n.args[0],new g(d(s.value,i.value))])}}return new x(t.op,t.fn,[n,i])}}}else{if(f.isParenthesisNode(t)){var u=e(t.content);return f.isParenthesisNode(u)||f.isSymbolNode(u)||f.isConstantNode(u)?u:new w(u)}if(f.isFunctionNode(t)){var c=t.args.map(e).map(function(e){return f.isParenthesisNode(e)?e.content:e});return new b(e(t.fn),c)}}return t}}},function(e,t,r){"use strict";t.factory=function(a,e,t,r,n){var i=n.expression.node.FunctionNode,o=n.expression.node.OperatorNode,s=n.expression.node.SymbolNode,u={add:!0,multiply:!0},c={add:!0,multiply:!0};function f(e,t){if(!a.isOperatorNode(e))return!1;var r=e.fn.toString();return t&&t.hasOwnProperty(r)&&t[r].hasOwnProperty("associative")?t[r].associative:c[r]||!1}function l(e){var i=void 0,o=[];return f(e)?(i=e.op,function e(t){for(var r=0;r<t.args.length;r++){var n=t.args[r];a.isOperatorNode(n)&&i===n.op?e(n):o.push(n)}}(e),o):e.args}function p(t){return a.isOperatorNode(t)?function(e){try{return new o(t.op,t.fn,e,t.implicit)}catch(e){return console.error(e),[]}}:function(e){return new i(new s(t.name),e)}}return{createMakeNodeFunction:p,isCommutative:function(e,t){if(!a.isOperatorNode(e))return!0;var r=e.fn.toString();return t&&t.hasOwnProperty(r)&&t[r].hasOwnProperty("commutative")?t[r].commutative:u[r]||!1},isAssociative:f,flatten:function e(t){if(!t.args||0===t.args.length)return t;t.args=l(t);for(var r=0;r<t.args.length;r++)e(t.args[r])},allChildren:l,unflattenr:function e(t){if(t.args&&0!==t.args.length){for(var r=p(t),n=t.args.length,i=0;i<n;i++)e(t.args[i]);if(2<n&&f(t)){for(var o=t.args.pop();0<t.args.length;)o=r([t.args.pop(),o]);t.args=o.args}}},unflattenl:function e(t){if(t.args&&0!==t.args.length){for(var r=p(t),n=t.args.length,i=0;i<n;i++)e(t.args[i]);if(2<n&&f(t)){for(var o=t.args.shift();0<t.args.length;)o=r([o,t.args.shift()]);t.args=o.args}}}}},t.math=!0},function(e,t,u){"use strict";t.math=!0,t.name="simplifyConstant",t.path="algebra.simplify",t.factory=function(c,t,e,r,f){var n=e(u(126)),l=n.isCommutative,p=n.isAssociative,m=n.allChildren,h=n.createMakeNodeFunction,i=f.expression.node.ConstantNode,o=f.expression.node.OperatorNode,d=f.expression.node.FunctionNode;function v(t,r){try{return g(f[t].apply(null,r))}catch(e){return r=r.map(function(e){return c.isFraction(e)?e.valueOf():e}),g(f[t].apply(null,r))}}var y=r({Fraction:function(e){var t=void 0,r=e.s*e.n;return t=r<0?new o("-","unaryMinus",[new i(-r)]):new i(r),1===e.d?t:new o("/","divide",[t,new i(e.d)])},number:function(e){return e<0?s(new i(-e)):new i(e)},BigNumber:function(e){return e<0?s(new i(e.negated().toString(),"number")):new i(e.toString(),"number")},Complex:function(e){throw new Error("Cannot convert Complex number to Node")}});function a(e){if(isFinite(e)){var t=f.fraction(e);if(t.valueOf()===e)return t}return e}var g=r({string:function(e){return"BigNumber"===t.number?f.bignumber(e):"Fraction"===t.number?f.fraction(e):a(parseFloat(e))},Fraction:function(e){return e},BigNumber:function(e){return e},number:function(e){return a(e)},Complex:function(e){return 0!==e.im?e:a(e.re)}});function s(e){return new o("-","unaryMinus",[e])}function x(r,e,n){return e.reduce(function(e,t){if(c.isNode(e)||c.isNode(t))c.isNode(e)?c.isNode(t)||(t=y(t)):e=y(e);else{try{return v(r,[e,t])}catch(e){}e=y(e),t=y(t)}return n([e,t])})}function b(e){switch(e.type){case"SymbolNode":return e;case"ConstantNode":return"number"==typeof e.value?g(e.value):e;case"FunctionNode":if(f[e.name]&&f[e.name].rawArgs)return e;if(-1===["add","multiply"].indexOf(e.name)){var t=e.args.map(b);if(!t.some(c.isNode))try{return v(e.name,t)}catch(e){}return t=t.map(function(e){return c.isNode(e)?e:y(e)}),new d(e.name,t)}case"OperatorNode":var r=e.fn.toString(),n=void 0,i=void 0,o=h(e);if(e.isUnary())n=[b(e.args[0])],i=c.isNode(n[0])?o(n):v(r,n);else if(p(e))if(n=(n=m(e)).map(b),l(r)){for(var a=[],s=[],u=0;u<n.length;u++)c.isNode(n[u])?s.push(n[u]):a.push(n[u]);1<a.length?(i=x(r,a,o),s.unshift(i),i=x(r,s,o)):i=x(r,n,o)}else i=x(r,n,o);else i=x(r,n=e.args.map(b),o);return i;case"ParenthesisNode":return b(e.content);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"UpdateNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: "+e.type)}}return function(e){var t=b(e);return c.isNode(t)?t:y(t)}}},function(e,t,s){"use strict";var u=s(57);t.name="RangeNode",t.path="expression.node",t.factory=function(n,e,t,r){var i=t(s(16));function o(e,t,r){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!n.isNode(e))throw new TypeError("Node expected");if(!n.isNode(t))throw new TypeError("Node expected");if(r&&!n.isNode(r))throw new TypeError("Node expected");if(3<arguments.length)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=r||null}function a(e,t){var r=u.getPrecedence(e,t),n={},i=u.getPrecedence(e.start,t);if(n.start=null!==i&&i<=r||"all"===t,e.step){var o=u.getPrecedence(e.step,t);n.step=null!==o&&o<=r||"all"===t}var a=u.getPrecedence(e.end,t);return n.end=null!==a&&a<=r||"all"===t,n}return(o.prototype=new i).type="RangeNode",o.prototype.isRangeNode=!0,o.prototype.needsEnd=function(){return 0<this.filter(function(e){return n.isSymbolNode(e)&&"end"===e.name}).length},o.prototype._compile=function(e,t){var n=e.range,i=this.start._compile(e,t),o=this.end._compile(e,t);if(this.step){var a=this.step._compile(e,t);return function(e,t,r){return n(i(e,t,r),o(e,t,r),a(e,t,r))}}return function(e,t,r){return n(i(e,t,r),o(e,t,r))}},o.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},o.prototype.clone=function(){return new o(this.start,this.end,this.step&&this.step)},o.prototype._toString=function(e){var t=a(this,e&&e.parenthesis?e.parenthesis:"keep"),r=void 0,n=this.start.toString(e);if(t.start&&(n="("+n+")"),r=n,this.step){var i=this.step.toString(e);t.step&&(i="("+i+")"),r+=":"+i}var o=this.end.toString(e);return t.end&&(o="("+o+")"),r+=":"+o},o.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},o.fromJSON=function(e){return new o(e.start,e.end,e.step)},o.prototype.toHTML=function(e){var t=a(this,e&&e.parenthesis?e.parenthesis:"keep"),r=void 0,n=this.start.toHTML(e);if(t.start&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r=n,this.step){var i=this.step.toHTML(e);t.step&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+='<span class="math-operator math-range-operator">:</span>'+i}var o=this.end.toHTML(e);return t.end&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+='<span class="math-operator math-range-operator">:</span>'+o},o.prototype._toTex=function(e){var t=a(this,e&&e.parenthesis?e.parenthesis:"keep"),r=this.start.toTex(e);if(t.start&&(r="\\left("+r+"\\right)"),this.step){var n=this.step.toTex(e);t.step&&(n="\\left("+n+"\\right)"),r+=":"+n}var i=this.end.toTex(e);return t.end&&(i="\\left("+i+"\\right)"),r+=":"+i},o}},function(e,t,a){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=a(9).stringify,c=a(9).escape,f=a(13).isSafeProperty,l=a(5).hasOwnProperty;t.name="ObjectNode",t.path="expression.node",t.factory=function(r,e,t,n){var i=t(a(16));function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!==(void 0===t?"undefined":s(t))||!Object.keys(t).every(function(e){return r.isNode(t[e])})))throw new TypeError("Object containing Nodes expected")}return(o.prototype=new i).type="ObjectNode",o.prototype.isObjectNode=!0,o.prototype._compile=function(e,t){var o={};for(var r in this.properties)if(l(this.properties,r)){var n=u(r),i=JSON.parse(n);if(!f(this.properties,i))throw new Error('No access to property "'+i+'"');o[i]=this.properties[r]._compile(e,t)}return function(e,t,r){var n={};for(var i in o)l(o,i)&&(n[i]=o[i](e,t,r));return n}},o.prototype.forEach=function(e){for(var t in this.properties)this.properties.hasOwnProperty(t)&&e(this.properties[t],"properties["+u(t)+"]",this)},o.prototype.map=function(e){var t={};for(var r in this.properties)this.properties.hasOwnProperty(r)&&(t[r]=this._ifNode(e(this.properties[r],"properties["+u(r)+"]",this)));return new o(t)},o.prototype.clone=function(){var e={};for(var t in this.properties)this.properties.hasOwnProperty(t)&&(e[t]=this.properties[t]);return new o(e)},o.prototype._toString=function(e){var t=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&t.push(u(r)+": "+this.properties[r].toString(e));return"{"+t.join(", ")+"}"},o.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},o.fromJSON=function(e){return new o(e.properties)},o.prototype.toHTML=function(e){var t=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&t.push('<span class="math-symbol math-property">'+c(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},o.prototype._toTex=function(e){var t=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&t.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}"+t.join("\n")+"\\end{array}\\right\\}"},o}},function(e,t,s){"use strict";var u=s(2).map,c=s(9).escape;t.name="IndexNode",t.path="expression.node",t.factory=function(h,e,t,r){var n=t(s(16)),i=t(s(145)),o=Array.isArray;function a(e,t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!o(e)||!e.every(h.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var r=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:r,set:r})}function d(e,t,r){return new i(h.isBigNumber(e)?e.toNumber():e,h.isBigNumber(t)?t.toNumber():t,h.isBigNumber(r)?r.toNumber():r)}return(a.prototype=new n).type="IndexNode",a.prototype.isIndexNode=!0,a.prototype._compile=function(p,m){var i=u(this.dimensions,function(e,o){if(h.isRangeNode(e)){if(e.needsEnd()){var t=Object.create(m);t.end=!0;var a=e.start._compile(p,t),s=e.end._compile(p,t),u=e.step?e.step._compile(p,t):function(){return 1};return function(e,t,r){var n=p.size(r).valueOf(),i=Object.create(t);return i.end=n[o],d(a(e,i,r),s(e,i,r),u(e,i,r))}}var n=e.start._compile(p,m),i=e.end._compile(p,m),c=e.step?e.step._compile(p,m):function(){return 1};return function(e,t,r){return d(n(e,t,r),i(e,t,r),c(e,t,r))}}if(h.isSymbolNode(e)&&"end"===e.name){var r=Object.create(m);r.end=!0;var f=e._compile(p,r);return function(e,t,r){var n=p.size(r).valueOf(),i=Object.create(t);return i.end=n[o],f(e,i,r)}}var l=e._compile(p,m);return function(e,t,r){return l(e,t,r)}});return function(t,r,n){var e=u(i,function(e){return e(t,r,n)});return p.index.apply(p,e)}},a.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},a.prototype.map=function(e){for(var t=[],r=0;r<this.dimensions.length;r++)t[r]=this._ifNode(e(this.dimensions[r],"dimensions["+r+"]",this));return new a(t)},a.prototype.clone=function(){return new a(this.dimensions.slice(0))},a.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&h.isConstantNode(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},a.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},a.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},a.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},a.fromJSON=function(e){return new a(e.dimensions,e.dotNotation)},a.prototype.toHTML=function(e){for(var t=[],r=0;r<this.dimensions.length;r++)t[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+c(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},a.prototype._toTex=function(t){var e=this.dimensions.map(function(e){return e.toTex(t)});return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},a}},function(e,t,a){"use strict";var s=a(137),u=a(9).escape,l=a(2).forEach,p=a(2).join,c=a(4),m=a(57),h=a(13).setSafeProperty;t.name="FunctionAssignmentNode",t.path="expression.node",t.factory=function(n,e,t,f){var r=t(a(16));function i(e,t,r){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!n.isNode(r))throw new TypeError('Node expected for parameter "expr"');if(e in s)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map(function(e){return e&&e.name||e}),this.types=t.map(function(e){return e&&e.type||"any"}),this.expr=r}function o(e,t){var r=m.getPrecedence(e,t),n=m.getPrecedence(e.expr,t);return"all"===t||null!==n&&n<=r}return(i.prototype=new r).type="FunctionAssignmentNode",i.prototype.isFunctionAssignmentNode=!0,i.prototype._compile=function(e,t){var r=Object.create(t);l(this.params,function(e){r[e]=!0});var o=this.expr._compile(e,r),a=this.name,s=this.params,u=p(this.types,","),c=a+"("+p(this.params,", ")+")";return function(r,n,i){var e={};e[u]=function(){for(var e=Object.create(n),t=0;t<s.length;t++)e[s[t]]=arguments[t];return o(r,e,i)};var t=f(a,e);return t.syntax=c,h(r,a,t),t}},i.prototype.forEach=function(e){e(this.expr,"expr",this)},i.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new i(this.name,this.params.slice(0),t)},i.prototype.clone=function(){return new i(this.name,this.params.slice(0),this.expr)},i.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toString(e);return o(this,t)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},i.prototype.toJSON=function(){var r=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(e,t){return{name:e,type:r[t]}}),expr:this.expr}},i.fromJSON=function(e){return new i(e.name,e.params,e.expr)},i.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+u(this.params[n])+"</span>");var i=this.expr.toHTML(e);return o(this,t)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+u(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i},i.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toTex(e);return o(this,t)&&(r="\\left("+r+"\\right)"),"\\mathrm{"+this.name+"}\\left("+this.params.map(c.toSymbol).join(",")+"\\right):="+r},i}},function(e,t,o){"use strict";var c=o(57);t.name="ConditionalNode",t.path="expression.node",t.factory=function(a,e,t,r){var n=t(o(16)),s=t(o(32));function i(e,t,r){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!a.isNode(e))throw new TypeError("Parameter condition must be a Node");if(!a.isNode(t))throw new TypeError("Parameter trueExpr must be a Node");if(!a.isNode(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=r}return(i.prototype=new n).type="ConditionalNode",i.prototype.isConditionalNode=!0,i.prototype._compile=function(e,t){var n=this.condition._compile(e,t),i=this.trueExpr._compile(e,t),o=this.falseExpr._compile(e,t);return function(e,t,r){return function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(a.isBigNumber(e))return!e.isZero();if(a.isComplex(e))return!(!e.re&&!e.im);if(a.isUnit(e))return!!e.value}if(null==e)return!1;throw new TypeError('Unsupported type of condition "'+s(e)+'"')}(n(e,t,r))?i(e,t,r):o(e,t,r)}},i.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},i.prototype.map=function(e){return new i(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},i.prototype.clone=function(){return new i(this.condition,this.trueExpr,this.falseExpr)},i.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=c.getPrecedence(this,t),n=this.condition.toString(e),i=c.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n="("+n+")");var o=this.trueExpr.toString(e),a=c.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(o="("+o+")");var s=this.falseExpr.toString(e),u=c.getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(s="("+s+")"),n+" ? "+o+" : "+s},i.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},i.fromJSON=function(e){return new i(e.condition,e.trueExpr,e.falseExpr)},i.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=c.getPrecedence(this,t),n=this.condition.toHTML(e),i=c.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.trueExpr.toHTML(e),a=c.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.falseExpr.toHTML(e),u=c.getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+o+'<span class="math-operator math-conditional-operator">:</span>'+s},i.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},i}},function(e,t,s){"use strict";var u=s(2).forEach,c=s(2).map;t.name="BlockNode",t.path="expression.node",t.factory=function(n,e,t,r){var i=t(s(16)),a=t(s(144));function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var t=e&&e.node,r=!e||void 0===e.visible||e.visible;if(!n.isNode(t))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:r}})}return(o.prototype=new i).type="BlockNode",o.prototype.isBlockNode=!0,o.prototype._compile=function(t,r){var e=c(this.blocks,function(e){return{eval:e.node._compile(t,r),visible:e.visible}});return function(r,n,i){var o=[];return u(e,function(e){var t=e.eval(r,n,i);e.visible&&o.push(t)}),new a(o)}},o.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},o.prototype.map=function(e){for(var t=[],r=0;r<this.blocks.length;r++){var n=this.blocks[r],i=this._ifNode(e(n.node,"blocks["+r+"].node",this));t[r]={node:i,visible:n.visible}}return new o(t)},o.prototype.clone=function(){return new o(this.blocks.map(function(e){return{node:e.node,visible:e.visible}}))},o.prototype._toString=function(t){return this.blocks.map(function(e){return e.node.toString(t)+(e.visible?"":";")}).join("\n")},o.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},o.fromJSON=function(e){return new o(e.blocks)},o.prototype.toHTML=function(t){return this.blocks.map(function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},o.prototype._toTex=function(t){return this.blocks.map(function(e){return e.node.toTex(t)+(e.visible?"":";")}).join("\\;\\;\n")},o}},function(e,t,u){"use strict";var d=u(13).getSafeProperty,v=u(13).setSafeProperty;t.name="AssignmentNode",t.path="expression.node",t.factory=function(n,e,t,r){var i=t(u(16)),m=t(u(524)),h=t(u(136)),o=u(57);function a(e,t,r){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=r?t:null,this.value=r||t,!n.isSymbolNode(e)&&!n.isAccessorNode(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(n.isSymbolNode(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!n.isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!n.isNode(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function s(e,t){t||(t="keep");var r=o.getPrecedence(e,t),n=o.getPrecedence(e.value,t);return"all"===t||null!==n&&n<=r}return(a.prototype=new i).type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(e,t){var a=this.object._compile(e,t),u=this.index?this.index._compile(e,t):null,c=this.value._compile(e,t),s=this.object.name;if(this.index){if(this.index.isObjectProperty()){var o=this.index.getObjectProperty();return function(e,t,r){var n=a(e,t,r),i=c(e,t,r);return v(n,o,i)}}if(n.isSymbolNode(this.object))return function(e,t,r){var n=a(e,t,r),i=c(e,t,r),o=u(e,t,n);return v(e,s,m(n,o,i)),i};var f=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var l=this.object.index.getObjectProperty();return function(e,t,r){var n=f(e,t,r),i=d(n,l),o=u(e,t,i),a=c(e,t,r);return v(n,l,m(i,o,a)),a}}var p=this.object.index._compile(e,t);return function(e,t,r){var n=f(e,t,r),i=p(e,t,n),o=h(n,i),a=u(e,t,o),s=c(e,t,r);return m(n,i,m(o,a,s)),s}}if(!n.isSymbolNode(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,r){return v(e,s,c(e,t,r))}},a.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},a.prototype.map=function(e){return new a(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(e){var t=this.object.toString(e),r=this.index?this.index.toString(e):"",n=this.value.toString(e);return s(this,e&&e.parenthesis)&&(n="("+n+")"),t+r+" = "+n},a.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(e){return new a(e.object,e.index,e.value)},a.prototype.toHTML=function(e){var t=this.object.toHTML(e),r=this.index?this.index.toHTML(e):"",n=this.value.toHTML(e);return s(this,e&&e.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},a.prototype._toTex=function(e){var t=this.object.toTex(e),r=this.index?this.index.toTex(e):"",n=this.value.toTex(e);return s(this,e&&e.parenthesis)&&(n="\\left("+n+"\\right)"),t+r+":="+n},a}},function(e,t,a){"use strict";var s=a(2).map;t.name="ArrayNode",t.path="expression.node",t.factory=function(r,e,t,n){var i=t(a(16));function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(r.isNode))throw new TypeError("Array containing Nodes expected");var t=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:t,set:t})}return(o.prototype=new i).type="ArrayNode",o.prototype.isArrayNode=!0,o.prototype._compile=function(t,r){var e=s(this.items,function(e){return e._compile(t,r)});if("Array"!==t.config().matrix){var i=t.matrix;return function(t,r,n){return i(s(e,function(e){return e(t,r,n)}))}}return function(t,r,n){return s(e,function(e){return e(t,r,n)})}},o.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++)e(this.items[t],"items["+t+"]",this)},o.prototype.map=function(e){for(var t=[],r=0;r<this.items.length;r++)t[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new o(t)},o.prototype.clone=function(){return new o(this.items.slice(0))},o.prototype._toString=function(t){return"["+this.items.map(function(e){return e.toString(t)}).join(", ")+"]"},o.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},o.fromJSON=function(e){return new o(e.items)},o.prototype.toHTML=function(t){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(e){return e.toHTML(t)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},o.prototype._toTex=function(t){var r="\\begin{bmatrix}";return this.items.forEach(function(e){e.items?r+=e.items.map(function(e){return e.toTex(t)}).join("&"):r+=e.toTex(t),r+="\\\\"}),r+="\\end{bmatrix}"},o}},function(e,t,o){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=o(40).transform,u=o(13).getSafeProperty;t.factory=function(e,t,r,n){var i=r(o(22));return function(e,t){try{if(Array.isArray(e))return i(e,t);if(e&&"function"==typeof e.subset)return e.subset(t);if("string"==typeof e)return i(e,t);if("object"===(void 0===e?"undefined":a(e))){if(!t.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return u(e,t.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(e){throw s(e)}}}},function(e,t,r){"use strict";e.exports={end:!0}},function(e,t,u){"use strict";var c=u(13).getSafeProperty;t.name="AccessorNode",t.path="expression.node",t.factory=function(r,e,t,n){var i=t(u(16)),s=t(u(136));function o(e,t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!r.isNode(e))throw new TypeError('Node expected for parameter "object"');if(!r.isIndexNode(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function a(e){return!(r.isAccessorNode(e)||r.isArrayNode(e)||r.isConstantNode(e)||r.isFunctionNode(e)||r.isObjectNode(e)||r.isParenthesisNode(e)||r.isSymbolNode(e))}return(o.prototype=new i).type="AccessorNode",o.prototype.isAccessorNode=!0,o.prototype._compile=function(e,t){var o=this.object._compile(e,t),a=this.index._compile(e,t);if(this.index.isObjectProperty()){var n=this.index.getObjectProperty();return function(e,t,r){return c(o(e,t,r),n)}}return function(e,t,r){var n=o(e,t,r),i=a(e,t,n);return s(n,i)}},o.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},o.prototype.clone=function(){return new o(this.object,this.index)},o.prototype._toString=function(e){var t=this.object.toString(e);return a(this.object)&&(t="("+t+")"),t+this.index.toString(e)},o.prototype.toHTML=function(e){var t=this.object.toHTML(e);return a(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},o.prototype._toTex=function(e){var t=this.object.toTex(e);return a(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},o.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},o.fromJSON=function(e){return new o(e.object,e.index)},o}},function(e,t,r){"use strict";t.factory=function(r,e,t,n){return function(e,t){if("BigNumber"===t)return new r.BigNumber(e);if("Fraction"===t)return new r.Fraction(e);if("number"==typeof e)return e;if("Infinity"===e)return 1/0;if("NaN"===e)return NaN;if(!/^[-+]?((\d+\.?\d*)|(\d*\.?\d+))([eE][+-]?\d+)?$/.test(e))throw new Error('Invalid numeric value "'+e+'"');return parseFloat(e.replace(/^(0*)[0-9]/,function(e,t){return e.substring(t.length)}))}}},function(e,t,r){"use strict";var o=r(9);t.name="format",t.factory=function(e,t,r,n){var i=n("format",{any:o.format,"any, Object | function | number":o.format});return i.toTex=void 0,i}},function(e,t,l){"use strict";var p=l(3).isInteger,m=l(3).toFixed,h=l(0),d="Number of decimals in function round must be an integer";t.name="round",t.factory=function(r,e,t,n){var i=t(l(1)),o=t(l(10)),a=t(l(42)),s=t(l(17)),u=t(l(18)),c=t(l(6)),f=n("round",{number:Math.round,"number, number":function(e,t){if(!p(t))throw new TypeError(d);if(t<0||15<t)throw new Error("Number of decimals in function round must be in te range of 0-15");return parseFloat(m(e,t))},Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(d);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(d);var r=t.toNumber();return e.round(r)},"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(d);return new r.BigNumber(e).toDecimalPlaces(t.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(d);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(d);return e.round(t)},"Array | Matrix":function(e){return h(e,f,!0)},"SparseMatrix, number | BigNumber":function(e,t){return s(e,t,f,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,f,!1)},"number | Complex | BigNumber, SparseMatrix":function(e,t){return o(e,0)?a(t.size(),t.storage()):u(t,e,f,!0)},"number | Complex | BigNumber, DenseMatrix":function(e,t){return o(e,0)?a(t.size(),t.storage()):c(t,e,f,!0)},"Array, number | BigNumber":function(e,t){return c(i(e),t,f,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return c(i(t),e,f,!0).valueOf()}});return f.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},f}},function(e,t,r){"use strict";var o=r(0);t.name="fix",t.factory=function(t,e,r,n){var i=n("fix",{number:function(e){return 0<e?Math.floor(e):Math.ceil(e)},Complex:function(e){return new t.Complex(0<e.re?Math.floor(e.re):Math.ceil(e.re),0<e.im?Math.floor(e.im):Math.ceil(e.im))},BigNumber:function(e){return e.isNegative()?e.ceil():e.floor()},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Array | Matrix":function(e){return o(e,i,!0)}});return i.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var n=r(36).memoize;function i(e){return e[0].precision}t.e=n(function(e){return new e(1).exp()},i),t.phi=n(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},i),t.pi=n(function(e){return e.acos(-1)},i),t.tau=n(function(e){return t.pi(e).times(2)},i)},function(e,t,r){"use strict";t.name="ResultSet",t.path="type",t.factory=function(e,t,r,n){function i(e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return i.prototype.type="ResultSet",i.prototype.isResultSet=!0,i.prototype.valueOf=function(){return this.entries},i.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},i.fromJSON=function(e){return new i(e.entries)},i}},function(e,t,r){"use strict";var i=r(3);t.name="Range",t.path="type",t.factory=function(a,e,t,r){function s(e,t,r){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");var n=null!=e,i=null!=t,o=null!=r;if(n)if(a.isBigNumber(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(i)if(a.isBigNumber(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter end must be a number");if(o)if(a.isBigNumber(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=n?parseFloat(e):0,this.end=i?parseFloat(t):0,this.step=o?parseFloat(r):1}return s.prototype.type="Range",s.prototype.isRange=!0,s.parse=function(e){if("string"!=typeof e)return null;var t=e.split(":").map(function(e){return parseFloat(e)});if(t.some(function(e){return isNaN(e)}))return null;switch(t.length){case 2:return new s(t[0],t[1]);case 3:return new s(t[0],t[2],t[1]);default:return null}},s.prototype.clone=function(){return new s(this.start,this.end,this.step)},s.prototype.size=function(){var e=0,t=this.start,r=this.step,n=this.end-t;return i.sign(r)===i.sign(n)?e=Math.ceil(n/r):0===n&&(e=0),isNaN(e)&&(e=0),[e]},s.prototype.min=function(){var e=this.size()[0];return 0<e?0<this.step?this.start:this.start+(e-1)*this.step:void 0},s.prototype.max=function(){var e=this.size()[0];return 0<e?0<this.step?this.start+(e-1)*this.step:this.start:void 0},s.prototype.forEach=function(e){var t=this.start,r=this.step,n=this.end,i=0;if(0<r)for(;t<n;)e(t,[i],this),t+=r,i++;else if(r<0)for(;n<t;)e(t,[i],this),t+=r,i++},s.prototype.map=function(n){var i=[];return this.forEach(function(e,t,r){i[t[0]]=n(e,t,r)}),i},s.prototype.toArray=function(){var r=[];return this.forEach(function(e,t){r[t[0]]=e}),r},s.prototype.valueOf=function(){return this.toArray()},s.prototype.format=function(e){var t=i.format(this.start,e);return 1!==this.step&&(t+=":"+i.format(this.step,e)),t+=":"+i.format(this.end,e)},s.prototype.toString=function(){return this.format()},s.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},s.fromJSON=function(e){return new s(e.start,e.end,e.step)},s}},function(e,t,r){"use strict";var o=r(0);t.name="fraction",t.factory=function(r,e,t,n){var i=n("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new r.Fraction(e)},string:function(e){return new r.Fraction(e)},"number, number":function(e,t){return new r.Fraction(e,t)},null:function(e){return new r.Fraction(0)},BigNumber:function(e){return new r.Fraction(e.toString())},Fraction:function(e){return e},Object:function(e){return new r.Fraction(e)},"Array | Matrix":function(e){return o(e,i)}});return i}},function(e,t,r){"use strict";var n=r(566);t.mixin=function(e){var t=new n;return e.on=t.on.bind(t),e.off=t.off.bind(t),e.once=t.once.bind(t),e.emit=t.emit.bind(t),e}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(567),o=r(3).digits,a=r(92),s=r(72),u=function(){return u=i.create,i};t.create=function(r){r.isNumber=function(e){return"number"==typeof e},r.isComplex=function(e){return r.Complex&&e instanceof r.Complex||!1},r.isBigNumber=a,r.isFraction=function(e){return r.Fraction&&e instanceof r.Fraction||!1},r.isUnit=function(e){return e&&e.constructor.prototype.isUnit||!1},r.isString=function(e){return"string"==typeof e},r.isArray=Array.isArray,r.isMatrix=s,r.isDenseMatrix=function(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix||!1},r.isSparseMatrix=function(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix||!1},r.isRange=function(e){return e&&e.constructor.prototype.isRange||!1},r.isIndex=function(e){return e&&e.constructor.prototype.isIndex||!1},r.isBoolean=function(e){return"boolean"==typeof e},r.isResultSet=function(e){return e&&e.constructor.prototype.isResultSet||!1},r.isHelp=function(e){return e&&e.constructor.prototype.isHelp||!1},r.isFunction=function(e){return"function"==typeof e},r.isDate=function(e){return e instanceof Date},r.isRegExp=function(e){return e instanceof RegExp},r.isObject=function(e){return"object"===(void 0===e?"undefined":n(e))&&e.constructor===Object&&!r.isComplex(e)&&!r.isFraction(e)},r.isNull=function(e){return null===e},r.isUndefined=function(e){return void 0===e},r.isAccessorNode=function(e){return e&&e.isAccessorNode&&e.constructor.prototype.isNode||!1},r.isArrayNode=function(e){return e&&e.isArrayNode&&e.constructor.prototype.isNode||!1},r.isAssignmentNode=function(e){return e&&e.isAssignmentNode&&e.constructor.prototype.isNode||!1},r.isBlockNode=function(e){return e&&e.isBlockNode&&e.constructor.prototype.isNode||!1},r.isConditionalNode=function(e){return e&&e.isConditionalNode&&e.constructor.prototype.isNode||!1},r.isConstantNode=function(e){return e&&e.isConstantNode&&e.constructor.prototype.isNode||!1},r.isFunctionAssignmentNode=function(e){return e&&e.isFunctionAssignmentNode&&e.constructor.prototype.isNode||!1},r.isFunctionNode=function(e){return e&&e.isFunctionNode&&e.constructor.prototype.isNode||!1},r.isIndexNode=function(e){return e&&e.isIndexNode&&e.constructor.prototype.isNode||!1},r.isNode=function(e){return e&&e.isNode&&e.constructor.prototype.isNode||!1},r.isObjectNode=function(e){return e&&e.isObjectNode&&e.constructor.prototype.isNode||!1},r.isOperatorNode=function(e){return e&&e.isOperatorNode&&e.constructor.prototype.isNode||!1},r.isParenthesisNode=function(e){return e&&e.isParenthesisNode&&e.constructor.prototype.isNode||!1},r.isRangeNode=function(e){return e&&e.isRangeNode&&e.constructor.prototype.isNode||!1},r.isSymbolNode=function(e){return e&&e.isSymbolNode&&e.constructor.prototype.isNode||!1},r.isChain=function(e){return e&&e.constructor.prototype.isChain||!1};var e=u();return e.types=[{name:"number",test:r.isNumber},{name:"Complex",test:r.isComplex},{name:"BigNumber",test:r.isBigNumber},{name:"Fraction",test:r.isFraction},{name:"Unit",test:r.isUnit},{name:"string",test:r.isString},{name:"Array",test:r.isArray},{name:"Matrix",test:r.isMatrix},{name:"DenseMatrix",test:r.isDenseMatrix},{name:"SparseMatrix",test:r.isSparseMatrix},{name:"Range",test:r.isRange},{name:"Index",test:r.isIndex},{name:"boolean",test:r.isBoolean},{name:"ResultSet",test:r.isResultSet},{name:"Help",test:r.isHelp},{name:"function",test:r.isFunction},{name:"Date",test:r.isDate},{name:"RegExp",test:r.isRegExp},{name:"null",test:r.isNull},{name:"undefined",test:r.isUndefined},{name:"OperatorNode",test:r.isOperatorNode},{name:"ConstantNode",test:r.isConstantNode},{name:"SymbolNode",test:r.isSymbolNode},{name:"ParenthesisNode",test:r.isParenthesisNode},{name:"FunctionNode",test:r.isFunctionNode},{name:"FunctionAssignmentNode",test:r.isFunctionAssignmentNode},{name:"ArrayNode",test:r.isArrayNode},{name:"AssignmentNode",test:r.isAssignmentNode},{name:"BlockNode",test:r.isBlockNode},{name:"ConditionalNode",test:r.isConditionalNode},{name:"IndexNode",test:r.isIndexNode},{name:"RangeNode",test:r.isRangeNode},{name:"Node",test:r.isNode},{name:"Object",test:r.isObject}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(15<o(e))throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new r.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new r.Complex(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new r.Complex(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return new r.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(new r.Fraction(e).valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new r.Fraction(e)}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(t){try{return new r.BigNumber(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){try{return new r.Fraction(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){try{return new r.Complex(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return new r.BigNumber(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return new r.Fraction(+e)}},{from:"boolean",to:"string",convert:function(e){return+e}},{from:"Array",to:"Matrix",convert:function(e){return new r.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],e}},function(e,t,r){"use strict";var n=r(59),i=r(11),o=r(58);e.exports=[{name:"ArgumentsError",path:"error",factory:function(){return n}},{name:"DimensionError",path:"error",factory:function(){return i}},{name:"IndexError",path:"error",factory:function(){return o}}]},function(e,t,r){"use strict";t.name="reviver",t.path="json",t.factory=function(n,e,t,r,i){return function(e,t){var r=n[t&&t.mathjs]||i.expression&&i.expression.node[t&&t.mathjs];return r&&"function"==typeof r.fromJSON?r.fromJSON(t):t}},t.math=!0},function(e,t,r){"use strict";e.exports=[r(150)]},function(e,t,i){"use strict";var s=i(5),u=i(9);t.name="Help",t.path="type",t.factory=function(o,e,t,r){var a=t(i(94))();function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var e=this.doc||{},t="\n";if(e.name&&(t+="Name: "+e.name+"\n\n"),e.category&&(t+="Category: "+e.category+"\n\n"),e.description&&(t+="Description:\n    "+e.description+"\n\n"),e.syntax&&(t+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){t+="Examples:\n";for(var r=0;r<e.examples.length;r++){var n=e.examples[r];t+="    "+n+"\n";var i=void 0;try{i=a.eval(n)}catch(e){i=e}void 0===i||o.isHelp(i)||(t+="        "+u.format(i,{precision:14})+"\n")}t+="\n"}return e.seealso&&e.seealso.length&&(t+="See also: "+e.seealso.join(", ")+"\n"),t},n.prototype.toJSON=function(){var e=s.clone(this.doc);return e.mathjs="Help",e},n.fromJSON=function(e){var t={};for(var r in e)"mathjs"!==r&&(t[r]=e[r]);return new n(t)},n.prototype.valueOf=n.prototype.toString,n}},function(e,t,o){"use strict";var a=o(40).transform;t.name="subset",t.path="expression.transform",t.factory=function(e,t,r,n){var i=r(o(22));return n("subset",{"...any":function(e){try{return i.apply(null,e)}catch(e){throw a(e)}}})}},function(e,t,o){"use strict";t.name="range",t.path="expression.transform",t.factory=function(e,t,r,n){var i=r(o(107));return n("range",{"...any":function(e){return"boolean"!=typeof e[e.length-1]&&e.push(!0),i.apply(null,e)}})}},function(e,t,o){"use strict";var a=o(40).transform,s=o(47);t.name="min",t.path="expression.transform",t.factory=function(r,e,t,n){var i=t(o(99));return n("min",{"...any":function(e){if(2===e.length&&s(e[0])){var t=e[1];r.isNumber(t)?e[1]=t-1:r.isBigNumber(t)&&(e[1]=t.minus(1))}try{return i.apply(null,e)}catch(e){throw a(e)}}})}},function(e,t,o){"use strict";var a=o(40).transform,s=o(47);t.name="mean",t.path="expression.transform",t.factory=function(r,e,t,n){var i=t(o(100));return n("mean",{"...any":function(e){if(2===e.length&&s(e[0])){var t=e[1];r.isNumber(t)?e[1]=t-1:r.isBigNumber(t)&&(e[1]=t.minus(1))}try{return i.apply(null,e)}catch(e){throw a(e)}}})}},function(e,t,o){"use strict";var a=o(40).transform,s=o(47);t.name="max",t.path="expression.transform",t.factory=function(r,e,t,n){var i=t(o(76));return n("max",{"...any":function(e){if(2===e.length&&s(e[0])){var t=e[1];r.isNumber(t)?e[1]=t-1:r.isBigNumber(t)&&(e[1]=t.minus(1))}try{return i.apply(null,e)}catch(e){throw a(e)}}})}},function(e,t,u){"use strict";var r=u(36).maxArgumentCount,a=u(2).map;function c(e,t,i){var o=r(t);return function r(e,n){return Array.isArray(e)?a(e,function(e,t){return r(e,n.concat(t+1))}):1===o?t(e):2===o?t(e,n):t(e,n,i)}(e,[])}t.name="map",t.path="expression.transform",t.factory=function(o,e,t,r){var a=t(u(73)),n=t(u(1));function i(e,t,r){var n=void 0,i=void 0;return e[0]&&(n=e[0].compile().eval(r)),e[1]&&(i=o.isSymbolNode(e[1])||o.isFunctionAssignmentNode(e[1])?e[1].compile().eval(r):a(e[1],t,r)),s(n,i)}i.rawArgs=!0;var s=r("map",{"Array, function":function(e,t){return c(e,t,e)},"Matrix, function":function(e,t){return n(c(e.valueOf(),t,e))}});return i}},function(e,t,r){"use strict";t.name="index",t.path="expression.transform",t.factory=function(o,e,t){return function(){for(var e=[],t=0,r=arguments.length;t<r;t++){var n=arguments[t];if(o.isRange(n))n.start--,n.end-=0<n.step?0:2;else if(n&&!0===n.isSet)n=n.map(function(e){return e-1});else if(o.isArray(n)||o.isMatrix(n))n=n.map(function(e){return e-1});else if(o.isNumber(n))n--;else if(o.isBigNumber(n))n=n.toNumber()-1;else if("string"!=typeof n)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[t]=n}var i=new o.Index;return o.Index.apply(i,e),i}}},function(e,t,i){"use strict";var u=i(36).maxArgumentCount,c=i(2).forEach;t.name="forEach",t.path="expression.transform",t.factory=function(o,e,t,r){var a=t(i(73));function n(e,t,r){var n=void 0,i=void 0;return e[0]&&(n=e[0].compile().eval(r)),e[1]&&(i=o.isSymbolNode(e[1])||o.isFunctionAssignmentNode(e[1])?e[1].compile().eval(r):a(e[1],t,r)),s(n,i)}n.rawArgs=!0;var s=r("forEach",{"Array | Matrix, function":function(t,i){var o=u(i);!function r(e,n){Array.isArray(e)?c(e,function(e,t){r(e,n.concat(t+1))}):1===o?i(e):2===o?i(e,n):i(e,n,t)}(t.valueOf(),[])}});return n}},function(e,t,u){"use strict";var r=u(2).filter,c=u(2).filterRegExp,o=u(36).maxArgumentCount;function f(e,n){var i=o(n);return r(e,function(e,t,r){return 1===i?n(e):2===i?n(e,[t+1]):n(e,[t+1],r)})}t.name="filter",t.path="expression.transform",t.factory=function(o,e,t,r){var a=t(u(73)),n=t(u(1));function i(e,t,r){var n=void 0,i=void 0;return e[0]&&(n=e[0].compile().eval(r)),e[1]&&(i=o.isSymbolNode(e[1])||o.isFunctionAssignmentNode(e[1])?e[1].compile().eval(r):a(e[1],t,r)),s(n,i)}i.rawArgs=!0;var s=r("filter",{"Array, function":f,"Matrix, function":function(e,t){return n(f(e.toArray(),t))},"Array, RegExp":c,"Matrix, RegExp":function(e,t){return n(c(e.toArray(),t))}});return s.toTex=void 0,i}},function(e,t,o){"use strict";var a=o(40).transform;t.name="concat",t.path="expression.transform",t.factory=function(n,e,t,r){var i=t(o(61));return r("concat",{"...any":function(e){var t=e.length-1,r=e[t];n.isNumber(r)?e[t]=r-1:n.isBigNumber(r)&&(e[t]=r.minus(1));try{return i.apply(null,e)}catch(e){throw a(e)}}})}},function(e,t,r){"use strict";e.exports=[r(162),r(161),r(160),r(159),r(158),r(157),r(156),r(155),r(154),r(153)]},function(e,t,r){"use strict";t.name="UpdateNode",t.path="expression.node",t.factory=function(e,t,r,n){return function(){throw new Error("UpdateNode is deprecated. Use AssignmentNode instead.")}}},function(e,t,r){"use strict";e.exports=[r(138),r(135),r(134),r(133),r(132),r(56),r(130),r(131),r(69),r(16),r(129),r(55),r(70),r(128),r(49),r(164)]},function(e,t,n){"use strict";var s=n(13).getSafeProperty;t.math=!0,t.name="help",t.factory=function(i,e,t,r,o){var a=t(n(97));return r("help",{any:function(e){var t=void 0,r=e;if("string"!=typeof e)for(t in o)if(o.hasOwnProperty(t)&&e===o[t]){r=t;break}var n=s(a,r);if(!n)throw new Error('No documentation found on "'+r+'"');return new i.Help(n)}})}},function(e,t,o){"use strict";var a=o(0);t.name="eval",t.factory=function(e,t,r,n){var i=r(o(41));return n("compile",{string:function(e){return i(e).compile().eval({})},"string, Object":function(e,t){return i(e).compile().eval(t)},"Array | Matrix":function(e){var t={};return a(e,function(e){return i(e).compile().eval(t)})},"Array | Matrix, Object":function(e,t){return a(e,function(e){return i(e).compile().eval(t)})}})}},function(e,t,o){"use strict";var a=o(0);t.name="compile",t.factory=function(e,t,r,n){var i=r(o(41));return n("compile",{string:function(e){return i(e).compile()},"Array | Matrix":function(e){return a(e,function(e){return i(e).compile()})}})}},function(e,t,r){"use strict";e.exports=[r(168),r(167),r(166),r(123),r(94)]},function(e,t,r){"use strict";e.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},function(e,t,r){"use strict";e.exports={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(e,t,r){"use strict";e.exports={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(e,t,r){"use strict";e.exports={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)","isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))",'isNumeric("3")',"isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN"]}},function(e,t,r){"use strict";e.exports={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},function(e,t,r){"use strict";e.exports={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(e,t,r){"use strict";e.exports={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(e,t,r){"use strict";e.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},function(e,t,r){"use strict";e.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},function(e,t,r){"use strict";e.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},function(e,t,r){"use strict";e.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},function(e,t,r){"use strict";e.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},function(e,t,r){"use strict";e.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},function(e,t,r){"use strict";e.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},function(e,t,r){"use strict";e.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},function(e,t,r){"use strict";e.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},function(e,t,r){"use strict";e.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},function(e,t,r){"use strict";e.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},function(e,t,r){"use strict";e.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},function(e,t,r){"use strict";e.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},function(e,t,r){"use strict";e.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},function(e,t,r){"use strict";e.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},function(e,t,r){"use strict";e.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]}},function(e,t,r){"use strict";e.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},function(e,t,r){"use strict";e.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]}},function(e,t,r){"use strict";e.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},function(e,t,r){"use strict";e.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},function(e,t,r){"use strict";e.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},function(e,t,r){"use strict";e.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]}},function(e,t,r){"use strict";e.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]}},function(e,t,r){"use strict";e.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},function(e,t,r){"use strict";e.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},function(e,t,r){"use strict";e.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},function(e,t,r){"use strict";e.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},function(e,t,r){"use strict";e.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},function(e,t,r){"use strict";e.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},function(e,t,r){"use strict";e.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},function(e,t,r){"use strict";e.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},function(e,t,r){"use strict";e.exports={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","var"]}},function(e,t,r){"use strict";e.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},function(e,t,r){"use strict";e.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var","quantileSeq"]}},function(e,t,r){"use strict";e.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},function(e,t,r){"use strict";e.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},function(e,t,r){"use strict";e.exports={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]}},function(e,t,r){"use strict";e.exports={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]}},function(e,t,r){"use strict";e.exports={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]}},function(e,t,r){"use strict";e.exports={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]}},function(e,t,r){"use strict";e.exports={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]}},function(e,t,r){"use strict";e.exports={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]}},function(e,t,r){"use strict";e.exports={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]}},function(e,t,r){"use strict";e.exports={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]}},function(e,t,r){"use strict";e.exports={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]}},function(e,t,r){"use strict";e.exports={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]}},function(e,t,r){"use strict";e.exports={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]}},function(e,t,r){"use strict";e.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(e,t,r){"use strict";e.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},function(e,t,r){"use strict";e.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},function(e,t,r){"use strict";e.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]}},function(e,t,r){"use strict";e.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},function(e,t,r){"use strict";e.exports={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]}},function(e,t,r){"use strict";e.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]}},function(e,t,r){"use strict";e.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},function(e,t,r){"use strict";e.exports={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]}},function(e,t,r){"use strict";e.exports={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]}},function(e,t,r){"use strict";e.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]}},function(e,t,r){"use strict";e.exports={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]}},function(e,t,r){"use strict";e.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},function(e,t,r){"use strict";e.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}},function(e,t,r){"use strict";e.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},function(e,t,r){"use strict";e.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},function(e,t,r){"use strict";e.exports={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},function(e,t,r){"use strict";e.exports={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},function(e,t,r){"use strict";e.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},function(e,t,r){"use strict";e.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]}},function(e,t,r){"use strict";e.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}},function(e,t,r){"use strict";e.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},function(e,t,r){"use strict";e.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},function(e,t,r){"use strict";e.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]}},function(e,t,r){"use strict";e.exports={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]}},function(e,t,r){"use strict";e.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){"use strict";e.exports={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]}},function(e,t,r){"use strict";e.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]}},function(e,t,r){"use strict";e.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){"use strict";e.exports={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},function(e,t,r){"use strict";e.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){"use strict";e.exports={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]}},function(e,t,r){"use strict";e.exports={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]}},function(e,t,r){"use strict";e.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){"use strict";e.exports={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},function(e,t,r){"use strict";e.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},function(e,t,r){"use strict";e.exports={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},function(e,t,r){"use strict";e.exports={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){"use strict";e.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},function(e,t,r){"use strict";e.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){"use strict";e.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){"use strict";e.exports={name:"transpose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}},function(e,t,r){"use strict";e.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},function(e,t,r){"use strict";e.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){"use strict";e.exports={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]}},function(e,t,r){"use strict";e.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},function(e,t,r){"use strict";e.exports={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},function(e,t,r){"use strict";e.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},function(e,t,r){"use strict";e.exports={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},function(e,t,r){"use strict";e.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},function(e,t,r){"use strict";e.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},function(e,t,r){"use strict";e.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},function(e,t,r){"use strict";e.exports={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},function(e,t,r){"use strict";e.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},function(e,t,r){"use strict";e.exports={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},function(e,t,r){"use strict";e.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},function(e,t,r){"use strict";e.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},function(e,t,r){"use strict";e.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},function(e,t,r){"use strict";e.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},function(e,t,r){"use strict";e.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},function(e,t,r){"use strict";e.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,t,r){"use strict";e.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,t,r){"use strict";e.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,t,r){"use strict";e.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},function(e,t,r){"use strict";e.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},function(e,t,r){"use strict";e.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},function(e,t,r){"use strict";e.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},function(e,t,r){"use strict";e.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},function(e,t,r){"use strict";e.exports={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]}},function(e,t,r){"use strict";e.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]}},function(e,t,r){"use strict";e.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},function(e,t,r){"use strict";e.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},function(e,t,r){"use strict";e.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]}},function(e,t,r){"use strict";e.exports={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]}},function(e,t,r){"use strict";e.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]}},function(e,t,r){"use strict";e.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']}},function(e,t,r){"use strict";e.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},function(e,t,r){"use strict";e.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},function(e,t,r){"use strict";e.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},function(e,t,r){"use strict";e.exports={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]}},function(e,t,r){"use strict";e.exports={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]}},function(e,t,r){"use strict";e.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]}},function(e,t,r){"use strict";e.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},function(e,t,r){"use strict";e.exports={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},function(e,t,r){"use strict";e.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},function(e,t,r){"use strict";e.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},function(e,t,r){"use strict";e.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},function(e,t,r){"use strict";e.exports={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]}},function(e,t,r){"use strict";e.exports={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]}},function(e,t,r){"use strict";e.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]}},function(e,t,r){"use strict";e.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},function(e,t,r){"use strict";e.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},function(e,t,r){"use strict";e.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},function(e,t,r){"use strict";e.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},function(e,t,r){"use strict";e.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},function(e,t,r){"use strict";e.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},function(e,t,r){"use strict";e.exports={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},function(e,t,r){"use strict";e.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},function(e,t,r){"use strict";e.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},function(e,t,r){"use strict";e.exports={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]}},function(e,t,r){"use strict";e.exports={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},function(e,t,r){"use strict";e.exports={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]}},function(e,t,r){"use strict";e.exports={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]}},function(e,t,r){"use strict";e.exports={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.eval({x: 2})"],seealso:["derivative","parse","eval"]}},function(e,t,r){"use strict";e.exports={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},function(e,t,r){"use strict";e.exports={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]}},function(e,t,r){"use strict";e.exports={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},function(e,t,r){"use strict";e.exports={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.eval({x: 3})"],seealso:["simplify","parse","eval"]}},function(e,t,r){"use strict";e.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},function(e,t,r){"use strict";e.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},function(e,t,r){"use strict";e.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},function(e,t,r){"use strict";e.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},function(e,t,r){"use strict";e.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},function(e,t,r){"use strict";e.exports={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},function(e,t,r){"use strict";e.exports={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},function(e,t,r){"use strict";e.exports={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}},function(e,t,r){"use strict";e.exports={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},function(e,t,r){"use strict";e.exports={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},function(e,t,r){"use strict";e.exports={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},function(e,t,r){"use strict";e.exports={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},function(e,t,r){"use strict";e.exports={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},function(e,t,r){"use strict";e.exports={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}},function(e,t,r){"use strict";e.exports={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},function(e,t,r){"use strict";e.exports={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},function(e,t,r){"use strict";e.exports={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},function(e,t,r){"use strict";e.exports=[r(97),r(169),r(165),r(163),r(152),r(41),r(93)]},function(e,t,r){"use strict";var i=r(0);t.name="isNaN",t.factory=function(e,t,r,n){return n("isNaN",{number:function(e){return Number.isNaN(e)},BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return i(e,Number.isNaN)}})}},function(e,t,r){"use strict";var o=r(0);t.name="isPrime",t.factory=function(r,e,t,n){var i=n("isPrime",{number:function(e){if(e<2)return!1;if(2===e)return!0;if(e%2==0)return!1;for(var t=3;t*t<=e;t+=2)if(e%t==0)return!1;return!0},BigNumber:function(e){if(e.lt(2))return!1;if(e.equals(2))return!0;if(e.mod(2).isZero())return!1;for(var t=r.BigNumber(3);t.times(t).lte(e);t=t.plus(1))if(e.mod(t).isZero())return!1;return!0},"Array | Matrix":function(e){return o(e,i)}});return i}},function(e,t,r){"use strict";var o=r(5);t.name="clone",t.factory=function(e,t,r,n){var i=n("clone",{any:o.clone});return i.toTex=void 0,i}},function(e,t,r){"use strict";e.exports=[r(374),r(31),r(53),r(87),r(65),r(373),r(54),r(372),r(32)]},function(e,t,c){"use strict";t.name="to",t.factory=function(e,t,r,n){var i=c(4),o=r(c(1)),a=r(c(7)),s=r(c(6)),u=n("to",{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return a(e,t,u)},"Array, Array":function(e,t){return u(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return u(o(e),t)},"Matrix, Array":function(e,t){return u(e,o(t))},"Matrix, any":function(e,t){return s(e,t,u,!1)},"any, Matrix":function(e,t){return s(t,e,u,!0)},"Array, any":function(e,t){return s(o(e),t,u,!1).valueOf()},"any, Array":function(e,t){return s(o(t),e,u,!0).valueOf()}});return u.toTex={2:"\\left(${args[0]}"+i.operators.to+"${args[1]}\\right)"},u}},function(e,t,r){"use strict";e.exports=[r(376)]},function(e,t,r){"use strict";var o=r(0);var a=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};t.name="tanh",t.factory=function(t,e,r,n){var i=n("tanh",{number:a,Complex:function(e){return e.tanh()},BigNumber:function(e){return e.tanh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return i(e.value)},"Array | Matrix":function(e){return o(e,i,!0)}});return i.toTex={1:"\\tanh\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="tan",t.factory=function(t,e,r,n){var i=n("tan",{number:Math.tan,Complex:function(e){return e.tan()},BigNumber:function(e){return e.tan()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return i(e.value)},"Array | Matrix":function(e){return o(e,i,!0)}});return i.toTex={1:"\\tan\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);var a=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2};t.name="sinh",t.factory=function(t,e,r,n){var i=n("sinh",{number:a,Complex:function(e){return e.sinh()},BigNumber:function(e){return e.sinh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return i(e.value)},"Array | Matrix":function(e){return o(e,i,!0)}});return i.toTex={1:"\\sinh\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="sin",t.factory=function(t,e,r,n){var i=n("sin",{number:Math.sin,Complex:function(e){return e.sin()},BigNumber:function(e){return e.sin()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return i(e.value)},"Array | Matrix":function(e){return o(e,i,!0)}});return i.toTex={1:"\\sin\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);function a(e){return 2/(Math.exp(e)+Math.exp(-e))}t.name="sech",t.factory=function(t,e,r,n){var i=n("sech",{number:a,Complex:function(e){return e.sech()},BigNumber:function(e){return new t.BigNumber(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return i(e.value)},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="sec",t.factory=function(t,e,r,n){var i=n("sec",{number:function(e){return 1/Math.cos(e)},Complex:function(e){return e.sec()},BigNumber:function(e){return new t.BigNumber(1).div(e.cos())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return i(e.value)},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\sec\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0),n=r(3).sign;function a(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*n(e)}t.name="csch",t.factory=function(t,e,r,n){var i=n("csch",{number:a,Complex:function(e){return e.csch()},BigNumber:function(e){return new t.BigNumber(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return i(e.value)},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="csc",t.factory=function(t,e,r,n){var i=n("csc",{number:function(e){return 1/Math.sin(e)},Complex:function(e){return e.csc()},BigNumber:function(e){return new t.BigNumber(1).div(e.sin())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return i(e.value)},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\csc\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);function a(e){var t=Math.exp(2*e);return(t+1)/(t-1)}t.name="coth",t.factory=function(t,e,r,n){var i=n("coth",{number:a,Complex:function(e){return e.coth()},BigNumber:function(e){return new t.BigNumber(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return i(e.value)},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\coth\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="cot",t.factory=function(t,e,r,n){var i=n("cot",{number:function(e){return 1/Math.tan(e)},Complex:function(e){return e.cot()},BigNumber:function(e){return new t.BigNumber(1).div(e.tan())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return i(e.value)},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\cot\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);var a=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2};t.name="cosh",t.factory=function(t,e,r,n){var i=n("cosh",{number:a,Complex:function(e){return e.cosh()},BigNumber:function(e){return e.cosh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return i(e.value)},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\cosh\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="cos",t.factory=function(t,e,r,n){var i=n("cos",{number:Math.cos,Complex:function(e){return e.cos()},BigNumber:function(e){return e.cos()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return i(e.value)},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\cos\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);var a=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2};t.name="atanh",t.factory=function(t,r,e,n){var i=n("atanh",{number:function(e){return e<=1&&-1<=e||r.predictable?a(e):new t.Complex(e,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()},"Array | Matrix":function(e){return o(e,i,!0)}});return i.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},i}},function(e,t,m){"use strict";t.name="atan2",t.factory=function(r,e,t,n){var i=t(m(1)),o=t(m(25)),a=t(m(19)),s=t(m(112)),u=t(m(17)),c=t(m(18)),f=t(m(7)),l=t(m(6)),p=n("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(e,t){return r.BigNumber.atan2(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,p,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,p,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,p)},"Array, Array":function(e,t){return p(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return p(i(e),t)},"Matrix, Array":function(e,t){return p(e,i(t))},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,p,!1)},"DenseMatrix, number | BigNumber":function(e,t){return l(e,t,p,!1)},"number | BigNumber, SparseMatrix":function(e,t){return c(t,e,p,!0)},"number | BigNumber, DenseMatrix":function(e,t){return l(t,e,p,!0)},"Array, number | BigNumber":function(e,t){return l(i(e),t,p,!1).valueOf()},"number | BigNumber, Array":function(e,t){return l(i(t),e,p,!0).valueOf()}});return p.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},p}},function(e,t,r){"use strict";var o=r(0);t.name="atan",t.factory=function(e,t,r,n){var i=n("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()},"Array | Matrix":function(e){return o(e,i,!0)}});return i.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="asinh",t.factory=function(e,t,r,n){var i=n("asinh",{number:Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()},"Array | Matrix":function(e){return o(e,i,!0)}});return i.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="asin",t.factory=function(t,r,e,n){var i=n("asin",{number:function(e){return-1<=e&&e<=1||r.predictable?Math.asin(e):new t.Complex(e,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()},"Array | Matrix":function(e){return o(e,i,!0)}});return i.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="asech",t.factory=function(r,n,e,t){var i=t("asech",{number:function(e){if(e<=1&&-1<=e||n.predictable){e=1/e;var t=Math.sqrt(e*e-1);return 0<e||n.predictable?Math.log(t+e):new r.Complex(Math.log(t-e),Math.PI)}return new r.Complex(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new r.BigNumber(1).div(e).acosh()},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="asec",t.factory=function(t,r,e,n){var i=n("asec",{number:function(e){return e<=-1||1<=e||r.predictable?Math.acos(1/e):new t.Complex(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new t.BigNumber(1).div(e).acos()},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="acsch",t.factory=function(t,e,r,n){var i=n("acsch",{number:function(e){return e=1/e,Math.log(e+Math.sqrt(e*e+1))},Complex:function(e){return e.acsch()},BigNumber:function(e){return new t.BigNumber(1).div(e).asinh()},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="acsc",t.factory=function(t,r,e,n){var i=n("acsc",{number:function(e){return e<=-1||1<=e||r.predictable?Math.asin(1/e):new t.Complex(e,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(e){return new t.BigNumber(1).div(e).asin()},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="acoth",t.factory=function(t,r,e,n){var i=n("acoth",{number:function(e){return 1<=e||e<=-1||r.predictable?isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0:new t.Complex(e,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(e){return new t.BigNumber(1).div(e).atanh()},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="acot",t.factory=function(t,e,r,n){var i=n("acot",{number:function(e){return Math.atan(1/e)},Complex:function(e){return e.acot()},BigNumber:function(e){return new t.BigNumber(1).div(e).atan()},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);var a=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)};t.name="acosh",t.factory=function(t,r,e,n){var i=n("acosh",{number:function(e){return 1<=e||r.predictable?a(e):e<=-1?new t.Complex(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new t.Complex(e,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";var o=r(0);t.name="acos",t.factory=function(t,r,e,n){var i=n("acos",{number:function(e){return-1<=e&&e<=1||r.predictable?Math.acos(e):new t.Complex(e,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";e.exports=[r(402),r(401),r(400),r(399),r(398),r(397),r(396),r(395),r(394),r(393),r(392),r(391),r(390),r(389),r(388),r(387),r(386),r(385),r(384),r(383),r(382),r(381),r(380),r(379),r(378)]},function(e,t,r){"use strict";var s=r(9).isString,u=r(9).format;function o(e,o,a){return e.replace(/\$([\w.]+)/g,function(e,t){for(var r=t.split("."),n=o[r.shift()];r.length&&void 0!==n;){var i=r.shift();n=i?n[i]:n+"."}return void 0!==n?s(n)?n:u(n,a):e})}t.name="print",t.factory=function(e,t,r,n){var i=n("print",{"string, Object | Array":o,"string, Object | Array, number | Object":o});return i.toTex=void 0,i}},function(e,t,r){"use strict";e.exports=[r(140),r(404)]},function(e,t,u){"use strict";t.name="std",t.factory=function(e,t,r,n){var i=r(u(38)),o=r(u(98)),a=n("std",{"Array | Matrix":s,"Array | Matrix, string":s,"...":function(e){return s(e)}});return a.toTex=void 0,a;function s(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return i(o.apply(null,arguments))}catch(e){throw e instanceof TypeError&&-1!==e.message.indexOf(" var")?new TypeError(e.message.replace(" var"," std")):e}}}},function(e,t,n){"use strict";var d=n(3).isInteger,S=n(3).isNumber,O=n(2).flatten,v=n(47);t.name="quantileSeq",t.factory=function(m,e,t,r){var w=t(n(15)),N=t(n(8)),M=t(n(77)),E=t(n(48));function h(e,t,r){var n=O(e),i=n.length;if(0===i)throw new Error("Cannot calculate quantile of an empty sequence");if(S(t)){var o=t*(i-1),a=o%1;if(0===a){var s=r?n[o]:M(n,o);return A(s),s}var u=Math.floor(o),c=void 0,f=void 0;if(r)c=n[u],f=n[u+1];else{f=M(n,u+1),c=n[u];for(var l=0;l<u;++l)0<E(n[l],c)&&(c=n[l])}return A(c),A(f),w(N(c,1-a),N(f,a))}var p=t.times(i-1);if(p.isInteger()){p=p.toNumber();var m=r?n[p]:M(n,p);return A(m),m}var h=p.floor(),d=p.minus(h),v=h.toNumber(),y=void 0,g=void 0;if(r)y=n[v],g=n[v+1];else{g=M(n,v+1),y=n[v];for(var x=0;x<v;++x)0<E(n[x],y)&&(y=n[x])}A(y),A(g);var b=new d.constructor(1);return w(N(y,b.minus(d)),N(g,d))}var A=r({"number | BigNumber | Unit":function(e){return e}});return function(e,t,r){var n=void 0,i=void 0,o=void 0;if(arguments.length<2||3<arguments.length)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(v(e)){if("boolean"==typeof(r=r||!1)){if(i=e.valueOf(),S(t)){if(t<0)throw new Error("N/prob must be non-negative");if(t<=1)return h(i,t,r);if(1<t){if(!d(t))throw new Error("N must be a positive integer");var a=t+1;n=new Array(t);for(var s=0;s<t;)n[s]=h(i,++s/a,r);return n}}if(m.isBigNumber(t)){if(t.isNegative())throw new Error("N/prob must be non-negative");if(o=new t.constructor(1),t.lte(o))return h(i,t,r);if(t.gt(o)){if(!t.isInteger())throw new Error("N must be a positive integer");var u=t.toNumber();if(4294967295<u)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var c=new m.BigNumber(u+1);n=new Array(u);for(var f=0;f<u;)n[f]=h(i,new m.BigNumber(++f).div(c),r);return n}}if(Array.isArray(t)){n=new Array(t.length);for(var l=0;l<n.length;++l){var p=t[l];if(S(p)){if(p<0||1<p)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!m.isBigNumber(p))throw new TypeError("Unexpected type of argument in function quantileSeq");if(o=new p.constructor(1),p.isNegative()||p.gt(o))throw new Error("Probability must be between 0 and 1, inclusive")}n[l]=h(i,p,r)}return n}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}},function(e,t,u){"use strict";var c=u(37);t.name="prod",t.factory=function(e,t,r,n){var i=r(u(21)),o=r(u(30)),a=n("prod",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return s(e)}});return a.toTex=void 0,a;function s(e){var r=void 0;if(c(e,function(t){try{r=void 0===r?t:i(r,t)}catch(e){throw o(e,"prod",t)}}),void 0===r)throw new Error("Cannot calculate prod of an empty array");return r}}},function(e,t,r){"use strict";var o=r(2).flatten;t.name="mode",t.factory=function(e,t,r,n){return n("mode",{"Array | Matrix":i,"...":function(e){return i(e)}});function i(e){if(0===(e=o(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");var t={},r=[],n=0;for(var i in e)e[i]in t||(t[e[i]]=0),t[e[i]]++,t[e[i]]===n?r.push(e[i]):t[e[i]]>n&&(n=t[e[i]],r=[e[i]]);return r}}},function(e,t,l){"use strict";var p=l(2).flatten;t.name="mad",t.factory=function(e,t,r,n){var i=r(l(23)),o=r(l(108)),a=r(l(101)),s=r(l(14)),u=r(l(30)),c=n("mad",{"Array | Matrix":f,"...":function(e){return f(e)}});return c.toTex=void 0,c;function f(e){if(0===(e=p(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var t=a(e);return a(o(e,function(e){return i(s(e,t))}))}catch(e){throw e instanceof TypeError&&-1!==e.message.indexOf("median")?new TypeError(e.message.replace("median","mad")):u(e,"mad")}}}},function(e,t,r){"use strict";e.exports=[r(410),r(76),r(100),r(101),r(99),r(409),r(408),r(407),r(406),r(106),r(98)]},function(e,t,r){"use strict";var o=r(0),a=r(3).sign;var s=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],u=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],c=Math.pow(2,53);t.name="erf",t.factory=function(t,e,r,n){var i=n("erf",{number:function(e){var t=Math.abs(e);return c<=t?a(e):t<=.46875?a(e)*function(e){var t=e*e,r=s[0][4]*t,n=t,i=void 0;for(i=0;i<3;i+=1)r=(r+s[0][i])*t,n=(n+u[0][i])*t;return e*(r+s[0][3])/(n+u[0][3])}(t):t<=4?a(e)*(1-function(e){var t=s[1][8]*e,r=e,n=void 0;for(n=0;n<7;n+=1)t=(t+s[1][n])*e,r=(r+u[1][n])*e;var i=(t+s[1][7])/(r+u[1][7]),o=parseInt(16*e)/16,a=(e-o)*(e+o);return Math.exp(-o*o)*Math.exp(-a)*i}(t)):a(e)*(1-function(e){var t=1/(e*e),r=s[2][5]*t,n=t,i=void 0;for(i=0;i<4;i+=1)r=(r+s[2][i])*t,n=(n+u[2][i])*t;var o=t*(r+s[2][4])/(n+u[2][4]);o=(.5641895835477563-o)/e,t=parseInt(16*e)/16;var a=(e-t)*(e+t);return Math.exp(-t*t)*Math.exp(-a)*o}(t))},BigNumber:function(e){return new t.BigNumber(i(e.toNumber()))},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"erf\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";e.exports=[r(412)]},function(e,t,f){"use strict";var l=f(2).flatten;t.name="setUnion",t.factory=function(e,t,r,n){var i=r(f(27)),o=r(f(61)),a=r(f(24)),s=r(f(22)),u=r(f(103)),c=r(f(102));return n("setUnion",{"Array | Matrix, Array | Matrix":function(e,t){if(0===s(a(e),new i(0)))return l(t);if(0===s(a(t),new i(0)))return l(e);var r=l(e),n=l(t);return o(c(r,n),u(r,n))}})}},function(e,t,i){"use strict";var a=i(2).flatten;t.name="setSize",t.factory=function(e,t,r,n){var o=r(i(26));return n("setSize",{"Array | Matrix":function(e){return Array.isArray(e)?a(e).length:a(e.toArray()).length},"Array | Matrix, boolean":function(e,t){if(!1===t||0===e.length)return Array.isArray(e)?a(e).length:a(e.toArray()).length;for(var r=a(Array.isArray(e)?e:e.toArray()).sort(o),n=1,i=1;i<r.length;i++)0!==o(r[i],r[i-1])&&n++;return n}})}},function(e,t,c){"use strict";var f=c(2).flatten;t.name="setPowerset",t.factory=function(e,t,r,n){var i=r(c(27)),o=r(c(24)),a=r(c(22)),s=r(c(26));return n("setPowerset",{"Array | Matrix":function(e){if(0===a(o(e),new i(0)))return[];for(var t=f(Array.isArray(e)?e:e.toArray()).sort(s),r=[],n=0;n.toString(2).length<=t.length;)r.push(u(t,n.toString(2).split("").reverse())),n++;return function(e){for(var t=[],r=e.length-1;0<r;r--)for(var n=0;n<r;n++)e[n].length>e[n+1].length&&(t=e[n],e[n]=e[n+1],e[n+1]=t);return e}(r)}});function u(e,t){for(var r=[],n=0;n<t.length;n++)"1"===t[n]&&r.push(e[n]);return r}}},function(e,t,i){"use strict";var c=i(2).flatten;t.name="setMultiplicity",t.factory=function(e,t,r,n){var o=r(i(26)),a=r(i(27)),s=r(i(24)),u=r(i(22));return n("setMultiplicity",{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,t){if(0===u(s(t),new a(0)))return 0;for(var r=c(Array.isArray(t)?t:t.toArray()),n=0,i=0;i<r.length;i++)0===o(r[i],e)&&n++;return n}})}},function(e,t,i){"use strict";var l=i(2).flatten,p=i(2).identify;t.name="setIsSubset",t.factory=function(e,t,r,n){var s=r(i(27)),u=r(i(24)),c=r(i(22)),f=r(i(26));return n("setIsSubset",{"Array | Matrix, Array | Matrix":function(e,t){if(0===c(u(e),new s(0)))return!0;if(0===c(u(t),new s(0)))return!1;for(var r=p(l(Array.isArray(e)?e:e.toArray()).sort(f)),n=p(l(Array.isArray(t)?t:t.toArray()).sort(f)),i=void 0,o=0;o<r.length;o++){i=!1;for(var a=0;a<n.length;a++)if(0===f(r[o].value,n[a].value)&&r[o].identifier===n[a].identifier){i=!0;break}if(!1===i)return!1}return!0}})}},function(e,t,c){"use strict";var f=c(2).flatten;t.name="setDistinct",t.factory=function(e,t,r,n){var i=r(c(27)),o=r(c(52)),a=r(c(24)),s=r(c(22)),u=r(c(26));return n("setDistinct",{"Array | Matrix":function(e){var t=void 0;if(0===s(a(e),new i(0)))t=[];else{var r=f(Array.isArray(e)?e:e.toArray()).sort(u);(t=[]).push(r[0]);for(var n=1;n<r.length;n++)0!==u(r[n],r[n-1])&&t.push(r[n])}return Array.isArray(e)?t:new o(t)}})}},function(e,t,i){"use strict";var p=i(2).flatten;t.name="setCartesian",t.factory=function(e,t,r,n){var s=r(i(27)),u=r(i(52)),c=r(i(24)),f=r(i(22)),l=r(i(26));return n("setCartesian",{"Array | Matrix, Array | Matrix":function(e,t){var r=[];if(0!==f(c(e),new s(0))&&0!==f(c(t),new s(0))){var n=p(Array.isArray(e)?e:e.toArray()).sort(l),i=p(Array.isArray(t)?t:t.toArray()).sort(l);r=[];for(var o=0;o<n.length;o++)for(var a=0;a<i.length;a++)r.push([n[o],i[a]])}return Array.isArray(e)&&Array.isArray(t)?r:new u(r)}})}},function(e,t,r){"use strict";e.exports=[r(420),r(104),r(419),r(103),r(418),r(417),r(416),r(415),r(102),r(414)]},function(e,t,p){"use strict";var m=p(3).nearlyEqual,h=p(46);t.name="smallerEq",t.factory=function(e,r,t,n){var i=t(p(1)),o=t(p(19)),a=t(p(28)),s=t(p(18)),u=t(p(7)),c=t(p(6)),f=p(4),l=n("smallerEq",{"boolean, boolean":function(e,t){return e<=t},"number, number":function(e,t){return e<=t||m(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lte(t)||h(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return l(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,l)},"Array, Array":function(e,t){return l(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return l(i(e),t)},"Matrix, Array":function(e,t){return l(e,i(t))},"SparseMatrix, any":function(e,t){return s(e,t,l,!1)},"DenseMatrix, any":function(e,t){return c(e,t,l,!1)},"any, SparseMatrix":function(e,t){return s(t,e,l,!0)},"any, DenseMatrix":function(e,t){return c(t,e,l,!0)},"Array, any":function(e,t){return c(i(e),t,l,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}"+f.operators.smallerEq+"${args[1]}\\right)"},l}},function(e,t,s){"use strict";t.name="equalText",t.factory=function(e,t,r,n){var i=r(s(105)),o=r(s(54)),a=n("equalText",{"any, any":function(e,t){return o(i(e,t))}});return a.toTex=void 0,a}},function(e,t,a){"use strict";t.name="deepEqual",t.factory=function(e,t,r,n){var o=r(a(50)),i=n("deepEqual",{"any, any":function(e,t){return function e(t,r){if(Array.isArray(t)){if(Array.isArray(r)){var n=t.length;if(n!==r.length)return!1;for(var i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}return!1}return!Array.isArray(r)&&o(t,r)}(e.valueOf(),t.valueOf())}});return i.toTex=void 0,i}},function(e,t,r){"use strict";e.exports=[r(48),r(26),r(105),r(424),r(50),r(423),r(34),r(118),r(44),r(422),r(122)]},function(e,t,o){"use strict";t.name="randomInt",t.factory=function(e,t,r,n){var i=r(o(74))("uniform").randomInt;return i.toTex=void 0,i}},function(e,t,o){"use strict";t.name="random",t.factory=function(e,t,r,n){var i=r(o(74))("uniform").random;return i.toTex=void 0,i}},function(Ktb,Ltb){var Mtb;Mtb=function(){return this}();try{Mtb=Mtb||Function("return this")()||eval("this")}catch(e){"object"==typeof window&&(Mtb=window)}Ktb.exports=Mtb},function(p,e,t){"use strict";(function(e){var i=[],o=void 0===e?window:e,a=Math.pow(256,6),s=Math.pow(2,52),u=2*s,t=Math.random;function c(e){var t,r=e.length,a=this,n=0,i=a.i=a.j=0,o=a.S=[];for(r||(e=[r++]);n<256;)o[n]=n++;for(n=0;n<256;n++)o[n]=o[i=255&i+e[n%r]+(t=o[n])],o[i]=t;(a.g=function(e){for(var t,r=0,n=a.i,i=a.j,o=a.S;e--;)t=o[n=255&n+1],r=256*r+o[255&(o[n]=o[i=255&i+t])+(o[i]=t)];return a.i=n,a.j=i,r})(256)}function f(e,t){for(var r,n=e+"",i=0;i<n.length;)t[255&i]=255&(r^=19*t[255&i])+n.charCodeAt(i++);return l(t)}function l(e){return String.fromCharCode.apply(0,e)}p.exports=function(e,t){if(t&&!0===t.global)return t.global=!1,Math.random=p.exports(e,t),t.global=!0,Math.random;var r=[],n=(f(function e(t,r){var n,i=[],o=(typeof t)[0];if(r&&"o"==o)for(n in t)try{i.push(e(t[n],r-1))}catch(e){}return i.length?i:"s"==o?t:t+"\0"}(t&&t.entropy||!1?[e,l(i)]:0 in arguments?e:function(e){try{return o.crypto.getRandomValues(e=new Uint8Array(256)),l(e)}catch(e){return[+new Date,o,o.navigator&&o.navigator.plugins,o.screen,l(i)]}}(),3),r),new c(r));return f(l(n.S),i),function(){for(var e=n.g(6),t=a,r=0;e<s;)e=256*(e+r),t*=256,r=n.g(1);for(;u<=e;)e/=2,t/=2,r>>>=1;return(e+r)/t}},p.exports.resetGlobal=function(){Math.random=t},f(Math.random(),i)}).call(this,t(428))},function(e,t,r){"use strict";var s=r(429),u=s();t.factory=function(e,t,r,n,i){var o=void 0;function a(e){o=null===e?u:s(String(e))}return a(t.randomSeed),i.on("config",function(e,t,r){void 0!==r.randomSeed&&a(e.randomSeed)}),function(){return o()}},t.math=!0},function(e,t,o){"use strict";t.name="pickRandom",t.factory=function(e,t,r,n){var i=r(o(74))("uniform").pickRandom;return i.toTex=void 0,i}},function(e,t,s){"use strict";var u=s(3).isInteger;function c(e){return e.isInteger()&&e.gte(0)}t.name="permutations",t.factory=function(i,e,t,r){var n=t(s(63)),o=s(78),a=r("permutations",{"number | BigNumber":n,"number, number":function(e,t){if(!u(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!u(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(e<t)throw new TypeError("second argument k must be less than or equal to first argument n");return o(e-t+1,e)},"BigNumber, BigNumber":function(e,t){var r=void 0,n=void 0;if(!c(e)||!c(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(r=new i.BigNumber(1),n=e.minus(t).plus(1);n.lte(e);n=n.plus(1))r=r.times(n);return r}});return a.toTex=void 0,a}},function(e,t,f){"use strict";var l=f(37);t.name="multinomial",t.factory=function(e,t,r,n){var i=r(f(15)),o=r(f(8)),a=r(f(39)),s=r(f(63)),u=r(f(31)),c=r(f(65));return n("multinomial",{"Array | Matrix":function(e){var t=0,r=1;return l(e,function(e){if(!u(e)||!c(e))throw new TypeError("Positive integer value expected in function multinomial");t=i(t,e),r=o(r,s(e))}),a(s(t),r)}})}},function(e,t,a){"use strict";t.name="kldivergence",t.factory=function(e,t,r,n){var i=r(a(1)),s=r(a(39)),u=r(a(106)),c=r(a(8)),f=r(a(113)),l=r(a(82)),p=r(a(87));function o(e,t){var r=t.size().length,n=e.size().length;if(1<r)throw new Error("first object must be one dimensional");if(1<n)throw new Error("second object must be one dimensional");if(r!==n)throw new Error("Length of two vectors must be equal");if(0===u(e))throw new Error("Sum of elements in first object must be non zero");if(0===u(t))throw new Error("Sum of elements in second object must be non zero");var i=s(e,u(e)),o=s(t,u(t)),a=u(c(i,l(f(i,o))));return p(a)?a:Number.NaN}return n("kldivergence",{"Array, Array":function(e,t){return o(i(e),i(t))},"Matrix, Array":function(e,t){return o(e,i(t))},"Array, Matrix":function(e,t){return o(i(e),t)},"Matrix, Matrix":function(e,t){return o(e,t)}})}},function(e,t,r){"use strict";e.exports=[r(62),r(63),r(110),r(434),r(433),r(432),r(431),r(427),r(426)]},function(e,t,s){"use strict";var u=s(5).clone,h=s(9).format;t.name="trace",t.factory=function(e,t,r,n){var i=r(s(1)),m=r(s(15)),o=n("trace",{Array:function(e){return a(i(e))},SparseMatrix:function(e){var t=e._values,r=e._index,n=e._ptr,i=e._size,o=i[0],a=i[1];if(o===a){var s=0;if(0<t.length)for(var u=0;u<a;u++)for(var c=n[u],f=n[u+1],l=c;l<f;l++){var p=r[l];if(p===u){s=m(s,t[l]);break}if(u<p)break}return s}throw new RangeError("Matrix must be square (size: "+h(i)+")")},DenseMatrix:a,any:u});function a(e){var t=e._size,r=e._data;switch(t.length){case 1:if(1===t[0])return u(r[0]);throw new RangeError("Matrix must be square (size: "+h(t)+")");case 2:var n=t[0];if(n===t[1]){for(var i=0,o=0;o<n;o++)i=m(i,r[o][o]);return i}throw new RangeError("Matrix must be square (size: "+h(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+h(t)+")")}}return o.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},o}},function(e,t,a){"use strict";var s=a(5),u=a(2);t.name="squeeze",t.factory=function(e,t,r,n){var i=r(a(1)),o=n("squeeze",{Array:function(e){return u.squeeze(s.clone(e))},Matrix:function(e){var t=u.squeeze(e.toArray());return Array.isArray(t)?i(t):t},any:function(e){return s.clone(e)}});return o.toTex=void 0,o}},function(e,t,v){"use strict";var y=v(2),g=v(4),x=v(9);t.name="sqrtm",t.factory=function(r,e,t,n){var a=t(v(23)),s=t(v(15)),u=t(v(8)),i=t(v(38)),c=t(v(14)),f=t(v(68)),l=t(v(24)),p=t(v(76)),m=t(v(51)),o=n("sqrtm",{"Array | Matrix":function(e){var t=r.isMatrix(e)?e.size():y.size(e);switch(t.length){case 1:if(1===t[0])return i(e);throw new RangeError("Matrix must be square (size: "+x.format(t)+")");case 2:if(t[0]===t[1])return function(e){var t=void 0,r=0,n=e,i=m(l(e));do{var o=n;if(n=u(.5,s(o,f(i))),i=u(.5,s(i,f(o))),t=p(a(c(n,o))),d<t&&++r>h)throw new Error("computing square root of matrix: iterative method could not converge")}while(d<t);return n}(e);throw new RangeError("Matrix must be square (size: "+x.format(t)+")")}}}),h=1e3,d=1e-6;return o.toTex={1:"{${args[0]}}"+g.operators.pow+"{\\frac{1}{2}}"},o}},function(e,t){e.exports=function t(e,r){"use strict";var n,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,c=/^0/,f=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},l=f(e).replace(a,"")||"",p=f(r).replace(a,"")||"",m=l.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=p.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=parseInt(l.match(u),16)||1!==m.length&&l.match(s)&&Date.parse(l),v=parseInt(p.match(u),16)||d&&p.match(s)&&Date.parse(p)||null;if(v){if(d<v)return-1;if(v<d)return 1}for(var y=0,g=Math.max(m.length,h.length);y<g;y++){if(n=!(m[y]||"").match(c)&&parseFloat(m[y])||m[y]||0,i=!(h[y]||"").match(c)&&parseFloat(h[y])||h[y]||0,isNaN(n)!==isNaN(i))return isNaN(n)?1:-1;if(typeof n!=typeof i&&(n+="",i+=""),n<i)return-1;if(i<n)return 1}return 0}},function(e,t,p){"use strict";var m=p(2).size;t.name="sort",t.factory=function(e,t,r,n){var i=r(p(1)),o=r(p(48)),a=function(e,t){return-o(e,t)},s=r(p(26)),u=n("sort",{Array:function(e){return f(e),e.sort(o)},Matrix:function(e){return l(e),i(e.toArray().sort(o),e.storage())},"Array, function":function(e,t){return f(e),e.sort(t)},"Matrix, function":function(e,t){return l(e),i(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return f(e),e.sort(c(t))},"Matrix, string":function(e,t){return l(e),i(e.toArray().sort(c(t)),e.storage())}});function c(e){if("asc"===e)return o;if("desc"===e)return a;if("natural"===e)return s;throw new Error('String "asc", "desc", or "natural" expected')}function f(e){if(1!==m(e).length)throw new Error("One dimensional array expected")}function l(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}return u.toTex=void 0,u}},function(e,t,n){"use strict";var u=n(11),c=n(59),f=n(3).isInteger,l=n(9).format,p=n(5).clone,m=n(2);t.name="resize",t.factory=function(o,a,e,t){var s=e(n(1)),r=function(e,t,r){if(2!==arguments.length&&3!==arguments.length)throw new c("resize",arguments.length,2,3);if(o.isMatrix(t)&&(t=t.valueOf()),o.isBigNumber(t[0])&&(t=t.map(function(e){return o.isBigNumber(e)?e.toNumber():e})),o.isMatrix(e))return e.resize(t,r,!0);if("string"==typeof e)return function(e,t,r){if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";if(1!==t.length)throw new u(t.length,1);var n=t[0];if("number"!=typeof n||!f(n))throw new TypeError("Invalid size, must contain positive integers (size: "+l(t)+")");if(e.length>n)return e.substring(0,n);if(e.length<n){for(var i=e,o=0,a=n-e.length;o<a;o++)i+=r;return i}return e}(e,t,r);var n=!Array.isArray(e)&&"Array"!==a.matrix;if(0===t.length){for(;Array.isArray(e);)e=e[0];return p(e)}Array.isArray(e)||(e=[e]),e=p(e);var i=m.resize(e,t,r);return n?s(i):i};return r.toTex=void 0,r}},function(e,t,s){"use strict";var u=s(2);t.name="reshape",t.factory=function(e,t,r,n){var i=r(s(1)),o=r(s(31)),a=n("reshape",{"Matrix, Array":function(e,t){return e.reshape?e.reshape(t):i(u.reshape(e.valueOf(),t))},"Array, Array":function(e,t){return t.forEach(function(e){if(!o(e))throw new TypeError("Invalid size for dimension: "+e)}),u.reshape(e,t)}});return a.toTex=void 0,a}},function(e,t,o){"use strict";var u=o(3).isInteger,c=o(2).resize;t.name="ones",t.factory=function(a,t,e,r){var s=e(o(1)),n=r("ones",{"":function(){return"Array"===t.matrix?i([]):i([],"default")},"...number | BigNumber | string":function(e){return"string"==typeof e[e.length-1]?i(e,e.pop()):"Array"===t.matrix?i(e):i(e,"default")},Array:i,Matrix:function(e){var t=e.storage();return i(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return i(e.valueOf(),t)}});return n.toTex=void 0,n;function i(e,t){var n,r=(n=!1,e.forEach(function(e,t,r){a.isBigNumber(e)&&(n=!0,r[t]=e.toNumber())}),n?new a.BigNumber(1):1);if(e.forEach(function(e){if("number"!=typeof e||!u(e)||e<0)throw new Error("Parameters in function ones must be positive integers")}),t){var i=s(t);return 0<e.length?i.resize(e,r):i}var o=[];return 0<e.length?c(o,e,r):o}}},function(e,t,s){"use strict";var u=s(2).size;t.name="kron",t.factory=function(e,t,r,n){var i=r(s(1)),o=r(s(21));return n("kron",{"Matrix, Matrix":function(e,t){return i(a(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return i(a(e.toArray(),t))},"Array, Matrix":function(e,t){return i(a(e,t.toArray()))},"Array, Array":a});function a(e,r){if(1===u(e).length&&(e=[e]),1===u(r).length&&(r=[r]),2<u(e).length||2<u(r).length)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(r.length)+")");var n=[],i=[];return e.map(function(t){return r.map(function(e){return i=[],n.push(i),t.map(function(t){return e.map(function(e){return i.push(o(t,e))})})})})&&n}}},function(e,t,r){"use strict";var n=r(36).maxArgumentCount,a=r(2).forEach;function o(t,i){var o=n(i);!function r(e,n){Array.isArray(e)?a(e,function(e,t){r(e,n.concat(t))}):1===o?i(e):2===o?i(e,n):i(e,n,t)}(t,[])}t.name="forEach",t.factory=function(e,t,r,n){var i=n("forEach",{"Array, function":o,"Matrix, function":function(e,t){return e.forEach(t)}});return i.toTex=void 0,i}},function(e,t,a){"use strict";var s=a(5).clone,u=a(2).flatten;t.name="flatten",t.factory=function(e,t,r,n){var i=r(a(1)),o=n("flatten",{Array:function(e){return u(s(e))},Matrix:function(e){var t=u(s(e.toArray()));return i(t)}});return o.toTex=void 0,o}},function(e,t,a){"use strict";var r=a(2).filter,s=a(2).filterRegExp,o=a(36).maxArgumentCount;function u(e,n){var i=o(n);return r(e,function(e,t,r){return 1===i?n(e):2===i?n(e,[t]):n(e,[t],r)})}t.name="filter",t.factory=function(e,t,r,n){var i=r(a(1)),o=n("filter",{"Array, function":u,"Matrix, function":function(e,t){return i(u(e.toArray(),t))},"Array, RegExp":s,"Matrix, RegExp":function(e,t){return i(s(e.toArray(),t))}});return o.toTex=void 0,o}},function(e,t,i){"use strict";var M=i(9).format;t.name="expm",t.factory=function(d,e,t,r){var v=t(i(23)),y=t(i(15)),g=t(i(51)),x=t(i(68)),b=t(i(8)),w=d.SparseMatrix,n=r("expm",{Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+M(t)+")");for(var r=t[0],n=function(e,t){for(var r=0;r<30;r++)for(var n=0;n<=r;n++){var i=r-n;if(N(e,n,i)<t)return{q:n,j:i}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(e){for(var t=e.size()[0],r=0,n=0;n<t;n++){for(var i=0,o=0;o<t;o++)i+=v(e.get([n,o]));r=Math.max(i,r)}return r}(e),1e-15),i=n.q,o=n.j,a=b(e,Math.pow(2,-o)),s=g(r),u=g(r),c=1,f=a,l=-1,p=1;p<=i;p++)1<p&&(f=b(f,a),l=-l),s=y(s,b(c=c*(i-p+1)/((2*i-p+1)*p),f)),u=y(u,b(c*l,f));for(var m=b(x(u),s),h=0;h<o;h++)m=b(m,m);return d.isSparseMatrix(e)?new w(m):m}});function N(e,t,r){for(var n=1,i=2;i<=t;i++)n*=i;for(var o=n,a=t+1;a<=2*t;a++)o*=a;var s=o*(2*t+1);return 8*Math.pow(e/Math.pow(2,r),2*t)*n*n/(o*s)}return n.toTex={1:"\\exp\\left(${args[0]}\\right)"},n}},function(e,t,r){"use strict";t.name="eye",t.factory=function(e,t,r,n){return function(){throw new Error('Function "eye" is renamed to "identity" since mathjs version 5.0.0. To keep eye working, create an alias for it using "math.import({eye: math.identity}, {override: true})"')}}},function(e,t,a){"use strict";var c=a(2).size;t.name="dot",t.factory=function(e,t,r,n){var s=r(a(15)),u=r(a(8)),i=n("dot",{"Matrix, Matrix":function(e,t){return o(e.toArray(),t.toArray())},"Matrix, Array":function(e,t){return o(e.toArray(),t)},"Array, Matrix":function(e,t){return o(e,t.toArray())},"Array, Array":o});return i.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},i;function o(e,t){var r=c(e),n=c(t),i=r[0];if(1!==r.length||1!==n.length)throw new RangeError("Vector expected");if(r[0]!==n[0])throw new RangeError("Vectors must have equal length ("+r[0]+" != "+n[0]+")");if(0===i)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var o=0,a=0;a<i;a++)o=s(o,u(e[a],t[a]));return o}}},function(e,t,o){"use strict";var a=o(2),h=o(3).isInteger;t.name="diag",t.factory=function(p,e,t,r){var m=t(o(1)),n=r("diag",{Array:function(e){return i(e,0,a.size(e),null)},"Array, number":function(e,t){return i(e,t,a.size(e),null)},"Array, BigNumber":function(e,t){return i(e,t.toNumber(),a.size(e),null)},"Array, string":function(e,t){return i(e,0,a.size(e),t)},"Array, number, string":function(e,t,r){return i(e,t,a.size(e),r)},"Array, BigNumber, string":function(e,t,r){return i(e,t.toNumber(),a.size(e),r)},Matrix:function(e){return i(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return i(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return i(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return i(e,0,e.size(),t)},"Matrix, number, string":function(e,t,r){return i(e,t,e.size(),r)},"Matrix, BigNumber, string":function(e,t,r){return i(e,t.toNumber(),e.size(),r)}});return n.toTex=void 0,n;function i(e,t,r,n){if(!h(t))throw new TypeError("Second parameter in function diag must be an integer");var i,o,a,s,u,c,f=0<t?t:0,l=t<0?-t:0;switch(r.length){case 1:return i=e,o=t,a=n,s=r[0],u=[s+l,s+f],c=p.Matrix.storage(a||"dense").diagonal(u,i,o),null!==a?c:c.valueOf();case 2:return function(e,t,r,n,i,o){if(p.isMatrix(e)){var a=e.diagonal(t);return null!==r?r!==a.storage()?m(a,r):a:a.valueOf()}for(var s=Math.min(n[0]-i,n[1]-o),u=[],c=0;c<s;c++)u[c]=e[c+i][c+o];return null!==r?m(u):u}(e,t,n,r,l,f)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}},function(e,t,u){"use strict";t.name="ctranspose",t.factory=function(e,t,r,n){var i=r(u(66)),o=r(u(67)),a=u(4),s=n("ctranspose",{any:function(e){return o(i(e))}});return s.toTex={1:"\\left(${args[0]}\\right)"+a.operators.ctranspose},s}},function(e,t,c){"use strict";var f=c(2);t.name="cross",t.factory=function(e,t,r,n){var i=r(c(1)),a=r(c(14)),s=r(c(8)),o=n("cross",{"Matrix, Matrix":function(e,t){return i(u(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return i(u(e.toArray(),t))},"Array, Matrix":function(e,t){return i(u(e,t.toArray()))},"Array, Array":u});return o.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},o;function u(e,t){var r=Math.max(f.size(e).length,f.size(t).length);e=f.squeeze(e),t=f.squeeze(t);var n=f.size(e),i=f.size(t);if(1!==n.length||1!==i.length||3!==n[0]||3!==i[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+n.join(", ")+"], B = ["+i.join(", ")+"])");var o=[a(s(e[1],t[2]),s(e[2],t[1])),a(s(e[2],t[0]),s(e[0],t[2])),a(s(e[0],t[1]),s(e[1],t[0]))];return 1<r?[o]:o}}},function(e,t,r){"use strict";e.exports=[r(61),r(453),r(452),r(124),r(451),r(450),r(449),r(448),r(447),r(446),r(445),r(51),r(68),r(444),r(108),r(443),r(77),r(107),r(442),r(441),r(24),r(440),r(438),r(437),r(22),r(436),r(66),r(42)]},function(e,t,p){"use strict";t.name="xor",t.factory=function(e,t,r,n){var i=p(4),o=r(p(1)),a=r(p(19)),s=r(p(28)),u=r(p(18)),c=r(p(7)),f=r(p(6)),l=n("xor",{"number, number":function(e,t){return!!e!=!!t},"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!=(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!=(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return l(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,l)},"Array, Array":function(e,t){return l(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return l(o(e),t)},"Matrix, Array":function(e,t){return l(e,o(t))},"SparseMatrix, any":function(e,t){return u(e,t,l,!1)},"DenseMatrix, any":function(e,t){return f(e,t,l,!1)},"any, SparseMatrix":function(e,t){return u(t,e,l,!0)},"any, DenseMatrix":function(e,t){return f(t,e,l,!0)},"Array, any":function(e,t){return f(o(e),t,l,!1).valueOf()},"any, Array":function(e,t){return f(o(t),e,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}"+i.operators.xor+"${args[1]}\\right)"},l}},function(e,t,p){"use strict";t.name="or",t.factory=function(e,t,r,n){var i=p(4),o=r(p(1)),a=r(p(19)),s=r(p(71)),u=r(p(18)),c=r(p(7)),f=r(p(6)),l=n("or",{"number, number":function(e,t){return!(!e&&!t)},"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return l(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,l)},"Array, Array":function(e,t){return l(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return l(o(e),t)},"Matrix, Array":function(e,t){return l(e,o(t))},"SparseMatrix, any":function(e,t){return u(e,t,l,!1)},"DenseMatrix, any":function(e,t){return f(e,t,l,!1)},"any, SparseMatrix":function(e,t){return u(t,e,l,!0)},"any, DenseMatrix":function(e,t){return f(t,e,l,!0)},"Array, any":function(e,t){return f(o(e),t,l,!1).valueOf()},"any, Array":function(e,t){return f(o(t),e,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}"+i.operators.or+"${args[1]}\\right)"},l}},function(e,t,h){"use strict";t.name="and",t.factory=function(e,t,r,n){var i=h(4),o=r(h(1)),a=r(h(42)),s=r(h(109)),u=r(h(25)),c=r(h(64)),f=r(h(17)),l=r(h(7)),p=r(h(6)),m=n("and",{"number, number":function(e,t){return!(!e||!t)},"Complex, Complex":function(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im)},"BigNumber, BigNumber":function(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN())},"Unit, Unit":function(e,t){return m(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,m,!1)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,m,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,m,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,m)},"Array, Array":function(e,t){return m(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return m(o(e),t)},"Matrix, Array":function(e,t){return m(e,o(t))},"SparseMatrix, any":function(e,t){return s(t)?a(e.size(),e.storage()):f(e,t,m,!1)},"DenseMatrix, any":function(e,t){return s(t)?a(e.size(),e.storage()):p(e,t,m,!1)},"any, SparseMatrix":function(e,t){return s(e)?a(e.size(),e.storage()):f(t,e,m,!0)},"any, DenseMatrix":function(e,t){return s(e)?a(e.size(),e.storage()):p(t,e,m,!0)},"Array, any":function(e,t){return m(o(e),t).valueOf()},"any, Array":function(e,t){return m(e,o(t)).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+i.operators.and+"${args[1]}\\right)"},m}},function(e,t,r){"use strict";e.exports=[r(457),r(109),r(456),r(455)]},function(e,t,b){"use strict";t.name="distance",t.factory=function(t,e,r,n){var l=r(b(20)),p=r(b(14)),m=r(b(21)),h=r(b(12)),s=r(b(33)),d=r(b(38)),u=r(b(23));function i(e){return"number"==typeof e||t.isBigNumber(e)}function c(e){return e.constructor!==Array&&(e=f(e)),i(e[0])&&i(e[1])}function o(e){return e.constructor!==Array&&(e=f(e)),i(e[0])&&i(e[1])&&i(e[2])}function a(e){return e.constructor!==Array&&(e=f(e)),i(e[0])&&i(e[1])&&i(e[2])&&i(e[3])&&i(e[4])&&i(e[5])}function f(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;n++)r.push(e[t[n]]);return r}function v(e,t,r,n,i){var o=u(l(l(m(r,e),m(n,t)),i)),a=d(l(m(r,r),m(n,n)));return h(o,a)}function y(e,t,r,n,i,o,a,s,u){var c=[p(m(p(i,t),u),m(p(o,r),s)),p(m(p(o,r),a),m(p(n,e),u)),p(m(p(n,e),s),m(p(i,t),a))];c=d(l(l(m(c[0],c[0]),m(c[1],c[1])),m(c[2],c[2])));var f=d(l(l(m(a,a),m(s,s)),m(u,u)));return h(c,f)}function g(e,t,r,n){var i=p(n,t),o=p(r,e),a=l(m(i,i),m(o,o));return d(a)}function x(e,t,r,n,i,o){var a=p(o,r),s=p(i,t),u=p(n,e),c=l(l(m(a,a),m(s,s)),m(u,u));return d(c)}return n("distance",{"Array, Array, Array":function(e,t,r){if(2===e.length&&2===t.length&&2===r.length){if(!c(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(r))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var n=h(p(r[1],r[0]),p(t[1],t[0])),i=m(m(n,n),t[0]),o=s(m(n,t[0])),a=e[1];return v(e[0],e[1],i,o,a)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,r){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(r).length){if(!c(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(r))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("lineOnePtX")&&t.hasOwnProperty("lineOnePtY")&&r.hasOwnProperty("lineTwoPtX")&&r.hasOwnProperty("lineTwoPtY")){var n=h(p(r.lineTwoPtY,r.lineTwoPtX),p(t.lineOnePtY,t.lineOnePtX)),i=m(m(n,n),t.lineOnePtX),o=s(m(n,t.lineOnePtX)),a=e.pointX;return v(e.pointX,e.pointY,i,o,a)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2===e.length&&3===t.length){if(!c(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!o(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return v(e[0],e[1],t[0],t[1],t[2])}if(3===e.length&&6===t.length){if(!o(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!a(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(2===e.length&&2===t.length){if(!c(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");return g(e[0],e[1],t[0],t[1])}if(3===e.length&&3===t.length){if(!o(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!o(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return x(e[0],e[1],e[2],t[0],t[1],t[2])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!c(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!o(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("xCoeffLine")&&t.hasOwnProperty("yCoeffLine")&&t.hasOwnProperty("constant"))return v(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!o(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!a(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("x0")&&t.hasOwnProperty("y0")&&t.hasOwnProperty("z0")&&t.hasOwnProperty("a")&&t.hasOwnProperty("b")&&t.hasOwnProperty("c"))return y(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!c(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&t.hasOwnProperty("pointTwoX")&&t.hasOwnProperty("pointTwoY"))return g(e.pointOneX,e.pointOneY,t.pointTwoX,t.pointTwoY);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!o(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!o(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointOneZ")&&t.hasOwnProperty("pointTwoX")&&t.hasOwnProperty("pointTwoY")&&t.hasOwnProperty("pointTwoZ"))return x(e.pointOneX,e.pointOneY,e.pointOneZ,t.pointTwoX,t.pointTwoY,t.pointTwoZ);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&i(e[0][0])&&i(e[0][1])){for(var t in e)if(2!==e[t].length||!i(e[t][0])||!i(e[t][1]))return!1}else{if(!(3===e[0].length&&i(e[0][0])&&i(e[0][1])&&i(e[0][2])))return!1;for(var r in e)if(3!==e[r].length||!i(e[r][0])||!i(e[r][1])||!i(e[r][2]))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],r=0;r<e.length-1;r++)for(var n=r+1;n<e.length;n++)2===e[0].length?t.push(g(e[r][0],e[r][1],e[n][0],e[n][1])):3===e[0].length&&t.push(x(e[r][0],e[r][1],e[r][2],e[n][0],e[n][1],e[n][2]));return t}(e)}})}},function(e,t,n){"use strict";t.name="intersect",t.factory=function(t,_,e,r){var C=e(n(23)),z=e(n(15)),B=e(n(20)),i=e(n(1)),I=e(n(8)),k=e(n(21)),P=e(n(12)),R=e(n(14)),U=e(n(44)),q=e(n(10)),o=r("intersect",{"Array, Array, Array":function(e,t,r){if(!L(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!L(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!(4===(n=r).length&&E(n[0])&&E(n[1])&&E(n[2])&&E(n[3])))throw new TypeError("Array with 4 numbers expected as third argument");var n,i,o,a,s,u,c,f,l,p,m,h,d,v,y,g,x,b,w,N,M;return i=e[0],o=e[1],a=e[2],s=t[0],u=t[1],c=t[2],f=r[0],l=r[1],p=r[2],m=r[3],h=k(i,f),d=k(s,f),v=k(o,l),y=k(u,l),g=k(a,p),x=k(c,p),b=P(R(R(R(m,h),v),g),R(R(R(B(B(d,y),x),h),v),g)),w=B(i,k(b,R(s,i))),N=B(o,k(b,R(u,o))),M=B(a,k(b,R(c,a))),[w,N,M]},"Array, Array, Array, Array":function(e,t,r,n){if(2===e.length){if(!D(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!D(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!D(r))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!D(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,t,r,n){var i=e,o=r,a=R(i,t),s=R(o,n),u=R(k(a[0],s[1]),k(s[0],a[1]));if(U(C(u),_.epsilon))return null;var c=k(s[0],i[1]),f=k(s[1],i[0]),l=k(s[0],o[1]),p=k(s[1],o[0]),m=P(B(R(R(c,f),l),p),u);return z(I(a,m),i)}(e,t,r,n)}if(3===e.length){if(!L(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!L(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!L(r))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!L(n))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return i=e[0],o=e[1],a=e[2],s=t[0],u=t[1],c=t[2],f=r[0],l=r[1],p=r[2],m=n[0],h=n[1],d=n[2],v=F(i,f,m,f,o,l,h,l,a,p,d,p),y=F(m,f,s,i,h,l,u,o,d,p,c,a),g=F(i,f,s,i,o,l,u,o,a,p,c,a),x=F(m,f,m,f,h,l,h,l,d,p,d,p),b=F(s,i,s,i,u,o,u,o,c,a,c,a),w=P(R(k(v,y),k(g,x)),R(k(b,x),k(y,y))),N=P(B(v,k(w,y)),x),M=B(i,k(w,R(s,i))),E=B(o,k(w,R(u,o))),A=B(a,k(w,R(c,a))),S=B(f,k(N,R(m,f))),O=B(l,k(N,R(h,l))),T=B(p,k(N,R(d,p))),q(M,S)&&q(E,O)&&q(A,T)?[M,E,A]:null}throw new TypeError("Arrays with two or thee dimensional points expected");var i,o,a,s,u,c,f,l,p,m,h,d,v,y,g,x,b,w,N,M,E,A,S,O,T},"Matrix, Matrix, Matrix":function(e,t,r){return i(o(e.valueOf(),t.valueOf(),r.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(e,t,r,n){return i(o(e.valueOf(),t.valueOf(),r.valueOf(),n.valueOf()))}});function E(e){return"number"==typeof e||t.isBigNumber(e)}function D(e){return 2===e.length&&E(e[0])&&E(e[1])}function L(e){return 3===e.length&&E(e[0])&&E(e[1])&&E(e[2])}function F(e,t,r,n,i,o,a,s,u,c,f,l){var p=k(R(e,t),R(r,n)),m=k(R(i,o),R(a,s)),h=k(R(u,c),R(f,l));return B(B(p,m),h)}return o}},function(e,t,r){"use strict";e.exports=[r(460),r(459)]},function(e,t,r){"use strict";var o=r(0);t.name="re",t.factory=function(e,t,r,n){var i=n("re",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},i}},function(e,t,r){"use strict";var o=r(0);t.name="im",t.factory=function(t,e,r,n){var i=n("im",{number:function(e){return 0},BigNumber:function(e){return new t.BigNumber(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},i}},function(e,t,r){"use strict";var o=r(0);t.name="arg",t.factory=function(t,e,r,n){var i=n("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(e){return t.BigNumber.atan2(0,e)},Complex:function(e){return e.arg()},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\arg\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";e.exports=[r(464),r(67),r(463),r(462)]},function(e,t,l){"use strict";t.name="catalan",t.factory=function(e,t,r,n){var i=r(l(15)),o=r(l(39)),a=r(l(8)),s=r(l(62)),u=r(l(53)),c=r(l(31)),f=n("catalan",{"number | BigNumber":function(e){if(!c(e)||u(e))throw new TypeError("Non-negative integer value expected in function catalan");return o(s(a(e,2),e),i(e,1))}});return f.toTex={1:"\\mathrm{C}_{${args[0]}}"},f}},function(e,t,f){"use strict";t.name="composition",t.factory=function(e,t,r,n){var i=r(f(62)),o=r(f(20)),a=r(f(65)),s=r(f(31)),u=r(f(34)),c=n("composition",{"number | BigNumber, number | BigNumber":function(e,t){if(!(s(e)&&a(e)&&s(t)&&a(t)))throw new TypeError("Positive integer value expected in function composition");if(u(t,e))throw new TypeError("k must be less than or equal to n in function composition");return i(o(e,-1),o(t,-1))}});return c.toTex=void 0,c}},function(e,t,c){"use strict";t.name="bellNumbers",t.factory=function(e,t,r,n){var i=r(c(15)),o=r(c(111)),a=r(c(53)),s=r(c(31)),u=n("bellNumbers",{"number | BigNumber":function(e){if(!s(e)||a(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,r=0;r<=e;r++)t=i(t,o(e,r));return t}});return u.toTex={1:"\\mathrm{B}_{${args[0]}}"},u}},function(e,t,r){"use strict";e.exports=[r(468),r(467),r(111),r(466)]},function(e,t,v){"use strict";var y=v(3).isInteger;t.name="rightLogShift",t.factory=function(e,t,r,n){var i=v(4),o=r(v(1)),a=r(v(10)),s=r(v(42)),u=r(v(35)),c=r(v(25)),f=r(v(79)),l=r(v(45)),p=r(v(17)),m=r(v(7)),h=r(v(6)),d=n("rightLogShift",{"number, number":function(e,t){if(!y(e)||!y(t))throw new Error("Integers expected in function rightLogShift");return e>>>t},"SparseMatrix, SparseMatrix":function(e,t){return f(e,t,d,!1)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,d)},"Array, Array":function(e,t){return d(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return d(o(e),t)},"Matrix, Array":function(e,t){return d(e,o(t))},"SparseMatrix, number | BigNumber":function(e,t){return a(t,0)?e.clone():p(e,t,d,!1)},"DenseMatrix, number | BigNumber":function(e,t){return a(t,0)?e.clone():h(e,t,d,!1)},"number | BigNumber, SparseMatrix":function(e,t){return a(e,0)?s(t.size(),t.storage()):l(t,e,d,!0)},"number | BigNumber, DenseMatrix":function(e,t){return a(e,0)?s(t.size(),t.storage()):h(t,e,d,!0)},"Array, number | BigNumber":function(e,t){return d(o(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return d(e,o(t)).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+i.operators.rightLogShift+"${args[1]}\\right)"},d}},function(e,t,r){"use strict";e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():e.isNegative()?new r(-1):e.isFinite()?new r(0):new r(NaN)}},function(e,t,v){"use strict";var y=v(3).isInteger,g=v(471);t.name="rightArithShift",t.factory=function(e,t,r,n){var i=v(4),o=r(v(1)),a=r(v(10)),s=r(v(42)),u=r(v(35)),c=r(v(25)),f=r(v(79)),l=r(v(45)),p=r(v(17)),m=r(v(7)),h=r(v(6)),d=n("rightArithShift",{"number, number":function(e,t){if(!y(e)||!y(t))throw new Error("Integers expected in function rightArithShift");return e>>t},"BigNumber, BigNumber":g,"SparseMatrix, SparseMatrix":function(e,t){return f(e,t,d,!1)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,d)},"Array, Array":function(e,t){return d(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return d(o(e),t)},"Matrix, Array":function(e,t){return d(e,o(t))},"SparseMatrix, number | BigNumber":function(e,t){return a(t,0)?e.clone():p(e,t,d,!1)},"DenseMatrix, number | BigNumber":function(e,t){return a(t,0)?e.clone():h(e,t,d,!1)},"number | BigNumber, SparseMatrix":function(e,t){return a(e,0)?s(t.size(),t.storage()):l(t,e,d,!0)},"number | BigNumber, DenseMatrix":function(e,t){return a(e,0)?s(t.size(),t.storage()):h(t,e,d,!0)},"Array, number | BigNumber":function(e,t){return d(o(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return d(e,o(t)).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+i.operators.rightArithShift+"${args[1]}\\right)"},d}},function(e,t,r){"use strict";e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new r(2).pow(t)):new r(NaN)}},function(e,t,v){"use strict";var y=v(3).isInteger,g=v(473);t.name="leftShift",t.factory=function(e,t,r,n){var i=v(4),o=r(v(1)),a=r(v(10)),s=r(v(42)),u=r(v(35)),c=r(v(25)),f=r(v(79)),l=r(v(45)),p=r(v(17)),m=r(v(7)),h=r(v(6)),d=n("leftShift",{"number, number":function(e,t){if(!y(e)||!y(t))throw new Error("Integers expected in function leftShift");return e<<t},"BigNumber, BigNumber":g,"SparseMatrix, SparseMatrix":function(e,t){return f(e,t,d,!1)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,d)},"Array, Array":function(e,t){return d(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return d(o(e),t)},"Matrix, Array":function(e,t){return d(e,o(t))},"SparseMatrix, number | BigNumber":function(e,t){return a(t,0)?e.clone():p(e,t,d,!1)},"DenseMatrix, number | BigNumber":function(e,t){return a(t,0)?e.clone():h(e,t,d,!1)},"number | BigNumber, SparseMatrix":function(e,t){return a(e,0)?s(t.size(),t.storage()):l(t,e,d,!0)},"number | BigNumber, DenseMatrix":function(e,t){return a(e,0)?s(t.size(),t.storage()):h(t,e,d,!0)},"Array, number | BigNumber":function(e,t){return d(o(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return d(e,o(t)).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+i.operators.leftShift+"${args[1]}\\right)"},d}},function(e,t,r){"use strict";var i=r(81),o=r(80);e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new r(0);var n=new r(-1);return e.eq(n)?o(t):t.eq(n)?o(e):e.isFinite()&&t.isFinite()?i(e,t,function(e,t){return e^t}):e.isFinite()||t.isFinite()?new r(e.isNegative()===t.isNegative()?1/0:-1/0):n}},function(e,t,p){"use strict";var m=p(3).isInteger,h=p(475);t.name="bitXor",t.factory=function(e,t,r,n){var i=p(4),o=r(p(1)),a=r(p(19)),s=r(p(28)),u=r(p(18)),c=r(p(7)),f=r(p(6)),l=n("bitXor",{"number, number":function(e,t){if(!m(e)||!m(t))throw new Error("Integers expected in function bitXor");return e^t},"BigNumber, BigNumber":h,"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,l)},"Array, Array":function(e,t){return l(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return l(o(e),t)},"Matrix, Array":function(e,t){return l(e,o(t))},"SparseMatrix, any":function(e,t){return u(e,t,l,!1)},"DenseMatrix, any":function(e,t){return f(e,t,l,!1)},"any, SparseMatrix":function(e,t){return u(t,e,l,!0)},"any, DenseMatrix":function(e,t){return f(t,e,l,!0)},"Array, any":function(e,t){return f(o(e),t,l,!1).valueOf()},"any, Array":function(e,t){return f(o(t),e,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}"+i.operators.bitXor+"${args[1]}\\right)"},l}},function(e,t,r){"use strict";var i=r(81);e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);var n=new r(-1);return e.isZero()||t.eq(n)||e.eq(t)?t:t.isZero()||e.eq(n)?e:e.isFinite()&&t.isFinite()?i(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?n:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}},function(e,t,p){"use strict";var m=p(3).isInteger,h=p(477);t.name="bitOr",t.factory=function(e,t,r,n){var i=p(4),o=r(p(1)),a=r(p(35)),s=r(p(89)),u=r(p(45)),c=r(p(7)),f=r(p(6)),l=n("bitOr",{"number, number":function(e,t){if(!m(e)||!m(t))throw new Error("Integers expected in function bitOr");return e|t},"BigNumber, BigNumber":h,"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,l)},"Array, Array":function(e,t){return l(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return l(o(e),t)},"Matrix, Array":function(e,t){return l(e,o(t))},"SparseMatrix, any":function(e,t){return u(e,t,l,!1)},"DenseMatrix, any":function(e,t){return f(e,t,l,!1)},"any, SparseMatrix":function(e,t){return u(t,e,l,!0)},"any, DenseMatrix":function(e,t){return f(t,e,l,!0)},"Array, any":function(e,t){return f(o(e),t,l,!1).valueOf()},"any, Array":function(e,t){return f(o(t),e,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}"+i.operators.bitOr+"${args[1]}\\right)"},l}},function(e,t,a){"use strict";var s=a(0),u=a(80),c=a(3).isInteger;t.name="bitNot",t.factory=function(e,t,r,n){var i=a(4),o=n("bitNot",{number:function(e){if(!c(e))throw new Error("Integer expected in function bitNot");return~e},BigNumber:u,"Array | Matrix":function(e){return s(e,o)}});return o.toTex={1:i.operators.bitNot+"\\left(${args[0]}\\right)"},o}},function(e,t,r){"use strict";var n=r(81);e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e}return n(e,t,function(e,t){return e&t})}},function(e,t,p){"use strict";var m=p(3).isInteger,h=p(480);t.name="bitAnd",t.factory=function(e,t,r,n){var i=p(4),o=r(p(1)),a=r(p(25)),s=r(p(64)),u=r(p(17)),c=r(p(7)),f=r(p(6)),l=n("bitAnd",{"number, number":function(e,t){if(!m(e)||!m(t))throw new Error("Integers expected in function bitAnd");return e&t},"BigNumber, BigNumber":h,"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,l,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,l)},"Array, Array":function(e,t){return l(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return l(o(e),t)},"Matrix, Array":function(e,t){return l(e,o(t))},"SparseMatrix, any":function(e,t){return u(e,t,l,!1)},"DenseMatrix, any":function(e,t){return f(e,t,l,!1)},"any, SparseMatrix":function(e,t){return u(t,e,l,!0)},"any, DenseMatrix":function(e,t){return f(t,e,l,!0)},"Array, any":function(e,t){return f(o(e),t,l,!1).valueOf()},"any, Array":function(e,t){return f(o(t),e,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}"+i.operators.bitAnd+"${args[1]}\\right)"},l}},function(e,t,r){"use strict";e.exports=[r(481),r(479),r(478),r(476),r(474),r(472),r(470)]},function(e,t,n){"use strict";var f=n(3).isInteger;t.name="xgcd",t.factory=function(p,m,e,t){var h=e(n(1)),r=t("xgcd",{"number, number":function(e,t){var r=void 0,n=void 0,i=void 0,o=0,a=1,s=1,u=0;if(!f(e)||!f(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)n=Math.floor(e/t),i=e-n*t,o=a-n*(r=o),a=r,s=u-n*(r=s),u=r,e=t,t=i;var c=void 0;return c=e<0?[-e,-a,-u]:[e,e?a:0,u],"Array"===m.matrix?c:h(c)},"BigNumber, BigNumber":function(e,t){var r=void 0,n=void 0,i=void 0,o=new p.BigNumber(0),a=new p.BigNumber(1),s=o,u=a,c=a,f=o;if(!e.isInt()||!t.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();)n=e.div(t).floor(),i=e.mod(t),r=s,s=u.minus(n.times(s)),u=r,r=c,c=f.minus(n.times(c)),f=r,e=t,t=i;var l=void 0;return l=e.lt(o)?[e.neg(),u.neg(),f.neg()]:[e,e.isZero()?0:u,f],"Array"===m.matrix?l:h(l)}});return r.toTex=void 0,r}},function(e,t,a){"use strict";var s=a(0);t.name="unaryPlus",t.factory=function(t,r,e,n){var i=a(4),o=n("unaryPlus",{number:function(e){return e},Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return s(e,o,!0)},"boolean | string":function(e){return"BigNumber"===r.number?new t.BigNumber(+e):+e}});return o.toTex={1:i.operators.unaryPlus+"\\left(${args[0]}\\right)"},o}},function(e,t,r){"use strict";var o=r(0);t.name="square",t.factory=function(e,t,r,n){var i=n("square",{number:function(e){return e*e},Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return o(e,i,!0)},Unit:function(e){return e.pow(2)}});return i.toTex={1:"\\left(${args[0]}\\right)^2"},i}},function(e,t,r){"use strict";var n=r(91),i=r(148),f=n.factory("Complex",{},"",i,{on:function(e,t){}});var l=[function(e){return f(e)},function(e){return f(0,e)},function(e){return f(-e)},function(e){return f(0,-e)}];function o(e,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!=0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[f(0)];var r="number"==typeof e,n=void 0;(r||0===e.re||0===e.im)&&(n=r?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var i=e.arg(),o=e.abs(),a=[],s=Math.pow(o,1/t),u=0;u<t;u++){var c=(n+4*u)/t;c!==Math.round(c)?a.push(f({r:s,phi:(i+2*Math.PI*u)/t})):a.push(l[c%4](s))}return a}t.name="nthRoots",t.factory=function(e,t,r,n){var i=n("nthRoots",{Complex:function(e){return o(e,2)},"Complex, number":o});return i.toTex={2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},i}},function(e,t,h){"use strict";function d(e,t){var r=t<0;if(r&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===e)return r?1/0:0;if(!isFinite(e))return r?0:e;var n=Math.pow(Math.abs(e),1/t);return n=e<0?-n:n,r?1/n:n}t.name="nthRoot",t.factory=function(u,e,t,r){var n=t(h(1)),i=t(h(35)),o=t(h(25)),a=t(h(64)),s=t(h(17)),c=t(h(7)),f=t(h(6)),l="Complex number not supported in function nthRoot. Use nthRoots instead.",p=r("nthRoot",{number:function(e){return d(e,2)},"number, number":d,BigNumber:function(e){return m(e,new u.BigNumber(2))},Complex:function(e){throw new Error(l)},"Complex, number":function(e,t){throw new Error(l)},"BigNumber, BigNumber":m,"Array | Matrix":function(e){return p(e,2)},"SparseMatrix, SparseMatrix":function(e,t){if(1===t.density())return a(e,t,p);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){if(1===t.density())return i(e,t,p,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,p)},"Array, Array":function(e,t){return p(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return p(n(e),t)},"Matrix, Array":function(e,t){return p(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return s(e,t,p,!1)},"DenseMatrix, number | BigNumber":function(e,t){return f(e,t,p,!1)},"number | BigNumber, SparseMatrix":function(e,t){if(1===t.density())return s(t,e,p,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(e,t){return f(t,e,p,!0)},"Array, number | BigNumber":function(e,t){return p(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return p(e,n(t)).valueOf()}});return p.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},p;function m(e,t){var r=u.BigNumber.precision,n=u.BigNumber.clone({precision:r+2}),i=new u.BigNumber(0),o=new n(1),a=t.isNegative();if(a&&(t=t.neg()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return a?new n(1/0):0;if(!e.isFinite())return a?i:e;var s=e.abs().pow(o.div(t));return s=e.isNeg()?s.neg():s,new u.BigNumber((a?o.div(s):s).toPrecision(r))}}},function(e,t,a){"use strict";t.name="norm",t.factory=function(e,t,r,n){var l=r(a(23)),p=r(a(15)),m=r(a(43)),h=r(a(67)),d=r(a(38)),v=r(a(8)),y=r(a(10)),g=r(a(34)),x=r(a(44)),i=r(a(1)),o=n("norm",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return b(i(e),2)},Matrix:function(e){return b(e,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(e){return o(e)},"Array, number | BigNumber | string":function(e,t){return b(i(e),t)},"Matrix, number | BigNumber | string":function(e,t){return b(e,t)}});function b(e,t){var r=e.size();if(1===r.length){if(t===Number.POSITIVE_INFINITY||"inf"===t){var n=0;return e.forEach(function(e){var t=l(e);g(t,n)&&(n=t)},!0),n}if(t===Number.NEGATIVE_INFINITY||"-inf"===t){var i=void 0;return e.forEach(function(e){var t=l(e);i&&!x(t,i)||(i=t)},!0),i||0}if("fro"===t)return b(e,2);if("number"==typeof t&&!isNaN(t)){if(!y(t,0)){var o=0;return e.forEach(function(e){o=p(m(l(e),t),o)},!0),m(o,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2===r.length){if(1===t){var a=[],s=0;return e.forEach(function(e,t){var r=t[1],n=p(a[r]||0,l(e));g(n,s)&&(s=n),a[r]=n},!0),s}if(t===Number.POSITIVE_INFINITY||"inf"===t){var u=[],c=0;return e.forEach(function(e,t){var r=t[0],n=p(u[r]||0,l(e));g(n,c)&&(c=n),u[r]=n},!0),c}if("fro"===t){var f=0;return e.forEach(function(e,t){f=p(f,v(e,h(e)))}),d(f)}if(2===t)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}return o.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},o}},function(e,t,h){"use strict";t.name="mod",t.factory=function(e,t,r,n){var i=r(h(1)),o=h(4),a=r(h(25)),s=r(h(19)),u=r(h(71)),c=r(h(17)),f=r(h(18)),l=r(h(7)),p=r(h(6)),m=n("mod",{"number, number":function(e,t){if(0<t)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")},"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){return e.mod(t)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,m,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,m,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,m,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,m)},"Array, Array":function(e,t){return m(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return m(i(e),t)},"Matrix, Array":function(e,t){return m(e,i(t))},"SparseMatrix, any":function(e,t){return c(e,t,m,!1)},"DenseMatrix, any":function(e,t){return p(e,t,m,!1)},"any, SparseMatrix":function(e,t){return f(t,e,m,!0)},"any, DenseMatrix":function(e,t){return p(t,e,m,!0)},"Array, any":function(e,t){return p(i(e),t,m,!1).valueOf()},"any, Array":function(e,t){return p(i(t),e,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+o.operators.mod+"${args[1]}\\right)"},m}},function(e,t,r){"use strict";var a=r(0);t.name="log2",t.factory=function(r,t,e,n){var i=n("log2",{number:function(e){return 0<=e||t.predictable?Math.log2?Math.log2(e):Math.log(e)/Math.LN2:o(new r.Complex(e,0))},Complex:o,BigNumber:function(e){return!e.isNegative()||t.predictable?e.log(2):o(new r.Complex(e.toNumber(),0))},"Array | Matrix":function(e){return a(e,i)}});function o(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new r.Complex(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}return i.toTex="\\log_{2}\\left(${args[0]}\\right)",i}},function(e,t,u){"use strict";var c=u(0);t.name="log1p",t.factory=function(r,n,e,t){var i=e(u(12)),o=e(u(82)),a=t("log1p",{number:function(e){return-1<=e||n.predictable?Math.log1p?Math.log1p(e):Math.log(e+1):s(new r.Complex(e,0))},Complex:s,BigNumber:function(e){var t=e.plus(1);return!t.isNegative()||n.predictable?t.ln():s(new r.Complex(e.toNumber(),0))},"Array | Matrix":function(e){return c(e,a)},"any, any":function(e,t){return i(a(e),o(t))}});function s(e){var t=e.re+1;return new r.Complex(Math.log(Math.sqrt(t*t+e.im*e.im)),Math.atan2(e.im,t))}return a.toTex={1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},a}},function(e,t,r){"use strict";var o=r(0);var a=Math.log10||function(e){return Math.log(e)/Math.LN10};t.name="log10",t.factory=function(t,r,e,n){var i=n("log10",{number:function(e){return 0<=e||r.predictable?a(e):new t.Complex(e,0).log().div(Math.LN10)},Complex:function(e){return new t.Complex(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||r.predictable?e.log():new t.Complex(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i,o,a,s,u,c,f){var l=e._values,p=e._index,m=e._ptr,h=a._index,d=void 0,v=void 0,y=void 0,g=void 0;if(n)for(v=m[t],y=m[t+1],d=v;d<y;d++)r[g=p[d]]!==o?(r[g]=o,h.push(g),c?(n[g]=u?s(l[d],f):s(f,l[d]),i[g]=o):n[g]=l[d]):(n[g]=u?s(l[d],n[g]):s(n[g],l[d]),i[g]=o);else for(v=m[t],y=m[t+1],d=v;d<y;d++)r[g=p[d]]!==o?(r[g]=o,h.push(g)):i[g]=o}},function(e,t,l){"use strict";var i=l(3).isInteger;function p(e,t){if(!i(e)||!i(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var r=void 0,n=e*t;0!==t;)t=e%(r=t),e=r;return Math.abs(n/e)}t.name="lcm",t.factory=function(i,e,t,r){var n=t(l(1)),o=t(l(25)),a=t(l(64)),s=t(l(17)),u=t(l(7)),c=t(l(6)),f=r("lcm",{"number, number":p,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero()||t.isZero())return new i.BigNumber(0);for(var r=e.times(t);!t.isZero();){var n=t;t=e.mod(n),e=n}return r.div(e).abs()},"Fraction, Fraction":function(e,t){return e.lcm(t)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,f)},"Array, Array":function(e,t){return f(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return f(n(e),t)},"Matrix, Array":function(e,t){return f(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return s(e,t,f,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,f,!1)},"number | BigNumber, SparseMatrix":function(e,t){return s(t,e,f,!0)},"number | BigNumber, DenseMatrix":function(e,t){return c(t,e,f,!0)},"Array, number | BigNumber":function(e,t){return c(n(e),t,f,!1).valueOf()},"number | BigNumber, Array":function(e,t){return c(n(t),e,f,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,r){for(var n=f(e,t),i=0;i<r.length;i++)n=f(n,r[i]);return n}});return f.toTex=void 0,f}},function(e,t,p){"use strict";var m=p(2).flatten;t.name="hypot",t.factory=function(e,t,r,n){var o=r(p(23)),a=r(p(20)),s=r(p(12)),u=r(p(21)),c=r(p(38)),f=r(p(44)),l=r(p(65)),i=n("hypot",{"... number | BigNumber":function(e){for(var t=0,r=0,n=0;n<e.length;n++){var i=o(e[n]);f(r,i)?(t=u(t,u(s(r,i),s(r,i))),t=a(t,1),r=i):t=a(t,l(i)?u(s(i,r),s(i,r)):i)}return u(r,c(t))},Array:function(e){return i.apply(i,m(e))},Matrix:function(e){return i.apply(i,m(e.toArray()))}});return i.toTex="\\hypot\\left(${args}\\right)",i}},function(e,t,l){"use strict";var n=l(3).isInteger;function p(e,t){if(!n(e)||!n(t))throw new Error("Parameters in function gcd must be integer numbers");for(var r=void 0;0!==t;)r=e%t,e=t,t=r;return e<0?-e:e}t.name="gcd",t.factory=function(i,e,t,r){var n=t(l(1)),o=t(l(35)),a=t(l(89)),s=t(l(45)),u=t(l(7)),c=t(l(6)),f=r("gcd",{"number, number":p,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var r=new i.BigNumber(0);!t.isZero();){var n=e.mod(t);e=t,t=n}return e.lt(r)?e.neg():e},"Fraction, Fraction":function(e,t){return e.gcd(t)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,f)},"Array, Array":function(e,t){return f(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return f(n(e),t)},"Matrix, Array":function(e,t){return f(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return s(e,t,f,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,f,!1)},"number | BigNumber, SparseMatrix":function(e,t){return s(t,e,f,!0)},"number | BigNumber, DenseMatrix":function(e,t){return c(t,e,f,!0)},"Array, number | BigNumber":function(e,t){return c(n(e),t,f,!1).valueOf()},"number | BigNumber, Array":function(e,t){return c(n(t),e,f,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,r){for(var n=f(e,t),i=0;i<r.length;i++)n=f(n,r[i]);return n}});return f.toTex="\\gcd\\left(${args}\\right)",f}},function(e,t,r){"use strict";var o=r(0);t.name="floor",t.factory=function(e,t,r,n){var i=n("floor",{number:Math.floor,Complex:function(e){return e.floor()},BigNumber:function(e){return e.floor()},Fraction:function(e){return e.floor()},"Array | Matrix":function(e){return o(e,i,!0)}});return i.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},i}},function(e,t,a){"use strict";var s=a(0);t.name="expm1",t.factory=function(r,e,t,n){var i=a(4),o=n("expm1",{number:Math.expm1||function(e){return 2e-4<=e||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6},Complex:function(e){var t=Math.exp(e.re);return new r.Complex(t*Math.cos(e.im)-1,t*Math.sin(e.im))},BigNumber:function(e){return e.exp().minus(1)},"Array | Matrix":function(e){return s(e,o)}});return o.toTex="\\left(e"+i.operators.pow+"{${args[0]}}-1\\right)",o}},function(e,t,r){"use strict";var o=r(0);t.name="exp",t.factory=function(e,t,r,n){var i=n("exp",{number:Math.exp,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\exp\\left(${args[0]}\\right)"},i}},function(e,t,h){"use strict";t.name="dotPow",t.factory=function(e,t,r,n){var i=r(h(1)),o=r(h(43)),a=h(4),s=r(h(19)),u=r(h(28)),c=r(h(17)),f=r(h(18)),l=r(h(7)),p=r(h(6)),m=n("dotPow",{"any, any":o,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,o,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,o,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,o,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,o)},"Array, Array":function(e,t){return m(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return m(i(e),t)},"Matrix, Array":function(e,t){return m(e,i(t))},"SparseMatrix, any":function(e,t){return c(e,t,m,!1)},"DenseMatrix, any":function(e,t){return p(e,t,m,!1)},"any, SparseMatrix":function(e,t){return f(t,e,m,!0)},"any, DenseMatrix":function(e,t){return p(t,e,m,!0)},"Array, any":function(e,t){return p(i(e),t,m,!1).valueOf()},"any, Array":function(e,t){return p(i(t),e,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+a.operators.dotPow+"${args[1]}\\right)"},m}},function(e,t,m){"use strict";t.name="dotMultiply",t.factory=function(e,t,r,n){var i=r(m(1)),o=r(m(21)),a=m(4),s=r(m(25)),u=r(m(112)),c=r(m(17)),f=r(m(7)),l=r(m(6)),p=n("dotMultiply",{"any, any":o,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,o,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,o,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,o,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,o)},"Array, Array":function(e,t){return p(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return p(i(e),t)},"Matrix, Array":function(e,t){return p(e,i(t))},"SparseMatrix, any":function(e,t){return c(e,t,o,!1)},"DenseMatrix, any":function(e,t){return l(e,t,o,!1)},"any, SparseMatrix":function(e,t){return c(t,e,o,!0)},"any, DenseMatrix":function(e,t){return l(t,e,o,!0)},"Array, any":function(e,t){return l(i(e),t,o,!1).valueOf()},"any, Array":function(e,t){return l(i(t),e,o,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+a.operators.dotMultiply+"${args[1]}\\right)"},p}},function(e,t,r){"use strict";var o=r(0);t.name="cube",t.factory=function(e,t,r,n){var i=n("cube",{number:function(e){return e*e*e},Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},"Array | Matrix":function(e){return o(e,i,!0)},Unit:function(e){return e.pow(3)}});return i.toTex={1:"\\left(${args[0]}\\right)^3"},i}},function(e,t,r){"use strict";var o=r(0);t.name="ceil",t.factory=function(e,t,r,n){var i=n("ceil",{number:Math.ceil,Complex:function(e){return e.ceil()},BigNumber:function(e){return e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(e){return o(e,i,!0)}});return i.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},i}},function(e,t,n){"use strict";var i=n(0);var l=Math.cbrt||function(e){if(0===e)return e;var t=e<0,r=void 0;return t&&(e=-e),r=isFinite(e)?(e/((r=Math.exp(Math.log(e)/3))*r)+2*r)/3:e,t?-r:r};t.name="cbrt",t.factory=function(a,s,e,t){var o=e(n(33)),u=e(n(53)),c=e(n(1)),r=t("cbrt",{number:l,Complex:f,"Complex, boolean":f,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&a.isComplex(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=f(e.value),t}var r=u(e.value);r&&(e.value=o(e.value));var n=void 0;n=a.isBigNumber(e.value)?new a.BigNumber(1).div(3):a.isFraction(e.value)?new a.Fraction(1,3):1/3;var i=e.pow(n);return r&&(i.value=o(i.value)),i},"Array | Matrix":function(e){return i(e,r,!0)}});function f(e,t){var r=e.arg()/3,n=e.abs(),i=new a.Complex(l(n),0).mul(new a.Complex(0,r).exp());if(t){var o=[i,new a.Complex(l(n),0).mul(new a.Complex(0,r+2*Math.PI/3).exp()),new a.Complex(l(n),0).mul(new a.Complex(0,r-2*Math.PI/3).exp())];return"Array"===s.matrix?o:c(o)}return i}return r.toTex={1:"\\sqrt[3]{${args[0]}}"},r}},function(e,t,r){"use strict";e.exports=[r(23),r(15),r(20),r(504),r(503),r(502),r(39),r(113),r(501),r(500),r(499),r(498),r(142),r(497),r(496),r(495),r(494),r(82),r(492),r(491),r(490),r(489),r(8),r(488),r(487),r(486),r(43),r(141),r(121),r(38),r(485),r(14),r(33),r(484),r(483)]},function(e,t,r){"use strict";t.name="csIpvec",t.path="algebra.sparse",t.factory=function(){return function(e,t){var r=void 0,n=t.length,i=[];if(e)for(r=0;r<n;r++)i[e[r]]=t[r];else for(r=0;r<n;r++)i[r]=t[r];return i}}},function(e,t,h){"use strict";var d=Array.isArray;t.name="lusolve",t.factory=function(t,e,r,n){var i=r(h(1)),o=r(h(85)),a=r(h(120)),s=r(h(506)),u=r(h(83)),c=r(h(114)),f=r(h(115)),l=n("lusolve",{"Array, Array | Matrix":function(e,t){e=i(e);var r=o(e);return m(r.L,r.U,r.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var r=o(e);return m(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var r=o(e);return m(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,r,n){var i=a(e,r,n);return m(i.L,i.U,i.p,i.q,t)},"Object, Array | Matrix":function(e,t){return m(e.L,e.U,e.p,e.q,t)}}),p=function(e){if(t.isMatrix(e))return e;if(d(e))return i(e);throw new TypeError("Invalid Matrix LU decomposition")};function m(e,t,r,n,i){e=p(e),t=p(t),i=u(e,i,!1),r&&(i._data=s(r,i._data));var o=f(e,i),a=c(t,o);return n&&(a._data=s(n,a._data)),a}return l}},function(e,t,i){"use strict";t.name="csUnflip",t.path="algebra.sparse",t.factory=function(e,t,r){var n=r(i(84));return function(e){return e<0?n(e):e}}},function(e,t,n){"use strict";t.name="csDfs",t.path="algebra.sparse",t.factory=function(e,t,r){var h=r(n(117)),d=r(n(116)),v=r(n(508));return function(e,t,r,n,i){var o=t._index,a=t._ptr,s=t._size[1],u=void 0,c=void 0,f=void 0,l=0;for(n[0]=e;0<=l;){e=n[l];var p=i?i[e]:e;h(a,e)||(d(a,e),n[s+l]=p<0?0:v(a[p]));var m=1;for(c=n[s+l],f=p<0?0:v(a[p+1]);c<f;c++)if(u=o[c],!h(a,u)){n[s+l]=c,n[++l]=u,m=0;break}m&&(l--,n[--r]=e)}return r}}},function(e,t,n){"use strict";t.name="csReach",t.path="algebra.sparse",t.factory=function(e,t,r){var d=r(n(509)),v=r(n(117)),y=r(n(116));return function(e,t,r,n,i){var o,a,s=e._ptr,u=e._size,c=t._index,f=t._ptr,l=u[1],p=void 0,m=l;for(o=f[r],a=f[r+1],p=o;p<a;p++){var h=c[p];v(s,h)||(m=d(h,e,m,n,i))}for(p=m;p<l;p++)y(s,n[p]);return m}}},function(e,t,n){"use strict";t.name="csSpsolve",t.path="algebra.sparse",t.factory=function(e,t,r){var M=r(n(12)),E=r(n(8)),A=r(n(14)),S=r(n(510));return function(e,t,r,n,i,o,a){var s=e._values,u=e._index,c=e._ptr,f=e._size[1],l=t._values,p=t._index,m=t._ptr,h=void 0,d=void 0,v=void 0,y=void 0,g=S(e,t,r,n,o);for(h=g;h<f;h++)i[n[h]]=0;for(d=m[r],v=m[r+1],h=d;h<v;h++)i[p[h]]=l[h];for(var x=g;x<f;x++){var b=n[x],w=o?o[b]:b;if(!(w<0))for(d=c[w],v=c[w+1],i[b]=M(i[b],s[a?d:v-1]),h=a?d+1:d,y=a?v:v-1;h<y;h++){var N=u[h];i[N]=A(i[N],E(s[h],i[b]))}}return g}}},function(e,t,n){"use strict";t.name="csLu",t.path="algebra.sparse",t.factory=function(e,t,r){var O=r(n(23)),T=r(n(12)),_=r(n(8)),C=r(n(34)),z=r(n(118)),B=r(n(511)),I=e.SparseMatrix;return function(e,t,r){if(!e)return null;var n=e._size[1],i=void 0,o=100,a=100;t&&(i=t.q,o=t.lnz||o,a=t.unz||a);var s=[],u=[],c=[],f=new I({values:s,index:u,ptr:c,size:[n,n]}),l=[],p=[],m=[],h=new I({values:l,index:p,ptr:m,size:[n,n]}),d=[],v=void 0,y=void 0,g=[],x=[];for(v=0;v<n;v++)g[v]=0,d[v]=-1,c[v+1]=0;for(var b=a=o=0;b<n;b++){c[b]=o,m[b]=a;var w=i?i[b]:b,N=B(f,e,w,x,g,d,1),M=-1,E=-1;for(y=N;y<n;y++)if(d[v=x[y]]<0){var A=O(g[v]);C(A,E)&&(E=A,M=v)}else p[a]=d[v],l[a++]=g[v];if(-1===M||E<=0)return null;d[w]<0&&z(O(g[w]),_(E,r))&&(M=w);var S=g[M];for(p[a]=b,l[a++]=S,d[M]=b,u[o]=M,s[o++]=1,y=N;y<n;y++)d[v=x[y]]<0&&(u[o]=v,s[o++]=T(g[v],S)),g[v]=0}for(c[n]=o,m[n]=a,y=0;y<o;y++)u[y]=d[u[y]];return s.splice(o,s.length-o),u.splice(o,u.length-o),l.splice(a,l.length-a),p.splice(a,p.length-a),{L:f,U:h,pinv:d}}}},function(e,t,r){"use strict";t.name="csLeaf",t.path="algebra.sparse",t.factory=function(){return function(e,t,r,n,i,o,a){var s,u=void 0,c=void 0,f=0,l=void 0;if(e<=t||r[n+t]<=r[i+e])return-1;if(r[i+e]=r[n+t],s=r[o+e],r[o+e]=t,-1===s)f=1,l=e;else{for(f=2,l=s;l!==r[a+l];l=r[a+l]);for(u=s;u!==l;u=c)c=r[a+u],r[a+u]=l}return{jleaf:f,q:l}}}},function(e,t,n){"use strict";t.name="csCounts",t.path="algebra.sparse",t.factory=function(e,t,r){var S=r(n(66)),O=r(n(513));return function(e,t,r,n){if(!e||!t||!r)return null;var i=e._size,o=i[0],a=i[1],s=void 0,u=void 0,c=void 0,f=void 0,l=void 0,p=void 0,m=void 0,h=4*a+(n?a+o+1:0),d=[],v=a,y=2*a,g=3*a,x=4*a,b=5*a+1;for(c=0;c<h;c++)d[c]=-1;var w=[],N=S(e),M=N._index,E=N._ptr;for(c=0;c<a;c++)for(w[u=r[c]]=-1===d[g+u]?1:0;-1!==u&&-1===d[g+u];u=t[u])d[g+u]=c;if(n){for(c=0;c<a;c++)d[r[c]]=c;for(s=0;s<o;s++){for(c=a,p=E[s],m=E[s+1],l=p;l<m;l++)c=Math.min(c,d[M[l]]);d[b+s]=d[x+c],d[x+c]=s}}for(s=0;s<a;s++)d[0+s]=s;for(c=0;c<a;c++){for(-1!==t[u=r[c]]&&w[t[u]]--,f=n?d[x+c]:u;-1!==f;f=n?d[b+f]:-1)for(l=E[f];l<E[f+1];l++){s=M[l];var A=O(s,u,d,g,v,y,0);1<=A.jleaf&&w[u]++,2===A.jleaf&&w[A.q]--}-1!==t[u]&&(d[0+u]=t[u])}for(u=0;u<a;u++)-1!==t[u]&&(w[t[u]]+=w[u]);return w}}},function(e,t,n){"use strict";t.name="csPost",t.path="algebra.sparse",t.factory=function(e,t,r){var u=r(n(119));return function(e,t){if(!e)return null;var r=0,n=void 0,i=[],o=[],a=t,s=2*t;for(n=0;n<t;n++)o[0+n]=-1;for(n=t-1;0<=n;n--)-1!==e[n]&&(o[a+n]=o[0+e[n]],o[0+e[n]]=n);for(n=0;n<t;n++)-1===e[n]&&(r=u(n,r,o,0,a,i,s));return i}}},function(e,t,r){"use strict";t.name="csEtree",t.path="algebra.sparse",t.factory=function(){return function(e,t){if(!e)return null;var r=e._index,n=e._ptr,i=e._size,o=i[0],a=i[1],s=[],u=[],c=a,f=void 0,l=void 0;if(t)for(f=0;f<o;f++)u[c+f]=-1;for(var p=0;p<a;p++){s[p]=-1,u[0+p]=-1;for(var m=n[p],h=n[p+1],d=m;d<h;d++){var v=r[d];for(f=t?u[c+v]:v;-1!==f&&f<p;f=l)l=u[0+f],u[0+f]=p,-1===l&&(s[f]=p);t&&(u[c+v]=p)}}return s}}},function(e,t,r){"use strict";t.name="csPermute",t.path="algebra.sparse",t.factory=function(e){var w=e.SparseMatrix;return function(e,t,r,n){for(var i=e._values,o=e._index,a=e._ptr,s=e._size,u=e._datatype,c=s[0],f=s[1],l=n&&e._values?[]:null,p=[],m=[],h=0,d=0;d<f;d++){m[d]=h;for(var v=r?r[d]:d,y=a[v],g=a[v+1],x=y;x<g;x++){var b=t?t[o[x]]:o[x];p[h]=b,l&&(l[h]=i[x]),h++}}return m[f]=h,new w({values:l,index:p,ptr:m,size:[c,f],datatype:u})}}},function(e,t,r){"use strict";t.name="csFkeep",t.path="algebra.sparse",t.factory=function(){return function(e,t,r){for(var n=e._values,i=e._index,o=e._ptr,a=e._size[1],s=0,u=0;u<a;u++){var c=o[u];for(o[u]=s;c<o[u+1];c++)t(i[c],u,n?n[c]:1,r)&&(i[s]=i[c],n&&(n[s]=n[c]),s++)}return o[a]=s,i.splice(s,i.length-s),n&&n.splice(s,n.length-s),s}}},function(e,t,n){"use strict";t.name="csAmd",t.path="algebra.sparse",t.factory=function(e,t,r){var K=r(n(84)),ee=r(n(518)),te=r(n(119)),re=r(n(15)),ne=r(n(8)),ie=r(n(66));function oe(e,t,r,n,i){if(e<2||e+t<0){for(var o=0;o<i;o++)0!==r[n+o]&&(r[n+o]=1);e=2}return e}function ae(e,t){return e!==t}return function(e,t){if(!t||e<=0||3<e)return null;var r=t._size,n=r[0],i=r[1],o=0,a=Math.max(16,10*Math.sqrt(i)),s=function(e,t,r,n,i){var o=ie(t);if(1===e&&n===r)return re(t,o);if(2===e){for(var a=o._index,s=o._ptr,u=0,c=0;c<r;c++){var f=s[c];if(s[c]=u,!(s[c+1]-f>i))for(var l=s[c+1];f<l;f++)a[u++]=a[f]}return s[r]=u,t=ie(o),ne(o,t)}return ne(o,t)}(e,t,n,i,a=Math.min(i-2,a));ee(s,ae,null);for(var u=s._index,c=s._ptr,f=c[i],l=[],p=[],m=i+1,h=2*(i+1),d=3*(i+1),v=4*(i+1),y=5*(i+1),g=6*(i+1),x=7*(i+1),b=l,w=function(e,t,r,n,i,o,a,s,u,c,f,l){for(var p=0;p<e;p++)r[n+p]=t[p+1]-t[p];for(var m=r[n+e]=0;m<=e;m++)r[i+m]=-1,o[m]=-1,r[a+m]=-1,r[s+m]=-1,r[u+m]=1,r[c+m]=1,r[f+m]=0,r[l+m]=r[n+m];var h=oe(0,0,r,c,e);return r[f+e]=-2,t[e]=-1,r[c+e]=0,h}(i,c,p,0,d,b,h,x,m,g,v,y),N=function(e,t,r,n,i,o,a,s,u,c,f){for(var l=0,p=0;p<e;p++){var m=r[n+p];if(0===m)r[i+p]=-2,l++,t[p]=-1,r[o+p]=0;else if(a<m)r[s+p]=0,r[i+p]=-1,l++,t[p]=K(e),r[s+e]++;else{var h=r[u+m];-1!==h&&(c[h]=p),r[f+p]=r[u+m],r[u+m]=p}}return l}(i,c,p,y,v,g,a,m,d,b,h),M=0,E=void 0,A=void 0,S=void 0,O=void 0,T=void 0,_=void 0,C=void 0,z=void 0,B=void 0,I=void 0,k=void 0,P=void 0,R=void 0,U=void 0,q=void 0,D=void 0;N<i;){for(S=-1;M<i&&-1===(S=p[d+M]);M++);-1!==p[h+S]&&(b[p[h+S]]=-1),p[d+M]=p[h+S];var L=p[v+S],F=p[m+S];N+=F;var j=0;p[m+S]=-F;var $=c[S],H=0===L?$:f,G=H;for(O=1;O<=L+1;O++){for(L<O?(C=$,z=p[0+(_=S)]-L):(C=c[_=u[$++]],z=p[0+_]),T=1;T<=z;T++)(B=p[m+(E=u[C++])])<=0||(j+=B,p[m+E]=-B,-1!==p[h+(u[G++]=E)]&&(b[p[h+E]]=b[E]),-1!==b[E]?p[h+b[E]]=p[h+E]:p[d+p[y+E]]=p[h+E]);_!==S&&(c[_]=K(S),p[g+_]=0)}for(0!==L&&(f=G),p[y+S]=j,c[S]=H,p[0+S]=G-H,p[v+S]=-2,w=oe(w,o,p,g,i),I=H;I<G;I++)if(!((k=p[v+(E=u[I])])<=0)){var Z=w-(B=-p[m+E]);for($=c[E],P=c[E]+k-1;$<=P;$++)p[g+(_=u[$])]>=w?p[g+_]-=B:0!==p[g+_]&&(p[g+_]=p[y+_]+Z)}for(I=H;I<G;I++){for(R=(P=c[E=u[I]])+p[v+E]-1,D=q=0,$=U=P;$<=R;$++)if(0!==p[g+(_=u[$])]){var V=p[g+_]-w;0<V?(D+=V,q+=u[U++]=_):(c[_]=K(S),p[g+_]=0)}p[v+E]=U-P+1;var W=U,J=P+p[0+E];for($=R+1;$<J;$++){var Y=p[m+(A=u[$])];Y<=0||(D+=Y,q+=u[U++]=A)}0===D?(c[E]=K(S),j-=B=-p[m+E],F+=B,N+=B,p[m+E]=0,p[v+E]=-1):(p[y+E]=Math.min(p[y+E],D),u[U]=u[W],u[W]=u[P],u[P]=S,p[0+E]=U-P+1,q=(q<0?-q:q)%i,p[h+E]=p[x+q],b[p[x+q]=E]=q)}for(p[y+S]=j,w=oe(w+(o=Math.max(o,j)),o,p,g,i),I=H;I<G;I++)if(!(0<=p[m+(E=u[I])]))for(E=p[x+(q=b[E])],p[x+q]=-1;-1!==E&&-1!==p[h+E];E=p[h+E],w++){for(z=p[0+E],k=p[v+E],$=c[E]+1;$<=c[E]+z-1;$++)p[g+u[$]]=w;var X=E;for(A=p[h+E];-1!==A;){var Q=p[0+A]===z&&p[v+A]===k;for($=c[A]+1;Q&&$<=c[A]+z-1;$++)p[g+u[$]]!==w&&(Q=0);Q?(c[A]=K(E),p[m+E]+=p[m+A],p[m+A]=0,p[v+A]=-1,A=p[h+A],p[h+X]=A):A=p[h+(X=A)]}}for(I=$=H;I<G;I++)(B=-p[m+(E=u[I])])<=0||(p[m+E]=B,D=p[y+E]+j-B,-1!==p[d+(D=Math.min(D,i-N-B))]&&(b[p[d+D]]=E),p[h+E]=p[d+D],b[E]=-1,p[d+D]=E,M=Math.min(M,D),p[y+E]=D,u[$++]=E);p[m+S]=F,0==(p[0+S]=$-H)&&(c[S]=-1,p[g+S]=0),0!==L&&(f=$)}for(E=0;E<i;E++)c[E]=K(c[E]);for(A=0;A<=i;A++)p[d+A]=-1;for(A=i;0<=A;A--)0<p[m+A]||(p[h+A]=p[d+c[A]],p[d+c[A]]=A);for(_=i;0<=_;_--)p[m+_]<=0||-1!==c[_]&&(p[h+_]=p[d+c[_]],p[d+c[_]]=_);for(E=S=0;E<=i;E++)-1===c[E]&&(S=te(E,S,p,d,h,l,g));return l.splice(l.length-1,1),l}}},function(e,t,n){"use strict";t.name="csSqr",t.path="algebra.sparse",t.factory=function(e,t,r){var c=r(n(519)),f=r(n(517)),l=r(n(516)),p=r(n(515)),m=r(n(514));return function(e,t,r){var n=t._ptr,i=t._size[1],o=void 0,a={};if(a.q=c(e,t),e&&!a.q)return null;if(r){var s=e?f(t,null,a.q,0):t;a.parent=l(s,1);var u=p(a.parent,i);if(a.cp=m(s,a.parent,u,1),s&&a.parent&&a.cp&&function(e,t){var r=e._ptr,n=e._index,i=e._size,o=i[0],a=i[1];t.pinv=[],t.leftmost=[];var s=t.parent,u=t.pinv,c=t.leftmost,f=[],l=o,p=o+a,m=o+2*a,h=void 0,d=void 0,v=void 0,y=void 0,g=void 0;for(d=0;d<a;d++)f[l+d]=-1,f[p+d]=-1,f[m+d]=0;for(h=0;h<o;h++)c[h]=-1;for(d=a-1;0<=d;d--)for(y=r[d],g=r[d+1],v=y;v<g;v++)c[n[v]]=d;for(h=o-1;0<=h;h--)(u[h]=-1)!==(d=c[h])&&(0==f[m+d]++&&(f[p+d]=h),f[0+h]=f[l+d],f[l+d]=h);for(t.lnz=0,t.m2=o,d=0;d<a;d++)if(h=f[l+d],t.lnz++,h<0&&(h=t.m2++),u[h]=d,!(--m[d]<=0)){t.lnz+=f[m+d];var x=s[d];-1!==x&&(0===f[m+x]&&(f[p+x]=f[p+d]),f[0+f[p+d]]=f[l+x],f[l+x]=f[0+h],f[m+x]+=f[m+d])}for(h=0;h<o;h++)u[h]<0&&(u[h]=d++);return!0}(s,a))for(o=a.unz=0;o<i;o++)a.unz+=a.cp[o]}else a.unz=4*n[i]+i,a.lnz=a.unz;return a}}},function(e,t,a){"use strict";t.name="qr",t.factory=function(e,t,r,n){var i=r(a(1)),x=r(a(42)),b=r(a(51)),w=r(a(54)),N=r(a(122)),M=r(a(121)),E=r(a(38)),A=r(a(67)),S=r(a(33)),O=r(a(20)),T=r(a(12)),_=r(a(21)),C=r(a(14));function o(e){var t=e._size[0],r=e._size[1],n=b([t],"dense"),i=n._data,o=e.clone(),a=o._data,s=void 0,u=void 0,c=void 0,f=x([t],"");for(c=0;c<Math.min(r,t);++c){var l=a[c][c],p=S(M(l)),m=A(p),h=0;for(s=c;s<t;s++)h=O(h,_(a[s][c],A(a[s][c])));var d=_(p,E(h));if(!w(d)){var v=C(l,d);for(s=c+(f[c]=1);s<t;s++)f[s]=T(a[s][c],v);var y=S(A(T(v,d))),g=void 0;for(u=c;u<r;u++){for(g=0,s=c;s<t;s++)g=O(g,_(A(f[s]),a[s][u]));for(g=_(g,y),s=c;s<t;s++)a[s][u]=_(C(a[s][u],_(f[s],g)),m)}for(s=0;s<t;s++){for(g=0,u=c;u<t;u++)g=O(g,_(i[s][u],f[u]));for(g=_(g,y),u=c;u<t;++u)i[s][u]=T(C(i[s][u],_(g,A(f[u]))),m)}}}for(s=0;s<t;++s)for(u=0;u<s&&u<r;++u){if(N(0,T(a[s][u],1e5)))throw new Error("math.qr(): unknown error - R is not lower triangular (element ("+s+", "+u+")  = "+a[s][u]+")");a[s][u]=_(a[s][u],0)}return{Q:n,R:o,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}return n("qr",{DenseMatrix:function(e){return o(e)},SparseMatrix:function(e){return function(e){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(e){var t=o(i(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}})}},function(e,t,a){"use strict";t.name="rationalize",t.factory=function(e,t,r,n){var h=r(a(86)),d=r(a(125)),v=r(a(127)),i=r(a(123)),y=a(3),g=r(a(56)),x=r(a(55)),p=r(a(49)),o=n("rationalize",{string:function(e){return o(i(e),{},!1)},"string, boolean":function(e,t){return o(i(e),{},t)},"string, Object":function(e,t){return o(i(e),t,!1)},"string, Object, boolean":function(e,t,r){return o(i(e),t,r)},Node:function(e){return o(e,{},!1)},"Node, boolean":function(e,t){return o(e,{},t)},"Node, Object":function(e,t){return o(e,t,!1)},"Node, Object, boolean":function(e,t,r){var n,i,o,a,s=function(e,t,r){var a=[],n=h(e,t),s="+-*"+((r=!!r)?"/":"");!function e(t){var r=t.type;if("FunctionNode"===r)throw new Error("There is an unsolved function call");if("OperatorNode"===r)if("^"===t.op&&t.isBinary())if("-"===t.args[1].op&&t.args[1].isUnary()){if("ConstantNode"!==t.args[1].args[0].type||!y.isInteger(parseFloat(t.args[1].args[0].value)))throw new Error("There is a non-integer exponent");e(t.args[0])}else{if("ConstantNode"!==t.args[1].type||!y.isInteger(parseFloat(t.args[1].value)))throw new Error("There is a non-integer exponent");e(t.args[0])}else{if(-1===s.indexOf(t.op))throw new Error("Operator "+t.op+" invalid in polynomial expression");for(var n=0;n<t.args.length;n++)e(t.args[n])}else if("SymbolNode"===r){var i=t.name,o=a.indexOf(i);-1===o&&a.push(i)}else if("ParenthesisNode"===r)e(t.content);else if("ConstantNode"!==r)throw new Error("type "+r+" is not allowed in polynomial expression")}(n);var i={};return i.expression=n,i.variables=a,i}(e,t,!0),u=s.variables.length;if(e=s.expression,1<=u){var c=((a={}).firstRules=(n=[d,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},v,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n1^-n2",r:"1/n1^n2"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}]).concat(i=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],o=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}]),a.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],a.sucDivRules=o,a.firstRulesAgain=n.concat(i),a.finalRules=[d,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},v,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],a);e=function e(t,r,n){var i=t.type,o=1<arguments.length;if("OperatorNode"===i&&t.isBinary()){var a=!1,s=void 0;if("^"===t.op&&("ParenthesisNode"!==t.args[0].type&&"OperatorNode"!==t.args[0].type||"ConstantNode"!==t.args[1].type||(s=parseFloat(t.args[1].value),a=2<=s&&y.isInteger(s))),a){if(2<s){var u=t.args[0],c=new x("^","pow",[t.args[0].cloneDeep(),new g(s-1)]);t=new x("*","multiply",[u,c])}else t=new x("*","multiply",[t.args[0],t.args[0].cloneDeep()]);o&&("content"===n?r.content=t:r.args[n]=t)}}if("ParenthesisNode"===i)e(t.content,t,"content");else if("ConstantNode"!==i&&"SymbolNode"!==i)for(var f=0;f<t.args.length;f++)e(t.args[f],t,f);if(!o)return t}(e);for(var f=void 0;;){e=h(e,c.firstRules);var l=(e=h(e,c.distrDivRules)).toString();if(l===f)break;f=l}e=h(e,c.firstRulesAgain),e=h(e,c.finalRules)}var p=[],m={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===u&&(e.args[0]=b(e.args[0],p),e.args[1]=b(e.args[1])),r&&(m.numerator=e.args[0],m.denominator=e.args[1])):(1===u&&(e=b(e,p)),r&&(m.numerator=e,m.denominator=null)),r?(m.coefficients=p,m.variables=s.variables,m.expression=e,m):e}});function b(e,u){void 0===u&&(u=[]);var t={cte:1,oper:"+",fire:""},c=u[0]=0,f="";!function e(t,r,n){var i=t.type;if("FunctionNode"===i)throw new Error("There is an unsolved function call");if("OperatorNode"===i){if(-1==="+-*^".indexOf(t.op))throw new Error("Operator "+t.op+" invalid");if(null!==r){if(("unaryMinus"===t.fn||"pow"===t.fn)&&"add"!==r.fn&&"subtract"!==r.fn&&"multiply"!==r.fn)throw new Error("Invalid "+t.op+" placing");if(("subtract"===t.fn||"add"===t.fn||"multiply"===t.fn)&&"add"!==r.fn&&"subtract"!==r.fn)throw new Error("Invalid "+t.op+" placing");if(("subtract"===t.fn||"add"===t.fn||"unaryMinus"===t.fn)&&0!==n.noFil)throw new Error("Invalid "+t.op+" placing")}"^"!==t.op&&"*"!==t.op||(n.fire=t.op);for(var o=0;o<t.args.length;o++)"unaryMinus"===t.fn&&(n.oper="-"),"+"!==t.op&&"subtract"!==t.fn||(n.fire="",n.cte=1,n.oper=0===o?"+":t.op),n.noFil=o,e(t.args[o],t,n)}else if("SymbolNode"===i){if(t.name!==f&&""!==f)throw new Error("There is more than one variable");if(f=t.name,null===r)return void(u[1]=1);if("^"===r.op&&0!==n.noFil)throw new Error("In power the variable should be the first parameter");if("*"===r.op&&1!==n.noFil)throw new Error("In multiply the variable should be the second parameter");""!==n.fire&&"*"!==n.fire||(c<1&&(u[1]=0),u[1]+=n.cte*("+"===n.oper?1:-1),c=Math.max(1,c))}else{if("ConstantNode"!==i)throw new Error("Type "+i+" is not allowed");var a=parseFloat(t.value);if(null===r)return void(u[0]=a);if("^"===r.op){if(1!==n.noFil)throw new Error("Constant cannot be powered");if(!y.isInteger(a)||a<=0)throw new Error("Non-integer exponent is not allowed");for(var s=c+1;s<a;s++)u[s]=0;return c<a&&(u[a]=0),u[a]+=n.cte*("+"===n.oper?1:-1),void(c=Math.max(a,c))}n.cte=a,""===n.fire&&(u[0]+=n.cte*("+"===n.oper?1:-1))}}(e,null,t);for(var r=!0,n=void 0,i=c=u.length-1;0<=i;i--)if(0!==u[i]){var o=new g(r?u[i]:Math.abs(u[i])),a=u[i]<0?"-":"+";if(0<i){var s=new p(f);if(1<i){var l=new g(i);s=new x("^","pow",[s,l])}o=-1===u[i]&&r?new x("-","unaryMinus",[s]):1===Math.abs(u[i])?s:new x("*","multiply",[o,s])}n=r?o:"+"===a?new x("+","add",[n,o]):new x("-","subtract",[n,o]),r=!1}return r?new g(0):n}return o}},function(e,t,r){"use strict";t.math=!0,t.name="resolve",t.path="algebra.simplify",t.factory=function(a,e,t,r,s){var u=s.expression.node.Node,c=s.expression.node.OperatorNode,f=s.expression.node.FunctionNode,l=s.expression.node.ParenthesisNode;return function t(e,r){if(!r)return e;if(a.isSymbolNode(e)){var n=r[e.name];if(n instanceof u)return t(n,r);if("number"==typeof n)return s.parse(String(n))}else{if(a.isOperatorNode(e)){var i=e.args.map(function(e){return t(e,r)});return new c(e.op,e.fn,i,e.implicit)}if(a.isParenthesisNode(e))return new l(t(e.content,r));if(a.isFunctionNode(e)){var o=e.args.map(function(e){return t(e,r)});return new f(e.name,o)}}return e}}},function(e,t,a){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=a(40).transform,c=a(13).setSafeProperty;t.factory=function(e,t,r,n){var i=r(a(22)),o=r(a(1));return function(e,t,r){try{if(Array.isArray(e))return o(e).subset(t,r).valueOf();if(e&&"function"==typeof e.subset)return e.subset(t,r);if("string"==typeof e)return i(e,t,r);if("object"===(void 0===e?"undefined":s(e))){if(!t.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return c(e,t.getObjectProperty(),r),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(e){throw u(e)}}}},function(e,t,b){"use strict";t.name="derivative",t.factory=function(l,r,e,t){var n=e(b(41)),o=e(b(86)),p=e(b(50)),m=e(b(54)),i=e(b(32)),a=e(b(139)),s=e(b(56)),h=e(b(69)),d=e(b(55)),u=e(b(70)),f=e(b(49)),c=t("derivative",{"Node, SymbolNode, Object":function(e,t,r){var n={};y(n,e,t.name);var i=g(e,n);return r.simplify?o(i):i},"Node, SymbolNode":function(e,t){return c(e,t,{simplify:!0})},"string, SymbolNode":function(e,t){return c(n(e),t)},"string, SymbolNode, Object":function(e,t,r){return c(n(e),t,r)},"string, string":function(e,t){return c(n(e),n(t))},"string, string, Object":function(e,t,r){return c(n(e),n(t),r)},"Node, string":function(e,t){return c(e,n(t))},"Node, string, Object":function(e,t,r){return c(e,n(t),r)}});c._simplify=!0,c.toTex=function(e){return v.apply(null,e.args)};var v=t("_derivTex",{"Node, SymbolNode":function(e,t){return l.isConstantNode(e)&&"string"===i(e.value)?v(n(e.value).toString(),t.toString(),1):v(e.toString(),t.toString(),1)},"Node, ConstantNode":function(e,t){if("string"===i(t.value))return v(e,n(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,t,r){return v(e.toString(),t.name,r.value)},"string, string, number":function(e,t,r){return(1===r?"{d\\over d"+t+"}":"{d^{"+r+"}\\over d"+t+"^{"+r+"}}")+"\\left["+e+"\\right]"}}),y=t("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0},"Object, SymbolNode, string":function(e,t,r){return t.name!==r&&(e[t]=!0)},"Object, ParenthesisNode, string":function(e,t,r){return y(e,t.content,r)},"Object, FunctionAssignmentNode, string":function(e,t,r){return-1===t.params.indexOf(r)?e[t]=!0:y(e,t.expr,r)},"Object, FunctionNode | OperatorNode, string":function(e,t,r){if(0<t.args.length){for(var n=y(e,t.args[0],r),i=1;i<t.args.length;++i)n=y(e,t.args[i],r)&&n;if(n)return e[t]=!0}return!1}}),g=t("_derivative",{"ConstantNode, Object":function(e){return x(0)},"SymbolNode, Object":function(e,t){return void 0!==t[e]?x(0):x(1)},"ParenthesisNode, Object":function(e,t){return new u(g(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?x(0):g(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!==e.args.length&&function(e){if("log"!==e.name&&"nthRoot"!==e.name||2!==e.args.length){for(var t=0;t<e.args.length;++t)e.args[t]=x(0);throw e.compile().eval(),new Error("Expected TypeError, but none found")}}(e),void 0!==t[e])return x(0);var r=e.args[0],n=void 0,i=!1,o=!1,a=void 0;switch(e.name){case"cbrt":i=!0,a=new d("*","multiply",[x(3),new d("^","pow",[r,new d("/","divide",[x(2),x(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)i=!0,a=new d("*","multiply",[x(2),new h("sqrt",[r])]);else if(2===e.args.length)return t[n=new d("/","divide",[x(1),e.args[1]])]=t[e.args[1]],g(new d("^","pow",[r,n]),t);break;case"log10":n=x(10);case"log":if(n||1!==e.args.length){if(1===e.args.length&&n||2===e.args.length&&void 0!==t[e.args[1]])a=new d("*","multiply",[r.clone(),new h("log",[n||e.args[1]])]),i=!0;else if(2===e.args.length)return g(new d("/","divide",[new h("log",[r]),new h("log",[e.args[1]])]),t)}else a=r.clone(),i=!0;break;case"exp":a=new h("exp",[r.clone()]);break;case"sin":a=new h("cos",[r.clone()]);break;case"cos":a=new d("-","unaryMinus",[new h("sin",[r.clone()])]);break;case"tan":a=new d("^","pow",[new h("sec",[r.clone()]),x(2)]);break;case"sec":a=new d("*","multiply",[e,new h("tan",[r.clone()])]);break;case"csc":o=!0,a=new d("*","multiply",[e,new h("cot",[r.clone()])]);break;case"cot":o=!0,a=new d("^","pow",[new h("csc",[r.clone()]),x(2)]);break;case"asin":i=!0,a=new h("sqrt",[new d("-","subtract",[x(1),new d("^","pow",[r.clone(),x(2)])])]);break;case"acos":o=i=!0,a=new h("sqrt",[new d("-","subtract",[x(1),new d("^","pow",[r.clone(),x(2)])])]);break;case"atan":i=!0,a=new d("+","add",[new d("^","pow",[r.clone(),x(2)]),x(1)]);break;case"asec":i=!0,a=new d("*","multiply",[new h("abs",[r.clone()]),new h("sqrt",[new d("-","subtract",[new d("^","pow",[r.clone(),x(2)]),x(1)])])]);break;case"acsc":o=i=!0,a=new d("*","multiply",[new h("abs",[r.clone()]),new h("sqrt",[new d("-","subtract",[new d("^","pow",[r.clone(),x(2)]),x(1)])])]);break;case"acot":o=i=!0,a=new d("+","add",[new d("^","pow",[r.clone(),x(2)]),x(1)]);break;case"sinh":a=new h("cosh",[r.clone()]);break;case"cosh":a=new h("sinh",[r.clone()]);break;case"tanh":a=new d("^","pow",[new h("sech",[r.clone()]),x(2)]);break;case"sech":o=!0,a=new d("*","multiply",[e,new h("tanh",[r.clone()])]);break;case"csch":o=!0,a=new d("*","multiply",[e,new h("coth",[r.clone()])]);break;case"coth":o=!0,a=new d("^","pow",[new h("csch",[r.clone()]),x(2)]);break;case"asinh":i=!0,a=new h("sqrt",[new d("+","add",[new d("^","pow",[r.clone(),x(2)]),x(1)])]);break;case"acosh":i=!0,a=new h("sqrt",[new d("-","subtract",[new d("^","pow",[r.clone(),x(2)]),x(1)])]);break;case"atanh":i=!0,a=new d("-","subtract",[x(1),new d("^","pow",[r.clone(),x(2)])]);break;case"asech":o=i=!0,a=new d("*","multiply",[r.clone(),new h("sqrt",[new d("-","subtract",[x(1),new d("^","pow",[r.clone(),x(2)])])])]);break;case"acsch":o=i=!0,a=new d("*","multiply",[new h("abs",[r.clone()]),new h("sqrt",[new d("+","add",[new d("^","pow",[r.clone(),x(2)]),x(1)])])]);break;case"acoth":o=i=!0,a=new d("-","subtract",[x(1),new d("^","pow",[r.clone(),x(2)])]);break;case"abs":a=new d("/","divide",[new h(new f("abs"),[r.clone()]),r.clone()]);break;case"gamma":default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}var s=void 0,u=void 0;i?(s="/",u="divide"):(s="*",u="multiply");var c=g(r,t);return o&&(c=new d("-","unaryMinus",[c])),new d(s,u,[c,a])},"OperatorNode, Object":function(e,r){if(void 0!==r[e])return x(0);if("+"===e.op)return new d(e.op,e.fn,e.args.map(function(e){return g(e,r)}));if("-"===e.op){if(e.isUnary())return new d(e.op,e.fn,[g(e.args[0],r)]);if(e.isBinary())return new d(e.op,e.fn,[g(e.args[0],r),g(e.args[1],r)])}if("*"===e.op){var t=e.args.filter(function(e){return void 0!==r[e]});if(0<t.length){var n=e.args.filter(function(e){return void 0===r[e]}),i=1===n.length?n[0]:new d("*","multiply",n),o=t.concat(g(i,r));return new d("*","multiply",o)}return new d("+","add",e.args.map(function(t){return new d("*","multiply",e.args.map(function(e){return e===t?g(e,r):e.clone()}))}))}if("/"===e.op&&e.isBinary()){var a=e.args[0],s=e.args[1];return void 0!==r[s]?new d("/","divide",[g(a,r),s]):void 0!==r[a]?new d("*","multiply",[new d("-","unaryMinus",[a]),new d("/","divide",[g(s,r),new d("^","pow",[s.clone(),x(2)])])]):new d("/","divide",[new d("-","subtract",[new d("*","multiply",[g(a,r),s.clone()]),new d("*","multiply",[a.clone(),g(s,r)])]),new d("^","pow",[s.clone(),x(2)])])}if("^"===e.op&&e.isBinary()){var u=e.args[0],c=e.args[1];if(void 0!==r[u])return l.isConstantNode(u)&&(m(u.value)||p(u.value,1))?x(0):new d("*","multiply",[e,new d("*","multiply",[new h("log",[u.clone()]),g(c.clone(),r)])]);if(void 0!==r[c]){if(l.isConstantNode(c)){if(m(c.value))return x(0);if(p(c.value,1))return g(u,r)}var f=new d("^","pow",[u.clone(),new d("-","subtract",[c,x(1)])]);return new d("*","multiply",[c.clone(),new d("*","multiply",[g(u,r),f])])}return new d("*","multiply",[new d("^","pow",[u.clone(),c.clone()]),new d("+","add",[new d("*","multiply",[g(u,r),new d("/","divide",[c.clone(),u.clone()])]),new d("*","multiply",[g(c,r),new h("log",[u.clone()])])])])}throw new Error('Operator "'+e.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function x(e,t){return new s(a(e,t||r.number))}return c}},function(e,t,r){"use strict";e.exports=[r(525),r(86),r(522),r(521),r(85),r(120),r(115),r(507),r(114)]},function(e,t,r){"use strict";e.exports=[r(526),r(505),r(482),r(469),r(465),r(461),r(458),r(454),r(435),r(425),r(421),r(413),r(411),r(405),r(403),r(377),r(375)]},function(e,t,r){"use strict";e.exports="5.0.4"},function(e,t,u){"use strict";var n=u(5),c=u(143);function f(e,t,r){e[t]=r,e.expression.mathWithTransform[t]=r}function l(e,t,r){n.lazy(e,t,r),n.lazy(e.expression.mathWithTransform,t,r)}t.factory=function r(n,i,o,a,s){s.on("config",function(e,t){e.number!==t.number&&r(n,i,o,a,s)}),f(s,"true",!0),f(s,"false",!1),f(s,"null",null),f(s,"uninitialized","Error: Constant uninitialized is removed since v4.0.0. Use null instead"),"BigNumber"===i.number?(f(s,"Infinity",new n.BigNumber(1/0)),f(s,"NaN",new n.BigNumber(NaN)),l(s,"pi",function(){return c.pi(n.BigNumber)}),l(s,"tau",function(){return c.tau(n.BigNumber)}),l(s,"e",function(){return c.e(n.BigNumber)}),l(s,"phi",function(){return c.phi(n.BigNumber)}),l(s,"E",function(){return s.e}),l(s,"LN2",function(){return new n.BigNumber(2).ln()}),l(s,"LN10",function(){return new n.BigNumber(10).ln()}),l(s,"LOG2E",function(){return new n.BigNumber(1).div(new n.BigNumber(2).ln())}),l(s,"LOG10E",function(){return new n.BigNumber(1).div(new n.BigNumber(10).ln())}),l(s,"PI",function(){return s.pi}),l(s,"SQRT1_2",function(){return new n.BigNumber("0.5").sqrt()}),l(s,"SQRT2",function(){return new n.BigNumber(2).sqrt()})):(f(s,"Infinity",1/0),f(s,"NaN",NaN),f(s,"pi",Math.PI),f(s,"tau",2*Math.PI),f(s,"e",Math.E),f(s,"phi",1.618033988749895),f(s,"E",s.e),f(s,"LN2",Math.LN2),f(s,"LN10",Math.LN10),f(s,"LOG2E",Math.LOG2E),f(s,"LOG10E",Math.LOG10E),f(s,"PI",s.pi),f(s,"SQRT1_2",Math.SQRT1_2),f(s,"SQRT2",Math.SQRT2)),n.Complex&&f(s,"i",n.Complex.I),f(s,"version",u(528))},t.lazy=!1,t.math=!0},function(e,t,r){"use strict";var n=r(5).lazy;function a(e,t,r){n(e,t,r),n(e.expression.mathWithTransform,t,r)}t.factory=function(r,e,t,n,i){function o(e){var t=r.Unit.parse(e);return t.fixPrefix=!0,t}a(i,"speedOfLight",function(){return o("299792458 m s^-1")}),a(i,"gravitationConstant",function(){return o("6.6738480e-11 m^3 kg^-1 s^-2")}),a(i,"planckConstant",function(){return o("6.626069311e-34 J s")}),a(i,"reducedPlanckConstant",function(){return o("1.05457172647e-34 J s")}),a(i,"magneticConstant",function(){return o("1.2566370614e-6 N A^-2")}),a(i,"electricConstant",function(){return o("8.854187817e-12 F m^-1")}),a(i,"vacuumImpedance",function(){return o("376.730313461 ohm")}),a(i,"coulomb",function(){return o("8.9875517873681764e9 N m^2 C^-2")}),a(i,"elementaryCharge",function(){return o("1.60217656535e-19 C")}),a(i,"bohrMagneton",function(){return o("9.2740096820e-24 J T^-1")}),a(i,"conductanceQuantum",function(){return o("7.748091734625e-5 S")}),a(i,"inverseConductanceQuantum",function(){return o("12906.403721742 ohm")}),a(i,"magneticFluxQuantum",function(){return o("2.06783375846e-15 Wb")}),a(i,"nuclearMagneton",function(){return o("5.0507835311e-27 J T^-1")}),a(i,"klitzing",function(){return o("25812.807443484 ohm")}),a(i,"bohrRadius",function(){return o("5.291772109217e-11 m")}),a(i,"classicalElectronRadius",function(){return o("2.817940326727e-15 m")}),a(i,"electronMass",function(){return o("9.1093829140e-31 kg")}),a(i,"fermiCoupling",function(){return o("1.1663645e-5 GeV^-2")}),a(i,"fineStructure",function(){return.007297352569824}),a(i,"hartreeEnergy",function(){return o("4.3597443419e-18 J")}),a(i,"protonMass",function(){return o("1.67262177774e-27 kg")}),a(i,"deuteronMass",function(){return o("3.3435830926e-27 kg")}),a(i,"neutronMass",function(){return o("1.6749271613e-27 kg")}),a(i,"quantumOfCirculation",function(){return o("3.636947552024e-4 m^2 s^-1")}),a(i,"rydberg",function(){return o("10973731.56853955 m^-1")}),a(i,"thomsonCrossSection",function(){return o("6.65245873413e-29 m^2")}),a(i,"weakMixingAngle",function(){return.222321}),a(i,"efimovFactor",function(){return 22.7}),a(i,"atomicMass",function(){return o("1.66053892173e-27 kg")}),a(i,"avogadro",function(){return o("6.0221412927e23 mol^-1")}),a(i,"boltzmann",function(){return o("1.380648813e-23 J K^-1")}),a(i,"faraday",function(){return o("96485.336521 C mol^-1")}),a(i,"firstRadiation",function(){return o("3.7417715317e-16 W m^2")}),a(i,"loschmidt",function(){return o("2.686780524e25 m^-3")}),a(i,"gasConstant",function(){return o("8.314462175 J K^-1 mol^-1")}),a(i,"molarPlanckConstant",function(){return o("3.990312717628e-10 J s mol^-1")}),a(i,"molarVolume",function(){return o("2.241396820e-10 m^3 mol^-1")}),a(i,"sackurTetrode",function(){return-1.164870823}),a(i,"secondRadiation",function(){return o("1.438777013e-2 m K")}),a(i,"stefanBoltzmann",function(){return o("5.67037321e-8 W m^-2 K^-4")}),a(i,"wienDisplacement",function(){return o("2.897772126e-3 m K")}),a(i,"molarMass",function(){return o("1e-3 kg mol^-1")}),a(i,"molarMassC12",function(){return o("1.2e-2 kg mol^-1")}),a(i,"gravity",function(){return o("9.80665 m s^-2")}),a(i,"planckLength",function(){return o("1.61619997e-35 m")}),a(i,"planckMass",function(){return o("2.1765113e-8 kg")}),a(i,"planckTime",function(){return o("5.3910632e-44 s")}),a(i,"planckCharge",function(){return o("1.87554595641e-18 C")}),a(i,"planckTemperature",function(){return o("1.41683385e+32 K")})},t.lazy=!1,t.math=!0},function(e,t,r){"use strict";t.name="splitUnit",t.factory=function(e,t,r,n){return n("splitUnit",{"Unit, Array":function(e,t){return e.splitUnit(t)}})}},function(e,t,r){"use strict";t.name="createUnit",t.factory=function(i,e,t,r){return r("createUnit",{"Object, Object":function(e,t){return i.Unit.createUnit(e,t)},Object:function(e){return i.Unit.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,t,r){var n={};return n[e]=t,i.Unit.createUnit(n,r)},"string, Unit | string | Object":function(e,t){var r={};return r[e]=t,i.Unit.createUnit(r,{})},string:function(e){var t={};return t[e]={},i.Unit.createUnit(t,{})}})}},function(e,t,r){"use strict";var o=r(0);t.name="unit",t.factory=function(r,e,t,n){var i=n("unit",{Unit:function(e){return e.clone()},string:function(e){return r.Unit.isValuelessUnit(e)?new r.Unit(null,e):r.Unit.parse(e)},"number | BigNumber | Fraction | Complex, string":function(e,t){return new r.Unit(e,t)},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},i}},function(e,t,Y){"use strict";var X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q=Y(9).endsWith,K=Y(5).clone,ee=Y(143);t.name="Unit",t.path="type",t.factory=function(v,y,e,t,r){var c=e(Y(20)),f=e(Y(14)),l=e(Y(21)),p=e(Y(12)),m=e(Y(43)),h=e(Y(23)),d=e(Y(142)),g=e(Y(141)),x=e(Y(50)),i=e(Y(87)),a=e(Y(140)),b=e(Y(32)),n=e(Y(88)),o=e(Y(91));function E(e,t){if(!(this instanceof E))throw new Error("Constructor must be called with the new operator");if(null!=e&&!i(e)&&!v.isComplex(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==t&&("string"!=typeof t||""===t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==t){var r=E.parse(t);this.units=r.units,this.dimensions=r.dimensions}else{this.units=[{unit:q,prefix:B.NONE,power:0}],this.dimensions=[];for(var n=0;n<P.length;n++)this.dimensions[n]=0}this.value=null!=e?this._normalize(e):null,this.fixPrefix=!1,this.isUnitListSimplified=!0}E.prototype.type="Unit",E.prototype.isUnit=!0;var w=void 0,N=void 0,M=void 0;function A(){for(;" "===M||"\t"===M;)S()}function s(e){return"0"<=e&&e<="9"}function S(){N++,M=w.charAt(N)}function u(e){N=e,M=w.charAt(N)}function O(){var e,t,r="";if(e=N,"+"===M?S():"-"===M&&(r+=M,S()),!("0"<=(t=M)&&t<="9"||"."===t))return u(e),null;if("."===M){if(r+=M,S(),!s(M))return u(e),null}else{for(;s(M);)r+=M,S();"."===M&&(r+=M,S())}for(;s(M);)r+=M,S();if("E"===M||"e"===M){var n="",i=N;if(n+=M,S(),"+"!==M&&"-"!==M||(n+=M,S()),!s(M))return u(i),r;for(r+=n;s(M);)r+=M,S()}return r}function T(){for(var e="",t=w.charCodeAt(N);48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122;)e+=M,S(),t=w.charCodeAt(N);return(65<=(t=e.charCodeAt(0))&&t<=90||97<=t&&t<=122)&&e||null}function _(e){return M===e?(S(),e):null}function C(e){if(D.hasOwnProperty(e)){var t=D[e];return{unit:t,prefix:t.prefixes[""]}}for(var r in D)if(D.hasOwnProperty(r)&&Q(e,r)){var n=D[r],i=e.length-r.length,o=e.substring(0,i),a=n.prefixes.hasOwnProperty(o)?n.prefixes[o]:void 0;if(void 0!==a)return{unit:n,prefix:a}}return null}function z(e){return e.equalBase(R.NONE)&&null!==e.value&&!y.predictable?e.value:e}E.parse=function(e,t){if(t=t||{},N=-1,M="","string"!=typeof(w=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var r=new E,n=1,i=!(r.units=[]);S(),A();var o=O(),a=null;o&&(a="BigNumber"===y.number?new v.BigNumber(o):"Fraction"===y.number?new v.Fraction(o):parseFloat(o),A(),_("*")?(n=1,i=!0):_("/")&&(n=-1,i=!0));for(var s=[],u=1;;){for(A();"("===M;)s.push(n),u*=n,n=1,S(),A();var c=void 0;if(!M)break;var f=M;if(null===(c=T()))throw new SyntaxError('Unexpected "'+f+'" in "'+w+'" at index '+N.toString());var l=C(c);if(null===l)throw new SyntaxError('Unit "'+c+'" not found.');var p=n*u;if(A(),_("^")){A();var m=O();if(null===m)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');p*=m}r.units.push({unit:l.unit,prefix:l.prefix,power:p});for(var h=0;h<P.length;h++)r.dimensions[h]+=(l.unit.dimensions[h]||0)*p;for(A();")"===M;){if(0===s.length)throw new SyntaxError('Unmatched ")" in "'+w+'" at index '+N.toString());u/=s.pop(),S(),A()}if(i=!1,_("*")?(n=1,i=!0):_("/")?(n=-1,i=!0):n=1,l.unit.base){var d=l.unit.base.key;j.auto[d]={unit:l.unit,prefix:l.prefix}}}if(A(),M)throw new SyntaxError('Could not parse: "'+e+'"');if(i)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==s.length)throw new SyntaxError('Unmatched "(" in "'+w+'"');if(0===r.units.length&&!t.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return r.value=void 0!==a?r._normalize(a):null,r},E.prototype.clone=function(){var e=new E;e.fixPrefix=this.fixPrefix,e.isUnitListSimplified=this.isUnitListSimplified,e.value=K(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var r in e.units[t]={},this.units[t])this.units[t].hasOwnProperty(r)&&(e.units[t][r]=this.units[t][r]);return e},E.prototype._isDerived=function(){return 0!==this.units.length&&(1<this.units.length||1e-15<Math.abs(this.units[0].power-1))},E.prototype._normalize=function(e){var t=void 0,r=void 0,n=void 0,i=void 0,o=void 0;if(null==e||0===this.units.length)return e;if(this._isDerived()){var a=e;o=E._getNumberConverter(b(e));for(var s=0;s<this.units.length;s++)t=o(this.units[s].unit.value),i=o(this.units[s].prefix.value),n=o(this.units[s].power),a=l(a,m(l(t,i),n));return a}return t=(o=E._getNumberConverter(b(e)))(this.units[0].unit.value),r=o(this.units[0].unit.offset),i=o(this.units[0].prefix.value),l(c(e,r),l(t,i))},E.prototype._denormalize=function(e,t){var r=void 0,n=void 0,i=void 0,o=void 0,a=void 0;if(null==e||0===this.units.length)return e;if(this._isDerived()){var s=e;a=E._getNumberConverter(b(e));for(var u=0;u<this.units.length;u++)r=a(this.units[u].unit.value),o=a(this.units[u].prefix.value),i=a(this.units[u].power),s=p(s,m(l(r,o),i));return s}return r=(a=E._getNumberConverter(b(e)))(this.units[0].unit.value),o=a(this.units[0].prefix.value),n=a(this.units[0].unit.offset),f(p(p(e,r),null==t?o:t),n)},E.isValuelessUnit=function(e){return null!==C(e)},E.prototype.hasBase=function(e){if("string"==typeof e&&(e=R[e]),!e)return!1;for(var t=0;t<P.length;t++)if(1e-12<Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0)))return!1;return!0},E.prototype.equalBase=function(e){for(var t=0;t<P.length;t++)if(1e-12<Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0)))return!1;return!0},E.prototype.equals=function(e){return this.equalBase(e)&&x(this.value,e.value)},E.prototype.multiply=function(e){for(var t=this.clone(),r=0;r<P.length;r++)t.dimensions[r]=(this.dimensions[r]||0)+(e.dimensions[r]||0);for(var n=0;n<e.units.length;n++){var i={};for(var o in e.units[n])i[o]=e.units[n][o];t.units.push(i)}if(null!==this.value||null!==e.value){var a=null===this.value?this._normalize(1):this.value,s=null===e.value?e._normalize(1):e.value;t.value=l(a,s)}else t.value=null;return t.isUnitListSimplified=!1,z(t)},E.prototype.divide=function(e){for(var t=this.clone(),r=0;r<P.length;r++)t.dimensions[r]=(this.dimensions[r]||0)-(e.dimensions[r]||0);for(var n=0;n<e.units.length;n++){var i={};for(var o in e.units[n])i[o]=e.units[n][o];i.power=-i.power,t.units.push(i)}if(null!==this.value||null!==e.value){var a=null===this.value?this._normalize(1):this.value,s=null===e.value?e._normalize(1):e.value;t.value=p(a,s)}else t.value=null;return t.isUnitListSimplified=!1,z(t)},E.prototype.pow=function(e){for(var t=this.clone(),r=0;r<P.length;r++)t.dimensions[r]=(this.dimensions[r]||0)*e;for(var n=0;n<t.units.length;n++)t.units[n].power*=e;return null!==t.value?t.value=m(t.value,e):t.value=null,t.isUnitListSimplified=!1,z(t)},E.prototype.abs=function(){var e=this.clone();for(var t in e.value=null!==e.value?h(e.value):null,e.units)"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=D.W);return e},E.prototype.to=function(e){var t=void 0,r=null===this.value?this._normalize(1):this.value;if("string"==typeof e){if(t=E.parse(e),!this.equalBase(t))throw new Error("Units do not match ('"+t.toString()+"' != '"+this.toString()+"')");if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return t.value=K(r),t.fixPrefix=!0,t.isUnitListSimplified=!0,t}if(v.isUnit(e)){if(!this.equalBase(e))throw new Error("Units do not match ('"+e.toString()+"' != '"+this.toString()+"')");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return(t=e.clone()).value=K(r),t.fixPrefix=!0,t.isUnitListSimplified=!0,t}throw new Error("String or Unit expected as parameter")},E.prototype.toNumber=function(e){return n(this.toNumeric(e))},E.prototype.toNumeric=function(e){var t=this;return e&&(t=this.to(e)),t.simplifyUnitListLazy(),t._isDerived()?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},E.prototype.toString=function(){return this.format()},E.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},E.fromJSON=function(e){var t=new E(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},E.prototype.valueOf=E.prototype.toString,E.prototype.simplifyUnitListLazy=function(){if(!this.isUnitListSimplified&&null!==this.value){var e=[],t=void 0;for(var r in $)if(this.hasBase(R[r])){t=r;break}if("NONE"===t)this.units=[];else{var n=void 0;if(t&&$.hasOwnProperty(t)&&(n=$[t]),n)this.units=[{unit:n.unit,prefix:n.prefix,power:1}];else{for(var i=!1,o=0;o<P.length;o++){var a=P[o];1e-12<Math.abs(this.dimensions[o]||0)&&($.hasOwnProperty(a)?e.push({unit:$[a].unit,prefix:$[a].prefix,power:this.dimensions[o]||0}):i=!0)}e.length<this.units.length&&!i&&(this.units=e)}}this.isUnitListSimplified=!0}},E.prototype.toSI=function(){for(var e=this.clone(),t=[],r=0;r<P.length;r++){var n=P[r];if(1e-12<Math.abs(e.dimensions[r]||0)){if(!j.si.hasOwnProperty(n))throw new Error("Cannot express custom unit "+n+" in SI units");t.push({unit:j.si[n].unit,prefix:j.si[n].prefix,power:e.dimensions[r]||0})}}return e.units=t,e.isUnitListSimplified=!0,e},E.prototype.formatUnits=function(){this.simplifyUnitListLazy();for(var e="",t="",r=0,n=0,i=0;i<this.units.length;i++)0<this.units[i].power?(r++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,1e-15<Math.abs(this.units[i].power-1)&&(e+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(0<n)for(var o=0;o<this.units.length;o++)this.units[o].power<0&&(0<r?(t+=" "+this.units[o].prefix.name+this.units[o].unit.name,1e-15<Math.abs(this.units[o].power+1)&&(t+="^"+-this.units[o].power)):(t+=" "+this.units[o].prefix.name+this.units[o].unit.name,t+="^"+this.units[o].power));e=e.substr(1),t=t.substr(1),1<r&&0<n&&(e="("+e+")"),1<n&&0<r&&(t="("+t+")");var a=e;return 0<r&&0<n&&(a+=" / "),a+=t},E.prototype.format=function(e){this.simplifyUnitListLazy();var t=!1;for(var r in void 0!==this.value&&null!==this.value&&v.isComplex(this.value)&&(t=Math.abs(this.value.re)<1e-14),this.units)this.units[r].unit&&("VA"===this.units[r].unit.name&&t?this.units[r].unit=D.VAR:"VAR"!==this.units[r].unit.name||t||(this.units[r].unit=D.VA));1!==this.units.length||this.fixPrefix||Math.abs(this.units[0].power-Math.round(this.units[0].power))<1e-14&&(this.units[0].prefix=this._bestPrefix());var n=this._denormalize(this.value),i=null!==this.value?a(n,e||{}):"",o=this.formatUnits();return this.value&&v.isComplex(this.value)&&(i="("+i+")"),0<o.length&&0<i.length&&(i+=" "),i+=o},E.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(1e-14<=Math.abs(this.units[0].power-Math.round(this.units[0].power)))throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?h(this.value):0,t=h(this.units[0].unit.value),r=this.units[0].prefix;if(0===e)return r;var n=this.units[0].power,i=Math.log(e/Math.pow(r.value*t,n))/Math.LN10-1.2;if(-2.200001<i&&i<1.800001)return r;i=Math.abs(i);var o=this.units[0].unit.prefixes;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];if(s.scientific){var u=Math.abs(Math.log(e/Math.pow(s.value*t,n))/Math.LN10-1.2);(u<i||u===i&&s.name.length<r.name.length)&&(r=s,i=u)}}return r};var B={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:(E.prototype.splitUnit=function(e){for(var t=this.clone(),r=[],n=0;n<e.length&&(t=t.to(e[n]),n!==e.length-1);n++){var i=t.toNumeric(),o=g(i),a=new E(x(o,i)?o:d(t.toNumeric()),e[n].toString());r.push(a),t=f(t,a)}for(var s=0,u=0;u<r.length;u++)s=c(s,r[u].value);return x(s,this.value)&&(t.value=0),r.push(t),r},!1)},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}},SHORTLONG:{}};for(var I in B.SHORT)B.SHORT.hasOwnProperty(I)&&(B.SHORTLONG[I]=B.SHORT[I]);for(var k in B.LONG)B.LONG.hasOwnProperty(k)&&(B.SHORTLONG[k]=B.LONG[k]);var P=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],R={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var U in R)R[U].key=U;var q={name:"",base:{},value:1,offset:0,dimensions:[0,0,0,0,0,0,0,0,0]},D={meter:{name:"meter",base:R.LENGTH,prefixes:B.LONG,value:1,offset:0},inch:{name:"inch",base:R.LENGTH,prefixes:B.NONE,value:.0254,offset:0},foot:{name:"foot",base:R.LENGTH,prefixes:B.NONE,value:.3048,offset:0},yard:{name:"yard",base:R.LENGTH,prefixes:B.NONE,value:.9144,offset:0},mile:{name:"mile",base:R.LENGTH,prefixes:B.NONE,value:1609.344,offset:0},link:{name:"link",base:R.LENGTH,prefixes:B.NONE,value:.201168,offset:0},rod:{name:"rod",base:R.LENGTH,prefixes:B.NONE,value:5.02921,offset:0},chain:{name:"chain",base:R.LENGTH,prefixes:B.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:R.LENGTH,prefixes:B.NONE,value:1e-10,offset:0},m:{name:"m",base:R.LENGTH,prefixes:B.SHORT,value:1,offset:0},in:{name:"in",base:R.LENGTH,prefixes:B.NONE,value:.0254,offset:0},ft:{name:"ft",base:R.LENGTH,prefixes:B.NONE,value:.3048,offset:0},yd:{name:"yd",base:R.LENGTH,prefixes:B.NONE,value:.9144,offset:0},mi:{name:"mi",base:R.LENGTH,prefixes:B.NONE,value:1609.344,offset:0},li:{name:"li",base:R.LENGTH,prefixes:B.NONE,value:.201168,offset:0},rd:{name:"rd",base:R.LENGTH,prefixes:B.NONE,value:5.02921,offset:0},ch:{name:"ch",base:R.LENGTH,prefixes:B.NONE,value:20.1168,offset:0},mil:{name:"mil",base:R.LENGTH,prefixes:B.NONE,value:254e-7,offset:0},m2:{name:"m2",base:R.SURFACE,prefixes:B.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:R.SURFACE,prefixes:B.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:R.SURFACE,prefixes:B.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:R.SURFACE,prefixes:B.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:R.SURFACE,prefixes:B.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:R.SURFACE,prefixes:B.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:R.SURFACE,prefixes:B.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:R.SURFACE,prefixes:B.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:R.SURFACE,prefixes:B.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:R.SURFACE,prefixes:B.NONE,value:1e4,offset:0},m3:{name:"m3",base:R.VOLUME,prefixes:B.CUBIC,value:1,offset:0},L:{name:"L",base:R.VOLUME,prefixes:B.SHORT,value:.001,offset:0},l:{name:"l",base:R.VOLUME,prefixes:B.SHORT,value:.001,offset:0},litre:{name:"litre",base:R.VOLUME,prefixes:B.LONG,value:.001,offset:0},cuin:{name:"cuin",base:R.VOLUME,prefixes:B.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:R.VOLUME,prefixes:B.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:R.VOLUME,prefixes:B.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:R.VOLUME,prefixes:B.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:R.VOLUME,prefixes:B.NONE,value:15e-6,offset:0},drop:{name:"drop",base:R.VOLUME,prefixes:B.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:R.VOLUME,prefixes:B.NONE,value:5e-8,offset:0},minim:{name:"minim",base:R.VOLUME,prefixes:B.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:R.VOLUME,prefixes:B.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:R.VOLUME,prefixes:B.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:R.VOLUME,prefixes:B.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:R.VOLUME,prefixes:B.NONE,value:1e-6,offset:0},cup:{name:"cup",base:R.VOLUME,prefixes:B.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:R.VOLUME,prefixes:B.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:R.VOLUME,prefixes:B.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:R.VOLUME,prefixes:B.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:R.VOLUME,prefixes:B.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:R.VOLUME,prefixes:B.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:R.VOLUME,prefixes:B.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:R.VOLUME,prefixes:B.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:R.VOLUME,prefixes:B.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:R.VOLUME,prefixes:B.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:R.VOLUME,prefixes:B.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:R.VOLUME,prefixes:B.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:R.VOLUME,prefixes:B.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:R.VOLUME,prefixes:B.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:R.VOLUME,prefixes:B.NONE,value:.1173478,offset:0},obl:{name:"obl",base:R.VOLUME,prefixes:B.NONE,value:.1589873,offset:0},g:{name:"g",base:R.MASS,prefixes:B.SHORT,value:.001,offset:0},gram:{name:"gram",base:R.MASS,prefixes:B.LONG,value:.001,offset:0},ton:{name:"ton",base:R.MASS,prefixes:B.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:R.MASS,prefixes:B.SHORT,value:1e3,offset:0},grain:{name:"grain",base:R.MASS,prefixes:B.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:R.MASS,prefixes:B.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:R.MASS,prefixes:B.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:R.MASS,prefixes:B.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:R.MASS,prefixes:B.NONE,value:45.359237,offset:0},stick:{name:"stick",base:R.MASS,prefixes:B.NONE,value:.115,offset:0},stone:{name:"stone",base:R.MASS,prefixes:B.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:R.MASS,prefixes:B.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:R.MASS,prefixes:B.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:R.MASS,prefixes:B.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:R.MASS,prefixes:B.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:R.MASS,prefixes:B.NONE,value:45.359237,offset:0},s:{name:"s",base:R.TIME,prefixes:B.SHORT,value:1,offset:0},min:{name:"min",base:R.TIME,prefixes:B.NONE,value:60,offset:0},h:{name:"h",base:R.TIME,prefixes:B.NONE,value:3600,offset:0},second:{name:"second",base:R.TIME,prefixes:B.LONG,value:1,offset:0},sec:{name:"sec",base:R.TIME,prefixes:B.LONG,value:1,offset:0},minute:{name:"minute",base:R.TIME,prefixes:B.NONE,value:60,offset:0},hour:{name:"hour",base:R.TIME,prefixes:B.NONE,value:3600,offset:0},day:{name:"day",base:R.TIME,prefixes:B.NONE,value:86400,offset:0},week:{name:"week",base:R.TIME,prefixes:B.NONE,value:604800,offset:0},month:{name:"month",base:R.TIME,prefixes:B.NONE,value:2629800,offset:0},year:{name:"year",base:R.TIME,prefixes:B.NONE,value:31557600,offset:0},decade:{name:"decade",base:R.TIME,prefixes:B.NONE,value:315576e3,offset:0},century:{name:"century",base:R.TIME,prefixes:B.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:R.TIME,prefixes:B.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:R.FREQUENCY,prefixes:B.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:R.FREQUENCY,prefixes:B.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:R.ANGLE,prefixes:B.SHORT,value:1,offset:0},radian:{name:"radian",base:R.ANGLE,prefixes:B.LONG,value:1,offset:0},deg:{name:"deg",base:R.ANGLE,prefixes:B.SHORT,value:null,offset:0},degree:{name:"degree",base:R.ANGLE,prefixes:B.LONG,value:null,offset:0},grad:{name:"grad",base:R.ANGLE,prefixes:B.SHORT,value:null,offset:0},gradian:{name:"gradian",base:R.ANGLE,prefixes:B.LONG,value:null,offset:0},cycle:{name:"cycle",base:R.ANGLE,prefixes:B.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:R.ANGLE,prefixes:B.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:R.ANGLE,prefixes:B.NONE,value:null,offset:0},A:{name:"A",base:R.CURRENT,prefixes:B.SHORT,value:1,offset:0},ampere:{name:"ampere",base:R.CURRENT,prefixes:B.LONG,value:1,offset:0},K:{name:"K",base:R.TEMPERATURE,prefixes:B.NONE,value:1,offset:0},degC:{name:"degC",base:R.TEMPERATURE,prefixes:B.NONE,value:1,offset:273.15},degF:{name:"degF",base:R.TEMPERATURE,prefixes:B.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:R.TEMPERATURE,prefixes:B.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:R.TEMPERATURE,prefixes:B.NONE,value:1,offset:0},celsius:{name:"celsius",base:R.TEMPERATURE,prefixes:B.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:R.TEMPERATURE,prefixes:B.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:R.TEMPERATURE,prefixes:B.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:R.AMOUNT_OF_SUBSTANCE,prefixes:B.SHORT,value:1,offset:0},mole:{name:"mole",base:R.AMOUNT_OF_SUBSTANCE,prefixes:B.LONG,value:1,offset:0},cd:{name:"cd",base:R.LUMINOUS_INTENSITY,prefixes:B.NONE,value:1,offset:0},candela:{name:"candela",base:R.LUMINOUS_INTENSITY,prefixes:B.NONE,value:1,offset:0},N:{name:"N",base:R.FORCE,prefixes:B.SHORT,value:1,offset:0},newton:{name:"newton",base:R.FORCE,prefixes:B.LONG,value:1,offset:0},dyn:{name:"dyn",base:R.FORCE,prefixes:B.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:R.FORCE,prefixes:B.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:R.FORCE,prefixes:B.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:R.FORCE,prefixes:B.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:R.FORCE,prefixes:B.LONG,value:4448.2216,offset:0},J:{name:"J",base:R.ENERGY,prefixes:B.SHORT,value:1,offset:0},joule:{name:"joule",base:R.ENERGY,prefixes:B.SHORT,value:1,offset:0},erg:{name:"erg",base:R.ENERGY,prefixes:B.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:R.ENERGY,prefixes:B.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:R.ENERGY,prefixes:B.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:R.ENERGY,prefixes:B.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:R.ENERGY,prefixes:B.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:R.POWER,prefixes:B.SHORT,value:1,offset:0},watt:{name:"watt",base:R.POWER,prefixes:B.LONG,value:1,offset:0},hp:{name:"hp",base:R.POWER,prefixes:B.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:R.POWER,prefixes:B.SHORT,value:o.I,offset:0},VA:{name:"VA",base:R.POWER,prefixes:B.SHORT,value:1,offset:0},Pa:{name:"Pa",base:R.PRESSURE,prefixes:B.SHORT,value:1,offset:0},psi:{name:"psi",base:R.PRESSURE,prefixes:B.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:R.PRESSURE,prefixes:B.NONE,value:101325,offset:0},bar:{name:"bar",base:R.PRESSURE,prefixes:B.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:R.PRESSURE,prefixes:B.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:R.PRESSURE,prefixes:B.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:R.PRESSURE,prefixes:B.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:R.PRESSURE,prefixes:B.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:R.ELECTRIC_CHARGE,prefixes:B.LONG,value:1,offset:0},C:{name:"C",base:R.ELECTRIC_CHARGE,prefixes:B.SHORT,value:1,offset:0},farad:{name:"farad",base:R.ELECTRIC_CAPACITANCE,prefixes:B.LONG,value:1,offset:0},F:{name:"F",base:R.ELECTRIC_CAPACITANCE,prefixes:B.SHORT,value:1,offset:0},volt:{name:"volt",base:R.ELECTRIC_POTENTIAL,prefixes:B.LONG,value:1,offset:0},V:{name:"V",base:R.ELECTRIC_POTENTIAL,prefixes:B.SHORT,value:1,offset:0},ohm:{name:"ohm",base:R.ELECTRIC_RESISTANCE,prefixes:B.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:R.ELECTRIC_INDUCTANCE,prefixes:B.LONG,value:1,offset:0},H:{name:"H",base:R.ELECTRIC_INDUCTANCE,prefixes:B.SHORT,value:1,offset:0},siemens:{name:"siemens",base:R.ELECTRIC_CONDUCTANCE,prefixes:B.LONG,value:1,offset:0},S:{name:"S",base:R.ELECTRIC_CONDUCTANCE,prefixes:B.SHORT,value:1,offset:0},weber:{name:"weber",base:R.MAGNETIC_FLUX,prefixes:B.LONG,value:1,offset:0},Wb:{name:"Wb",base:R.MAGNETIC_FLUX,prefixes:B.SHORT,value:1,offset:0},tesla:{name:"tesla",base:R.MAGNETIC_FLUX_DENSITY,prefixes:B.LONG,value:1,offset:0},T:{name:"T",base:R.MAGNETIC_FLUX_DENSITY,prefixes:B.SHORT,value:1,offset:0},b:{name:"b",base:R.BIT,prefixes:B.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:R.BIT,prefixes:B.BINARY_LONG,value:1,offset:0},B:{name:"B",base:R.BIT,prefixes:B.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:R.BIT,prefixes:B.BINARY_LONG,value:8,offset:0}},L={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"};function F(e){if("BigNumber"===e.number){var t=ee.pi(v.BigNumber);D.rad.value=new v.BigNumber(1),D.deg.value=t.div(180),D.grad.value=t.div(200),D.cycle.value=t.times(2),D.arcsec.value=t.div(648e3),D.arcmin.value=t.div(10800)}else D.rad.value=1,D.deg.value=Math.PI/180,D.grad.value=Math.PI/200,D.cycle.value=2*Math.PI,D.arcsec.value=Math.PI/648e3,D.arcmin.value=Math.PI/10800;D.radian.value=D.rad.value,D.degree.value=D.deg.value,D.gradian.value=D.grad.value}F(y),r.on("config",function(e,t){e.number!==t.number&&F(e)});var j={si:{NONE:{unit:q,prefix:B.NONE[""]},LENGTH:{unit:D.m,prefix:B.SHORT[""]},MASS:{unit:D.g,prefix:B.SHORT.k},TIME:{unit:D.s,prefix:B.SHORT[""]},CURRENT:{unit:D.A,prefix:B.SHORT[""]},TEMPERATURE:{unit:D.K,prefix:B.SHORT[""]},LUMINOUS_INTENSITY:{unit:D.cd,prefix:B.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:D.mol,prefix:B.SHORT[""]},ANGLE:{unit:D.rad,prefix:B.SHORT[""]},BIT:{unit:D.bit,prefix:B.SHORT[""]},FORCE:{unit:D.N,prefix:B.SHORT[""]},ENERGY:{unit:D.J,prefix:B.SHORT[""]},POWER:{unit:D.W,prefix:B.SHORT[""]},PRESSURE:{unit:D.Pa,prefix:B.SHORT[""]},ELECTRIC_CHARGE:{unit:D.C,prefix:B.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:D.F,prefix:B.SHORT[""]},ELECTRIC_POTENTIAL:{unit:D.V,prefix:B.SHORT[""]},ELECTRIC_RESISTANCE:{unit:D.ohm,prefix:B.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:D.H,prefix:B.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:D.S,prefix:B.SHORT[""]},MAGNETIC_FLUX:{unit:D.Wb,prefix:B.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:D.T,prefix:B.SHORT[""]},FREQUENCY:{unit:D.Hz,prefix:B.SHORT[""]}}};j.cgs=JSON.parse(JSON.stringify(j.si)),j.cgs.LENGTH={unit:D.m,prefix:B.SHORT.c},j.cgs.MASS={unit:D.g,prefix:B.SHORT[""]},j.cgs.FORCE={unit:D.dyn,prefix:B.SHORT[""]},j.cgs.ENERGY={unit:D.erg,prefix:B.NONE[""]},j.us=JSON.parse(JSON.stringify(j.si)),j.us.LENGTH={unit:D.ft,prefix:B.NONE[""]},j.us.MASS={unit:D.lbm,prefix:B.NONE[""]},j.us.TEMPERATURE={unit:D.degF,prefix:B.NONE[""]},j.us.FORCE={unit:D.lbf,prefix:B.NONE[""]},j.us.ENERGY={unit:D.BTU,prefix:B.BTU[""]},j.us.POWER={unit:D.hp,prefix:B.NONE[""]},j.us.PRESSURE={unit:D.psi,prefix:B.NONE[""]},j.auto=JSON.parse(JSON.stringify(j.si));var $=j.auto;for(var H in E.setUnitSystem=function(e){if(!j.hasOwnProperty(e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(j).join(", "));$=j[e]},E.getUnitSystem=function(){for(var e in j)if(j[e]===$)return e},E.typeConverters={BigNumber:function(e){return new v.BigNumber(e+"")},Fraction:function(e){return new v.Fraction(e)},Complex:function(e){return e},number:function(e){return e}},E._getNumberConverter=function(e){if(!E.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return E.typeConverters[e]},D){var G=D[H];G.dimensions=G.base.dimensions}for(var Z in L)if(L.hasOwnProperty(Z)){var V=D[L[Z]],W={};for(var J in V)V.hasOwnProperty(J)&&(W[J]=V[J]);W.name=Z,D[Z]=W}return E.createUnit=function(e,t){if("object"!==(void 0===e?"undefined":X(e)))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var r in e)if(e.hasOwnProperty(r)&&E.deleteUnit(r),e[r].aliases)for(var n=0;n<e[r].aliases.length;n++)E.deleteUnit(e[r].aliases[n]);var i=void 0;for(var o in e)e.hasOwnProperty(o)&&(i=E.createUnitSingle(o,e[o]));return i},E.createUnitSingle=function(t,e,r){if(null==e&&(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(D.hasOwnProperty(t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){var r=e.charAt(t),n=function(e){return/^[a-zA-Z]$/.test(e)};if(0===t&&!n(r))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(0<t&&!(n(r)||"0"<=(i=r)&&i<="9"))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}var i}(t);var n=null,i=[],o=0,a=void 0,s=void 0;if(e&&"Unit"===e.type)n=e.clone();else if("string"==typeof e)""!==e&&(a=e);else{if("object"!==(void 0===e?"undefined":X(e)))throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');a=e.definition,s=e.prefixes,o=e.offset,e.aliases&&(i=e.aliases.valueOf())}if(i)for(var u=0;u<i.length;u++)if(D.hasOwnProperty(i[u]))throw new Error('Cannot create alias "'+i[u]+'": a unit with that name already exists');if(a&&"string"==typeof a&&!n)try{n=E.parse(a,{allowNoUnits:!0})}catch(e){throw e.message='Could not create unit "'+t+'" from "'+a+'": '+e.message,e}else a&&"Unit"===a.type&&(n=a.clone());i=i||[],o=o||0,s=s&&s.toUpperCase&&B[s.toUpperCase()]||B.NONE;var c={};if(n){var f=!(c={name:t,value:n.value,dimensions:n.dimensions.slice(0),prefixes:s,offset:o});for(var l in R)if(R.hasOwnProperty(l)){for(var p=!0,m=0;m<P.length;m++)if(1e-12<Math.abs((c.dimensions[m]||0)-(R[l].dimensions[m]||0))){p=!1;break}if(p){f=!0;break}}if(!f){var h=t+"_STUFF",d={dimensions:n.dimensions.slice(0)};d.key=h,R[h]=d,$[h]={unit:c,prefix:B.NONE[""]},c.base=h}}else{var v=t+"_STUFF";if(0<=P.indexOf(v))throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');for(var y in P.push(v),R)R.hasOwnProperty(y)&&(R[y].dimensions[P.length-1]=0);for(var g={dimensions:[]},x=0;x<P.length;x++)g.dimensions[x]=0;g.dimensions[P.length-1]=1,g.key=v,R[v]=g,c={name:t,value:1,dimensions:R[v].dimensions.slice(0),prefixes:s,offset:o,base:v},$[v]={unit:c,prefix:B.NONE[""]}}E.UNITS[t]=c;for(var b=0;b<i.length;b++){var w=i[b],N={};for(var M in c)c.hasOwnProperty(M)&&(N[M]=c[M]);N.name=w,E.UNITS[w]=N}return new E(null,t)},E.deleteUnit=function(e){delete E.UNITS[e]},E.PREFIXES=B,E.BASE_DIMENSIONS=P,E.BASE_UNITS=R,E.UNIT_SYSTEMS=j,E.UNITS=D,E},t.math=!0},function(e,t,r){"use strict";e.exports=[r(534),r(533),r(532),r(531),r(530)]},function(e,t,r){"use strict";var o=r(0),a=r(3);t.name="string",t.factory=function(e,t,r,n){var i=n("string",{"":function(){return""},number:a.format,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return o(e,i)},any:function(e){return String(e)}});return i.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},i}},function(e,t,r){"use strict";e.exports=[r(144)]},function(e,t,r){"use strict";t.name="sparse",t.factory=function(e,t,r,n){var i=e.SparseMatrix,o=n("sparse",{"":function(){return new i([])},string:function(e){return new i([],e)},"Array | Matrix":function(e){return new i(e)},"Array | Matrix, string":function(e,t){return new i(e,t)}});return o.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},o}},function(e,t,r){"use strict";t.name="index",t.factory=function(n,e,t,r){return r("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var t=e.map(function(e){return n.isBigNumber(e)?e.toNumber():Array.isArray(e)||n.isMatrix(e)?e.map(function(e){return n.isBigNumber(e)?e.toNumber():e}):e}),r=new n.Index;return n.Index.apply(r,t),r}})}},function(e,t,a){"use strict";var s=a(29),r=s.string,u=s.object,c=Array.isArray,f=r.isString;t.name="ImmutableDenseMatrix",t.path="type",t.factory=function(n,e,t){var i=t(a(52)),r=t(a(44));function o(e,t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!f(t))throw new Error("Invalid datatype: "+t);if(n.isMatrix(e)||c(e)){var r=new i(e,t);this._data=r._data,this._size=r._size,this._datatype=r._datatype,this._min=null,this._max=null}else if(e&&c(e.data)&&c(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+s.types.type(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}return(o.prototype=new i).type="ImmutableDenseMatrix",o.prototype.isImmutableDenseMatrix=!0,o.prototype.subset=function(e){switch(arguments.length){case 1:var t=i.prototype.subset.call(this,e);return n.isMatrix(t)?new o({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},o.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},o.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},o.prototype.clone=function(){return new o({data:u.clone(this._data),size:u.clone(this._size),datatype:this._datatype})},o.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},o.fromJSON=function(e){return new o(e)},o.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},o.prototype.min=function(){if(null===this._min){var t=null;this.forEach(function(e){(null===t||r(e,t))&&(t=e)}),this._min=null!==t?t:void 0}return this._min},o.prototype.max=function(){if(null===this._max){var t=null;this.forEach(function(e){(null===t||r(t,e))&&(t=e)}),this._max=null!==t?t:void 0}return this._max},o}},function(e,t,a){"use strict";t.name="FibonacciHeap",t.path="type",t.factory=function(e,t,r,n){var l=r(a(44)),p=r(a(34)),m=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(e,t,r){t.left.right=t.right,t.right.left=t.left,r.degree--,r.child===t&&(r.child=t.right),0===r.degree&&(r.child=null),t.left=e,t.right=e.right,((e.right=t).right.left=t).parent=null,t.mark=!1}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,t){var r={key:e,value:t,degree:0};if(this._minimum){var n=this._minimum;r.left=n,r.right=n.right,(n.right=r).right.left=r,l(e,n.key)&&(this._minimum=r)}else(r.left=r).right=r,this._minimum=r;return this._size++,r},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var t=this._minimum,r=e.degree,n=e.child;0<r;){var i=n.right;n.left.right=n.right,n.right.left=n.left,n.left=t,n.right=t.right,((t.right=n).right.left=n).parent=null,n=i,r--}return e.left.right=e.right,e.right.left=e.left,t=e===e.right?null:function(e,t){var r=Math.floor(Math.log(t)*m)+1,n=new Array(r),i=0,o=e;if(o)for(i++,o=o.right;o!==e;)i++,o=o.right;for(var a=void 0;0<i;){for(var s=o.degree,u=o.right;a=n[s];){if(p(o.key,a.key)){var c=a;a=o,o=c}h(a,o),n[s]=null,s++}n[s]=o,o=u,i--}e=null;for(var f=0;f<r;f++)(a=n[f])&&(e?(a.left.right=a.right,a.right.left=a.left,a.left=e,a.right=e.right,(e.right=a).right.left=a,l(a.key,e.key)&&(e=a)):e=a);return e}(t=e.right,this._size),this._size--,this._minimum=t,e},i.prototype.remove=function(e){this._minimum=function(e,t,r){t.key=r;var n=t.parent;return n&&l(t.key,n.key)&&(o(e,t,n),function e(t,r){var n=r.parent;n&&(r.mark?(o(t,r,n),e(n)):r.mark=!0)}(e,n)),l(t.key,e.key)&&(e=t),e}(this._minimum,e,-1),this.extractMinimum()};var h=function(e,t){e.left.right=e.right,e.right.left=e.left,(e.parent=t).child?(e.left=t.child,e.right=t.child.right,(t.child.right=e).right.left=e):((t.child=e).right=e).left=e,t.degree++,e.mark=!1};return i}},function(e,t,o){"use strict";t.name="Spa",t.path="type",t.factory=function(e,t,r){var n=r(o(15)),c=r(o(10));function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new e.FibonacciHeap}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var r=this._heap.insert(e,t);this._values[e]=r}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,t){var r=this._values[e];r?r.value=n(r.value,t):(r=this._heap.insert(e,t),this._values[e]=r)},i.prototype.forEach=function(e,t,r){var n=this._heap,i=this._values,o=[],a=n.extractMinimum();for(a&&o.push(a);a&&a.key<=t;)a.key>=e&&(c(a.value,0)||r(a.key,a.value,this)),(a=n.extractMinimum())&&o.push(a);for(var s=0;s<o.length;s++){var u=o[s];i[(a=n.insert(u.key,u.value)).key]=a}},i.prototype.swap=function(e,t){var r=this._values[e],n=this._values[t];if(!r&&n)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(r&&!n)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i}},i}},function(e,t,i){"use strict";var a=i(29),x=i(11),v=a.array,E=a.object,A=a.string,S=a.number,O=Array.isArray,T=S.isNumber,_=S.isInteger,C=A.isString,z=v.validateIndex;t.name="SparseMatrix",t.path="type",t.factory=function(b,e,t,w){var r=t(i(90)),N=t(i(10));function M(e,t){if(!(this instanceof M))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!C(t))throw new Error("Invalid datatype: "+t);if(b.isMatrix(e))r=this,i=t,"SparseMatrix"===(n=e).type?(r._values=n._values?E.clone(n._values):void 0,r._index=E.clone(n._index),r._ptr=E.clone(n._ptr),r._size=E.clone(n._size),r._datatype=i||n._datatype):o(r,n.valueOf(),i||n._datatype);else if(e&&O(e.index)&&O(e.ptr)&&O(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(O(e))o(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+a.types.type(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}var r,n,i}function o(e,t,r){e._values=[],e._index=[],e._ptr=[],e._datatype=r;var n=t.length,i=0,o=N,a=0;if(C(r)&&(o=w.find(N,[r,r])||N,a=w.convert(0,r)),0<n){var s=0;do{e._ptr.push(e._index.length);for(var u=0;u<n;u++){var c=t[u];if(O(c)){if(0===s&&i<c.length&&(i=c.length),s<c.length){var f=c[s];o(f,a)||(e._values.push(f),e._index.push(u))}}else 0===s&&i<1&&(i=1),o(c,a)||(e._values.push(c),e._index.push(u))}s++}while(s<i)}e._ptr.push(e._index.length),e._size=[n,i]}function y(e,t,r,n){if(r-t==0)return r;for(var i=t;i<r;i++)if(n[i]===e)return i;return t}function g(e,t,r,n,i,o,a){i.splice(e,0,n),o.splice(e,0,t);for(var s=r+1;s<a.length;s++)a[s]++}function f(e,t,r,n){var i=n||0,o=N,a=0;C(e._datatype)&&(o=w.find(N,[e._datatype,e._datatype])||N,a=w.convert(0,e._datatype),i=w.convert(i,e._datatype));var s=!o(i,a),u=e._size[0],c=e._size[1],f=void 0,l=void 0,p=void 0;if(c<r){for(l=c;l<r;l++)if(e._ptr[l]=e._values.length,s)for(f=0;f<u;f++)e._values.push(i),e._index.push(f);e._ptr[r]=e._values.length}else r<c&&(e._ptr.splice(r+1,c-r),e._values.splice(e._ptr[r],e._values.length),e._index.splice(e._ptr[r],e._index.length));if(c=r,u<t){if(s){var m=0;for(l=0;l<c;l++){e._ptr[l]=e._ptr[l]+m,p=e._ptr[l+1]+m;var h=0;for(f=u;f<t;f++,h++)e._values.splice(p+h,0,i),e._index.splice(p+h,0,f),m++}e._ptr[c]=e._values.length}}else if(t<u){var d=0;for(l=0;l<c;l++){e._ptr[l]=e._ptr[l]-d;var v=e._ptr[l],y=e._ptr[l+1]-d;for(p=v;p<y;p++)t-1<(f=e._index[p])&&(e._values.splice(p,1),e._index.splice(p,1),d++)}e._ptr[l]=e._values.length}return e._size[0]=t,e._size[1]=r,e}function n(e,t,r,n,i){var o=n[0],a=n[1],s=[],u=void 0,c=void 0;for(u=0;u<o;u++)for(s[u]=[],c=0;c<a;c++)s[u][c]=0;for(c=0;c<a;c++)for(var f=r[c],l=r[c+1],p=f;p<l;p++)s[u=t[p]][c]=e?i?E.clone(e[p]):e[p]:1;return s}return(M.prototype=new r).type="SparseMatrix",M.prototype.isSparseMatrix=!0,M.prototype.storage=function(){return"sparse"},M.prototype.datatype=function(){return this._datatype},M.prototype.create=function(e,t){return new M(e,t)},M.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},M.prototype.subset=function(e,t,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(e,t){if(!b.isIndex(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r=t.size();if(r.length!==e._size.length)throw new x(r.length,e._size.length);var n=void 0,i=void 0,o=void 0,a=void 0,s=t.min(),u=t.max();for(n=0,i=e._size.length;n<i;n++)z(s[n],e._size[n]),z(u[n],e._size[n]);var c=e._values,f=e._index,l=e._ptr,p=t.dimension(0),m=t.dimension(1),h=[],d=[];p.forEach(function(e,t){d[e]=t[0],h[e]=!0});var v=c?[]:void 0,y=[],g=[];return m.forEach(function(e){for(g.push(y.length),o=l[e],a=l[e+1];o<a;o++)n=f[o],!0===h[n]&&(y.push(d[n]),v&&v.push(c[o]))}),g.push(y.length),new M({values:v,index:y,ptr:g,size:r,datatype:e._datatype})}(this,e);case 2:case 3:return function(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i=t.size(),o=t.isScalar(),a=void 0;if(b.isMatrix(r)?(a=r.size(),r=r.toArray()):a=v.size(r),o){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),r,n)}else{if(1!==i.length&&2!==i.length)throw new x(i.length,e._size.length,"<");if(a.length<i.length){for(var s=0,u=0;1===i[s]&&1===a[s];)s++;for(;1===i[s];)u++,s++;r=v.unsqueeze(r,i.length,u,a)}if(!E.deepEqual(i,a))throw new x(i,a,">");for(var c=t.min()[0],f=t.min()[1],l=a[0],p=a[1],m=0;m<l;m++)for(var h=0;h<p;h++){var d=r[m][h];e.set([m+c,h+f],d,n)}}return e}(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},M.prototype.get=function(e){if(!O(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new x(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],r=e[1];z(t,this._size[0]),z(r,this._size[1]);var n=y(t,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===t?this._values[n]:0},M.prototype.set=function(e,t,r){if(!O(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new x(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var n=e[0],i=e[1],o=this._size[0],a=this._size[1],s=N,u=0;C(this._datatype)&&(s=w.find(N,[this._datatype,this._datatype])||N,u=w.convert(0,this._datatype)),(o-1<n||a-1<i)&&(f(this,Math.max(n+1,o),Math.max(i+1,a),r),o=this._size[0],a=this._size[1]),z(n,o),z(i,a);var c=y(n,this._ptr[i],this._ptr[i+1],this._index);return c<this._ptr[i+1]&&this._index[c]===n?s(t,u)?function(e,t,r,n,i){r.splice(e,1),n.splice(e,1);for(var o=t+1;o<i.length;o++)i[o]--}(c,i,this._values,this._index,this._ptr):this._values[c]=t:g(c,n,i,t,this._values,this._index,this._ptr),this},M.prototype.resize=function(t,e,r){if(!O(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");return t.forEach(function(e){if(!S.isNumber(e)||!S.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+A.format(t)+")")}),f(r?this.clone():this,t[0],t[1],e)},M.prototype.reshape=function(t,e){if(!O(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach(function(e){if(!S.isNumber(e)||!S.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+A.format(t)+")")}),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var n=[],i=0;i<r._ptr.length;i++)for(var o=0;o<r._ptr[i+1]-r._ptr[i];o++)n.push(i);for(var a=r._values.slice(),s=r._index.slice(),u=0;u<r._index.length;u++){var c=s[u],f=n[u],l=c*r._size[1]+f;n[u]=l%t[1],s[u]=Math.floor(l/t[1])}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var p=0;p<r._ptr.length;p++)r._ptr[p]=0;for(var m=0;m<a.length;m++){var h=s[m],d=n[m],v=a[m];g(y(h,r._ptr[d],r._ptr[d+1],r._index),h,d,v,r._values,r._index,r._ptr)}return r},M.prototype.clone=function(){return new M({values:this._values?E.clone(this._values):void 0,index:E.clone(this._index),ptr:E.clone(this._ptr),size:E.clone(this._size),datatype:this._datatype})},M.prototype.size=function(){return this._size.slice(0)},M.prototype.map=function(n,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var i=this;return function(e,t,r,n,i,o,a){var s=[],u=[],c=[],f=N,l=0;C(e._datatype)&&(f=w.find(N,[e._datatype,e._datatype])||N,l=w.convert(0,e._datatype));for(var p=function(e,t,r){e=o(e,t,r),f(e,l)||(s.push(e),u.push(t))},m=n;m<=i;m++){c.push(s.length);for(var h=e._ptr[m],d=e._ptr[m+1],v=t,y=h;y<d;y++){var g=e._index[y];if(t<=g&&g<=r){if(!a)for(var x=v;x<g;x++)p(0,x-t,m-n);p(e._values[y],g-t,m-n)}v=g+1}if(!a)for(var b=v;b<=r;b++)p(0,b-t,m-n)}return c.push(s.length),new M({values:s,index:u,ptr:c,size:[r-t+1,i-n+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(e,t,r){return n(e,[t,r],i)},e)},M.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){for(var o=this._ptr[i],a=this._ptr[i+1],s=0,u=o;u<a;u++){var c=this._index[u];if(!t)for(var f=s;f<c;f++)e(0,[f,i],this);e(this._values[u],[c,i],this),s=c+1}if(!t)for(var l=s;l<r;l++)e(0,[l,i],this)}},M.prototype.toArray=function(){return n(this._values,this._index,this._ptr,this._size,!0)},M.prototype.valueOf=function(){return n(this._values,this._index,this._ptr,this._size,!1)},M.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+A.format(t,e)+" x "+A.format(r,e)+"] density: "+A.format(n,e)+"\n",o=0;o<r;o++)for(var a=this._ptr[o],s=this._ptr[o+1],u=a;u<s;u++){var c=this._index[u];i+="\n    ("+A.format(c,e)+", "+A.format(o,e)+") ==> "+(this._values?A.format(this._values[u],e):"X")}return i},M.prototype.toString=function(){return A.format(this.toArray())},M.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},M.prototype.diagonal=function(e){if(e){if(b.isBigNumber(e)&&(e=e.toNumber()),!T(e)||!_(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=0<e?e:0,r=e<0?-e:0,n=this._size[0],i=this._size[1],o=Math.min(n-r,i-t),a=[],s=[],u=[];u[0]=0;for(var c=t;c<i&&a.length<o;c++)for(var f=this._ptr[c],l=this._ptr[c+1],p=f;p<l;p++){var m=this._index[p];if(m===c-t+r){a.push(this._values[p]),s[a.length-1]=m-r;break}}return u.push(a.length),new M({values:a,index:s,ptr:u,size:[o,1]})},M.fromJSON=function(e){return new M(e)},M.diagonal=function(e,t,r,n,i){if(!O(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(b.isBigNumber(e)&&(e=e.toNumber()),!T(e)||!_(e)||e<1)throw new Error("Size values must be positive integers");return e}),r){if(b.isBigNumber(r)&&(r=r.toNumber()),!T(r)||!_(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var o=N,a=0;C(i)&&(o=w.find(N,[i,i])||N,a=w.convert(0,i));var s=0<r?r:0,u=r<0?-r:0,c=e[0],f=e[1],l=Math.min(c-u,f-s),p=void 0;if(O(t)){if(t.length!==l)throw new Error("Invalid value array length");p=function(e){return t[e]}}else if(b.isMatrix(t)){var m=t.size();if(1!==m.length||m[0]!==l)throw new Error("Invalid matrix length");p=function(e){return t.get([e])}}else p=function(){return t};for(var h=[],d=[],v=[],y=0;y<f;y++){v.push(h.length);var g=y-s;if(0<=g&&g<l){var x=p(g);o(x,a)||(d.push(g+u),h.push(x))}}return v.push(h.length),new M({values:h,index:d,ptr:v,size:[c,f]})},M.prototype.swapRows=function(e,t){if(!(T(e)&&_(e)&&T(t)&&_(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return z(e,this._size[0]),z(t,this._size[0]),M._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},M._forEachRow=function(e,t,r,n,i){for(var o=n[e],a=n[e+1],s=o;s<a;s++)i(r[s],t[s])},M._swapRows=function(e,t,r,n,i,o){for(var a=0;a<r;a++){var s=o[a],u=o[a+1],c=y(e,s,u,i),f=y(t,s,u,i);if(c<u&&f<u&&i[c]===e&&i[f]===t){if(n){var l=n[c];n[c]=n[f],n[f]=l}}else if(c<u&&i[c]===e&&(u<=f||i[f]!==t)){var p=n?n[c]:void 0;i.splice(f,0,t),n&&n.splice(f,0,p),i.splice(f<=c?c+1:c,1),n&&n.splice(f<=c?c+1:c,1)}else if(f<u&&i[f]===t&&(u<=c||i[c]!==e)){var m=n?n[f]:void 0;i.splice(c,0,e),n&&n.splice(c,0,m),i.splice(c<=f?f+1:f,1),n&&n.splice(c<=f?f+1:f,1)}}},b.Matrix._storage.sparse=M},t.lazy=!1},function(e,t,r){"use strict";t.isBoolean=function(e){return"boolean"==typeof e}},function(e,t,r){"use strict";e.exports=[r(90),r(52),r(543),r(542),r(541),r(540),r(27),r(145),r(539),r(1),r(538)]},function(i,o,e){var a;
/**
 * @license Fraction.js v4.0.8 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 * @license Fraction.js v4.0.8 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(e){"use strict";var d={s:1,n:0,d:1};function t(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function r(){}return r.prototype=Error.prototype,e.prototype=new r,e}var v=u.DivisionByZero=t("DivisionByZero"),r=u.InvalidParameter=t("InvalidParameter");function y(e,t){return isNaN(e=parseInt(e,10))&&g(),e*t}function g(){throw new r}var n=function(e,t){var r,n=0,i=1,o=1,a=0,s=0,u=0,c=1,f=1,l=0,p=1,m=1,h=1;if(null==e);else if(void 0!==t)o=(n=e)*(i=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(n=e.n,i=e.d,"s"in e&&(n*=e.s)):0 in e?(n=e[0],1 in e&&(i=e[1])):g(),o=n*i;break;case"number":if(e<0&&(e=-(o=e)),e%1==0)n=e;else if(0<e){for(1<=e&&(e/=f=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));p<=1e7&&h<=1e7;){if(e===(r=(l+m)/(p+h))){p+h<=1e7?(n=l+m,i=p+h):p<h?(n=m,i=h):(n=l,i=p);break}r<e?(l+=m,p+=h):(m+=l,h+=p),1e7<p?(n=m,i=h):(n=l,i=p)}n*=f}else(isNaN(e)||isNaN(t))&&(i=n=NaN);break;case"string":if(null===(p=e.match(/\d+|./g))&&g(),"-"===p[l]?(o=-1,l++):"+"===p[l]&&l++,p.length===l+1?s=y(p[l++],o):"."===p[l+1]||"."===p[l]?("."!==p[l]&&(a=y(p[l++],o)),(++l+1===p.length||"("===p[l+1]&&")"===p[l+3]||"'"===p[l+1]&&"'"===p[l+3])&&(s=y(p[l],o),c=Math.pow(10,p[l].length),l++),("("===p[l]&&")"===p[l+2]||"'"===p[l]&&"'"===p[l+2])&&(u=y(p[l+1],o),f=Math.pow(10,p[l+1].length)-1,l+=3)):"/"===p[l+1]||":"===p[l+1]?(s=y(p[l],o),c=y(p[l+2],1),l+=3):"/"===p[l+3]&&" "===p[l+1]&&(a=y(p[l],o),s=y(p[l+2],o),c=y(p[l+4],1),l+=5),p.length<=l){o=n=u+(i=c*f)*a+f*s;break}default:g()}if(0===i)throw new v;d.s=o<0?-1:1,d.n=Math.abs(n),d.d=Math.abs(i)};function s(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function u(e,t){if(!(this instanceof u))return new u(e,t);n(e,t),e=u.REDUCE?s(d.d,d.n):1,this.s=d.s,this.n=d.n/e,this.d=d.d/e}u.REDUCE=1,u.prototype={s:1,n:0,d:1,abs:function(){return new u(this.n,this.d)},neg:function(){return new u(-this.s*this.n,this.d)},add:function(e,t){return n(e,t),new u(this.s*this.n*d.d+d.s*this.d*d.n,this.d*d.d)},sub:function(e,t){return n(e,t),new u(this.s*this.n*d.d-d.s*this.d*d.n,this.d*d.d)},mul:function(e,t){return n(e,t),new u(this.s*d.s*this.n*d.n,this.d*d.d)},div:function(e,t){return n(e,t),new u(this.s*d.s*this.n*d.d,this.d*d.n)},clone:function(){return new u(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new u(NaN):void 0===e?new u(this.s*this.n%this.d,1):(n(e,t),0===d.n&&0===this.d&&u(0,0),new u(this.s*(d.d*this.n)%(d.n*this.d),d.d*this.d))},gcd:function(e,t){return n(e,t),new u(s(d.n,this.n)*s(d.d,this.d),d.d*this.d)},lcm:function(e,t){return n(e,t),0===d.n&&0===this.n?new u:new u(d.n*this.n,s(d.n,this.n)*s(d.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new u(this.s*this.d,this.n)},pow:function(e){return e<0?new u(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new u(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return n(e,t),this.s*this.n*d.d==d.s*d.n*this.d},compare:function(e,t){n(e,t);var r=this.s*this.n*d.d-d.s*d.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();function r(e){return 1===e.length?new u(e[0]):r(e.slice(1)).inverse().add(e[0])}e=e||.001;for(var n=0;n<t.length;n++){var i=r(t.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<e)return i.mul(this.s)}return this},divisible:function(e,t){return n(e,t),!(!(d.n*this.d)||this.n*d.d%(d.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&0<(t=Math.floor(n/i))&&(r+=t,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&0<(t=Math.floor(n/i))&&(r+=t,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var e,t=this.n,r=this.d,n=[];if(isNaN(this.n)||isNaN(this.d))return n;for(;n.push(Math.floor(t/r)),e=t%r,t=r,r=e,1!==t;);return n},toString:function(){var e,t=this.n,r=this.d;if(isNaN(t)||isNaN(r))return"NaN";u.REDUCE||(t/=e=s(t,r),r/=e);var n=function(e,t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var r=10%t,n=1;1!==r;n++)if(r=10*r%t,2e3<n)return 0;return n}(0,r),i=function(e,t,r){for(var n=1,i=function(e,t,r){for(var n=1;0<t;e=e*e%r,t>>=1)1&t&&(n=n*e%r);return n}(10,r,t),o=0;o<300;o++){if(n===i)return o;n=10*n%t,i=10*i%t}return 0}(0,r,n),o=-1===this.s?"-":"";if(o+=t/r|0,t%=r,(t*=10)&&(o+="."),n){for(var a=i;a--;)o+=t/r|0,t%=r,t*=10;o+="(";for(a=n;a--;)o+=t/r|0,t%=r,t*=10;o+=")"}else for(a=15;t&&a--;)o+=t/r|0,t%=r,t*=10;return o}},void 0===(a=function(){return u}.apply(o,[]))||(i.exports=a)}()},function(e,t,r){"use strict";var i=r(546);i.prototype.type="Fraction",i.prototype.isFraction=!0,i.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},i.fromJSON=function(e){return new i(e)},t.name="Fraction",t.path="type",t.factory=function(e,t,r,n){return i}},function(e,t,r){"use strict";e.exports=[r(547),r(146)]},function(e,t,r){"use strict";var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},m={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\\\newline{}","\n":"\\\\newline{}"},h=function(e,t){return l({},e,t)};e.exports=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.preserveFormatting,n=void 0!==r&&r,i=t.escapeMapFn,o=void 0===i?h:i,a=String(e),s="",u=o(l({},p),n?l({},m):{}),c=Object.keys(u),f=function(){var r=!1;c.forEach(function(e,t){r||a.length>=e.length&&a.slice(0,e.length)===e&&(s+=u[c[t]],a=a.slice(e.length,a.length),r=!0)}),r||(s+=a.slice(0,1),a=a.slice(1,a.length))};a;)f();return s}},function(e,t,a){"use strict";var s=a(0);t.name="complex",t.factory=function(r,e,t,n){var i=a(4),o=n("complex",{"":function(){return r.Complex.ZERO},number:function(e){return new r.Complex(e,0)},"number, number":function(e,t){return new r.Complex(e,t)},"BigNumber, BigNumber":function(e,t){return new r.Complex(e.toNumber(),t.toNumber())},Complex:function(e){return e.clone()},string:function(e){return r.Complex(e)},null:function(e){return r.Complex(0)},Object:function(e){if("re"in e&&"im"in e)return new r.Complex(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new r.Complex(e);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(e){return s(e,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+"+i.symbols.i+"\\cdot\\left(${args[1]}\\right)\\right)"},o}},function(t,r,e){var a;
/**
 * @license Complex.js v2.0.11 11/02/2016
 *
 * Copyright (c) 2016, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 * @license Complex.js v2.0.11 11/02/2016
 *
 * Copyright (c) 2016, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(e){"use strict";var n=function(e){return.5*(Math.exp(e)+Math.exp(-e))},i=function(e){return.5*(Math.exp(e)-Math.exp(-e))},u=function(){throw SyntaxError("Invalid Param")};function c(e,t){var r=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(r):r<3e3&&n<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}var o=function(e,t){var r={re:0,im:0};if(null==e)r.re=r.im=0;else if(void 0!==t)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return f.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return f.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else 2===e.length?(r.re=e[0],r.im=e[1]):u();break;case"string":r.im=r.re=0;var n=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,o=0;null===n&&u();for(var a=0;a<n.length;a++){var s=n[a];" "===s||"\t"===s||"\n"===s||("+"===s?i++:"-"===s?o++:("i"===s||"I"===s?(i+o===0&&u()," "===n[a+1]||isNaN(n[a+1])?r.im+=parseFloat((o%2?"-":"")+"1"):(r.im+=parseFloat((o%2?"-":"")+n[a+1]),a++)):((i+o===0||isNaN(s))&&u(),"i"===n[a+1]||"I"===n[a+1]?(r.im+=parseFloat((o%2?"-":"")+s),a++):r.re+=parseFloat((o%2?"-":"")+s)),i=o=0))}0<i+o&&u();break;case"number":r.im=0,r.re=e;break;default:u()}return isNaN(r.re)||isNaN(r.im),r};function f(e,t){if(!(this instanceof f))return new f(e,t);var r=o(e,t);this.re=r.re,this.im=r.im}f.prototype={re:0,im:0,sign:function(){var e=this.abs();return new f(this.re/e,this.im/e)},add:function(e,t){var r=new f(e,t);return this.isInfinite()&&r.isInfinite()?f.NAN:this.isInfinite()||r.isInfinite()?f.INFINITY:new f(this.re+r.re,this.im+r.im)},sub:function(e,t){var r=new f(e,t);return this.isInfinite()&&r.isInfinite()?f.NAN:this.isInfinite()||r.isInfinite()?f.INFINITY:new f(this.re-r.re,this.im-r.im)},mul:function(e,t){var r=new f(e,t);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?f.NAN:this.isInfinite()||r.isInfinite()?f.INFINITY:0===r.im&&0===this.im?new f(this.re*r.re,0):new f(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){var r=new f(e,t);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return f.NAN;if(this.isInfinite()||r.isZero())return f.INFINITY;if(this.isZero()||r.isInfinite())return f.ZERO;e=this.re,t=this.im;var n,i,o=r.re,a=r.im;return 0===a?new f(e/o,t/o):Math.abs(o)<Math.abs(a)?new f((e*(i=o/a)+t)/(n=o*i+a),(t*i-e)/n):new f((e+t*(i=a/o))/(n=a*i+o),(t-e*i)/n)},pow:function(e,t){var r=new f(e,t);if(e=this.re,t=this.im,r.isZero())return f.ONE;if(0===r.im){if(0===t&&0<=e)return new f(Math.pow(e,r.re),0);if(0===e)switch((r.re%4+4)%4){case 0:return new f(Math.pow(t,r.re),0);case 1:return new f(0,Math.pow(t,r.re));case 2:return new f(-Math.pow(t,r.re),0);case 3:return new f(0,-Math.pow(t,r.re))}}if(0===e&&0===t&&0<r.re&&0<=r.im)return f.ZERO;var n=Math.atan2(t,e),i=c(e,t);return e=Math.exp(r.re*i-r.im*n),t=r.im*i+r.re*n,new f(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,r=this.re,n=this.im,i=this.abs();if(0<=r){if(0===n)return new f(Math.sqrt(r),0);e=.5*Math.sqrt(2*(i+r))}else e=Math.abs(n)/Math.sqrt(2*(i-r));return t=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new f(e,n<0?-t:t)},exp:function(){var e=Math.exp(this.re);return this.im,new f(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new f(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||t<e)return Math.cos(e)-1;var r=e*e;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new f(c(e,t),Math.atan2(t,e))},abs:function(){return e=this.re,t=this.im,r=Math.abs(e),n=Math.abs(t),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=e/t):n=t/e,r*Math.sqrt(1+n*n));var e,t,r,n},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new f(Math.sin(e)*n(t),Math.cos(e)*i(t))},cos:function(){var e=this.re,t=this.im;return new f(Math.cos(e)*n(t),-Math.sin(e)*i(t))},tan:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)+n(t);return new f(Math.sin(e)/r,i(t)/r)},cot:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)-n(t);return new f(-Math.sin(e)/r,i(t)/r)},sec:function(){var e=this.re,t=this.im,r=.5*n(2*t)+.5*Math.cos(2*e);return new f(Math.cos(e)*n(t)/r,Math.sin(e)*i(t)/r)},csc:function(){var e=this.re,t=this.im,r=.5*n(2*t)-.5*Math.cos(2*e);return new f(Math.sin(e)*n(t)/r,-Math.cos(e)*i(t)/r)},asin:function(){var e=this.re,t=this.im,r=new f(t*t-e*e+1,-2*e*t).sqrt(),n=new f(r.re-t,r.im+e).log();return new f(n.im,-n.re)},acos:function(){var e=this.re,t=this.im,r=new f(t*t-e*e+1,-2*e*t).sqrt(),n=new f(r.re-t,r.im+e).log();return new f(Math.PI/2-n.im,n.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new f(0,1/0);if(-1===t)return new f(0,-1/0)}var r=e*e+(1-t)*(1-t),n=new f((1-t*t-e*e)/r,-2*e/r).log();return new f(-.5*n.im,.5*n.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new f(Math.atan2(1,e),0);var r=e*e+t*t;return 0!==r?new f(e/r,-t/r).atan():new f(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new f(0,1/0);var r=e*e+t*t;return 0!==r?new f(e/r,-t/r).acos():new f(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new f(Math.PI/2,1/0);var r=e*e+t*t;return 0!==r?new f(e/r,-t/r).asin():new f(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new f(i(e)*Math.cos(t),n(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new f(n(e)*Math.cos(t),i(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,r=n(e)+Math.cos(t);return new f(i(e)/r,Math.sin(t)/r)},coth:function(){var e=2*this.re,t=2*this.im,r=n(e)-Math.cos(t);return new f(i(e)/r,-Math.sin(t)/r)},csch:function(){var e=this.re,t=this.im,r=Math.cos(2*t)-n(2*e);return new f(-2*i(e)*Math.cos(t)/r,2*n(e)*Math.sin(t)/r)},sech:function(){var e=this.re,t=this.im,r=Math.cos(2*t)+n(2*e);return new f(2*n(e)*Math.cos(t)/r,-2*i(e)*Math.sin(t)/r)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else{t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){var e=this.re,t=this.im,r=1<e&&0===t,n=1-e,i=1+e,o=n*n+t*t,a=0!==o?new f((i*n-t*t)/o,(t*n+i*t)/o):new f(-1!==e?e/0:0,0!==t?t/0:0),s=a.re;return a.re=c(a.re,a.im)/2,a.im=Math.atan2(a.im,s)/2,r&&(a.im=-a.im),a},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new f(0,Math.PI/2);var r=e*e+t*t;return 0!==r?new f(e/r,-t/r).atanh():new f(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new f(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var r=e*e+t*t;return 0!==r?new f(e/r,-t/r).asinh():new f(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return f.INFINITY;var r=e*e+t*t;return 0!==r?new f(e/r,-t/r).acosh():new f(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return f.INFINITY;if(this.isInfinite())return f.ZERO;var e=this.re,t=this.im,r=e*e+t*t;return new f(e/r,-t/r)},conjugate:function(){return new f(this.re,-this.im)},neg:function(){return new f(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new f(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new f(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new f(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var r=new f(e,t);return Math.abs(r.re-this.re)<=f.EPSILON&&Math.abs(r.im-this.im)<=f.EPSILON},clone:function(){return new f(this.re,this.im)},toString:function(){var e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==e&&(r+=e),0!==t&&(0!==e?r+=t<0?" - ":" + ":t<0&&(r+="-"),1!==(t=Math.abs(t))&&(r+=t),r+="i"),r||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},f.ZERO=new f(0,0),f.ONE=new f(1,0),f.I=new f(0,1),f.PI=new f(Math.PI,0),f.E=new f(Math.E,0),f.INFINITY=new f(1/0,1/0),f.NAN=new f(NaN,NaN),f.EPSILON=1e-16,void 0===(a=function(){return f}.apply(r,[]))||(t.exports=a)}()},function(e,t,r){"use strict";e.exports=[r(91),r(550)]},function(e,t,r){"use strict";t.name="chain",t.factory=function(t,e,r,n){return n("chain",{"":function(){return new t.Chain},any:function(e){return new t.Chain(e)}})}},function(e,u,t){"use strict";var c=t(5);u.format=function(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r="auto",n=void 0;switch(void 0!==t&&(t.notation&&(r=t.notation),"number"==typeof t?n=t:t.precision&&(n=t.precision)),r){case"fixed":return u.toFixed(e,n);case"exponential":return u.toExponential(e,n);case"auto":if(t&&t.exponential&&(void 0!==t.exponential.lower||void 0!==t.exponential.upper)){var i=c.map(t,function(e){return e});return(i.exponential=void 0)!==t.exponential.lower&&(i.lowerExp=Math.round(Math.log(t.exponential.lower)/Math.LN10)),void 0!==t.exponential.upper&&(i.upperExp=Math.round(Math.log(t.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(t)+" with "+JSON.stringify(i)),u.format(e,i)}var o=t&&void 0!==t.lowerExp?t.lowerExp:-3,a=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var s=e.logarithm();return(s.gte(o)&&s.lt(a)?e.toSignificantDigits(n).toFixed():u.toExponential(e,n)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},u.toExponential=function(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()},u.toFixed=function(e,t){return e.toFixed(t)}},function(e,t,r){"use strict";var u=r(9).format,c=r(5).lazy;t.name="Chain",t.path="type",t.factory=function(t,e,r,n,i){function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");t.isChain(e)?this.value=e.value:this.value=e}function a(e,t){"function"==typeof t&&(o.prototype[e]=s(t))}function s(r){return function(){for(var e=[this.value],t=0;t<arguments.length;t++)e[t+1]=arguments[t];return new o(r.apply(r,e))}}return o.prototype.type="Chain",o.prototype.isChain=!0,o.prototype.done=function(){return this.value},o.prototype.valueOf=function(){return this.value},o.prototype.toString=function(){return u(this.value)},o.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},o.fromJSON=function(e){return new o(e.value)},o.createProxy=function(e,t){if("string"==typeof e)a(e,t);else for(var r in e)e.hasOwnProperty(r)&&a(r,e[r])},o.createProxy(i),i.on("import",function(e,t,r){var n;void 0===r&&(n=t,c(o.prototype,e,function(){var e=n();if("function"==typeof e)return s(e)}))}),o},t.math=!0,t.lazy=!1},function(e,t,r){"use strict";e.exports=[r(555),r(553)]},function(e,t,r){"use strict";var o=r(0);t.name="boolean",t.factory=function(e,t,r,n){var i=n("bool",{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var r=Number(e);if(""!==e&&!isNaN(r))return!!r;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return o(e,i)}});return i}},function(e,t,r){"use strict";var o=r(0);t.name="bignumber",t.factory=function(t,e,r,n){var i=n("bignumber",{"":function(){return new t.BigNumber(0)},number:function(e){return new t.BigNumber(e+"")},string:function(e){return new t.BigNumber(e)},BigNumber:function(e){return e},Fraction:function(e){return new t.BigNumber(e.n).div(e.d)},null:function(e){return new t.BigNumber(0)},"Array | Matrix":function(e){return o(e,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)"},i}},function(Ie,ke,Pe){var Re;!function(e){"use strict";var l,I,a,s=9e15,d=1e9,v="0123456789abcdef",n="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",i="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",u={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-s,maxE:s,crypto:!1},x=!0,c="[DecimalError] ",y=c+"Invalid argument: ",o=c+"Precision limit exceeded",f=c+"crypto unavailable",k=Math.floor,g=Math.pow,p=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,m=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,h=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,b=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,P=1e7,R=7,w=n.length-1,N=i.length-1,M={name:"[object Decimal]"};function E(e){var t,r,n,i=e.length-1,o="",a=e[0];if(0<i){for(o+=a,t=1;t<i;t++)n=e[t]+"",(r=R-n.length)&&(o+=D(r)),o+=n;a=e[t],(r=R-(n=a+"").length)&&(o+=D(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function A(e,t,r){if(e!==~~e||e<t||r<e)throw Error(y+e)}function S(e,t,r,n){var i,o,a,s;for(o=e[0];10<=o;o/=10)--t;return--t<0?(t+=R,i=0):(i=Math.ceil((t+1)/R),t%=R),o=g(10,R-t),s=e[i]%o|0,null==n?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),a=r<4&&99999==s||3<r&&49999==s||5e4==s||0==s):a=(r<4&&s+1==o||3<r&&s+1==o/2)&&(e[i+1]/o/100|0)==g(10,t-2)-1||(s==o/2||0==s)&&0==(e[i+1]/o/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),a=(n||r<4)&&9999==s||!n&&3<r&&4999==s):a=((n||r<4)&&s+1==o||!n&&3<r&&s+1==o/2)&&(e[i+1]/o/1e3|0)==g(10,t-3)-1,a}function O(e,t,r){for(var n,i,o=[0],a=0,s=e.length;a<s;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=v.indexOf(e.charAt(a++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}M.absoluteValue=M.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),U(e)},M.ceil=function(){return U(new this.constructor(this),this.e+1,2)},M.comparedTo=M.cmp=function(e){var t,r,n,i,o=this.d,a=(e=new this.constructor(e)).d,s=this.s,u=e.s;if(!o||!a)return s&&u?s!==u?s:o===a?0:!o^s<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?s:a[0]?-u:0;if(s!==u)return s;if(this.e!==e.e)return this.e>e.e^s<0?1:-1;for(t=0,r=(n=o.length)<(i=a.length)?n:i;t<r;++t)if(o[t]!==a[t])return o[t]>a[t]^s<0?1:-1;return n===i?0:i<n^s<0?1:-1},M.cosine=M.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+R,n.rounding=1,r=function(e,t){var r,n,i=t.d.length;i<32?(r=Math.ceil(i/3),n=Math.pow(4,-r).toString()):(r=16,n="2.3283064365386962890625e-10");e.precision+=r,t=Z(e,1,t.times(n),new e(1));for(var o=r;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}(n,V(n,r)),n.precision=e,n.rounding=t,U(2==a||3==a?r.neg():r,e,t,!0)):new n(1):new n(NaN)},M.cubeRoot=M.cbrt=function(){var e,t,r,n,i,o,a,s,u,c,f=this,l=f.constructor;if(!f.isFinite()||f.isZero())return new l(f);for(x=!1,(o=f.s*Math.pow(f.s*f,1/3))&&Math.abs(o)!=1/0?n=new l(o.toString()):(r=E(f.d),(o=((e=f.e)-r.length+1)%3)&&(r+=1==o||-2==o?"0":"00"),o=Math.pow(r,1/3),e=k((e+1)/3)-(e%3==(e<0?-1:2)),(n=new l(r=o==1/0?"5e"+e:(r=o.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=f.s),a=(e=l.precision)+3;;)if(c=(u=(s=n).times(s).times(s)).plus(f),n=T(c.plus(f).times(s),c.plus(u),a+2,1),E(s.d).slice(0,a)===(r=E(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(U(n,e+1,1),t=!n.times(n).times(n).eq(f));break}if(!i&&(U(s,e+1,0),s.times(s).times(s).eq(f))){n=s;break}a+=4,i=1}return x=!0,U(n,e,l.rounding,t)},M.decimalPlaces=M.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-k(this.e/R))*R,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},M.dividedBy=M.div=function(e){return T(this,new this.constructor(e))},M.dividedToIntegerBy=M.divToInt=function(e){var t=this.constructor;return U(T(this,new t(e),0,1,1),t.precision,t.rounding)},M.equals=M.eq=function(e){return 0===this.cmp(e)},M.floor=function(){return U(new this.constructor(this),this.e+1,3)},M.greaterThan=M.gt=function(e){return 0<this.cmp(e)},M.greaterThanOrEqualTo=M.gte=function(e){var t=this.cmp(e);return 1==t||0===t},M.hyperbolicCosine=M.cosh=function(){var e,t,r,n,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;r=a.precision,n=a.rounding,a.precision=r+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?(e=Math.ceil(i/3),t=Math.pow(4,-e).toString()):(e=16,t="2.3283064365386962890625e-10"),o=Z(a,1,o.times(t),new a(1),!0);for(var u,c=e,f=new a(8);c--;)u=o.times(o),o=s.minus(u.times(f.minus(u.times(f))));return U(o,a.precision=r,a.rounding=n,!0)},M.hyperbolicSine=M.sinh=function(){var e,t,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,r=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(n=i.d.length)<3)i=Z(o,2,i,i,!0);else{e=16<(e=1.4*Math.sqrt(n))?16:0|e,i=Z(o,2,i=i.times(Math.pow(5,-e)),i,!0);for(var a,s=new o(5),u=new o(16),c=new o(20);e--;)a=i.times(i),i=i.times(s.plus(a.times(u.times(a).plus(c))))}return U(i,o.precision=t,o.rounding=r,!0)},M.hyperbolicTangent=M.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,T(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},M.inverseCosine=M.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,o=r.rounding;return-1!==n?0===n?t.isNeg()?B(r,i,o):new r(0):new r(NaN):t.isZero()?B(r,i+4,o).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=B(r,i+4,o).times(.5),r.precision=i,r.rounding=o,e.minus(t))},M.inverseHyperbolicCosine=M.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,x=!1,r=r.times(r).minus(1).sqrt().plus(r),x=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},M.inverseHyperbolicSine=M.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,x=!1,r=r.times(r).plus(1).sqrt().plus(r),x=!0,n.precision=e,n.rounding=t,r.ln())},M.inverseHyperbolicTangent=M.atanh=function(){var e,t,r,n,i=this,o=i.constructor;return i.isFinite()?0<=i.e?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?U(new o(i),e,t,!0):(o.precision=r=n-i.e,i=T(i.plus(1),new o(1).minus(i),r+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},M.inverseSine=M.asin=function(){var e,t,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),r=o.precision,n=o.rounding,-1!==t?0===t?((e=B(o,r+4,n).times(.5)).s=i.s,e):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))},M.inverseTangent=M.atan=function(){var e,t,r,n,i,o,a,s,u,c=this,f=c.constructor,l=f.precision,p=f.rounding;if(c.isFinite()){if(c.isZero())return new f(c);if(c.abs().eq(1)&&l+4<=N)return(a=B(f,l+4,p).times(.25)).s=c.s,a}else{if(!c.s)return new f(NaN);if(l+4<=N)return(a=B(f,l+4,p).times(.5)).s=c.s,a}for(f.precision=s=l+10,f.rounding=1,e=r=Math.min(28,s/R+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(x=!1,t=Math.ceil(s/R),n=1,u=c.times(c),a=new f(c),i=c;-1!==e;)if(i=i.times(u),o=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=o.plus(i.div(n+=2))).d[t])for(e=t;a.d[e]===o.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),x=!0,U(a,f.precision=l,f.rounding=p,!0)},M.isFinite=function(){return!!this.d},M.isInteger=M.isInt=function(){return!!this.d&&k(this.e/R)>this.d.length-2},M.isNaN=function(){return!this.s},M.isNegative=M.isNeg=function(){return this.s<0},M.isPositive=M.isPos=function(){return 0<this.s},M.isZero=function(){return!!this.d&&0===this.d[0]},M.lessThan=M.lt=function(e){return this.cmp(e)<0},M.lessThanOrEqualTo=M.lte=function(e){return this.cmp(e)<1},M.logarithm=M.log=function(e){var t,r,n,i,o,a,s,u,c=this.constructor,f=c.precision,l=c.rounding;if(null==e)e=new c(10),t=!0;else{if(r=(e=new c(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new c(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(1<r.length)o=!0;else{for(i=r[0];i%10==0;)i/=10;o=1!==i}if(x=!1,a=$(this,s=f+5),n=t?z(c,s+10):$(e,s),S((u=T(a,n,s,1)).d,i=f,l))do{if(a=$(this,s+=10),n=t?z(c,s+10):$(e,s),u=T(a,n,s,1),!o){+E(u.d).slice(i+1,i+15)+1==1e14&&(u=U(u,f+1,0));break}}while(S(u.d,i+=10,l));return x=!0,U(u,f,l)},M.minus=M.sub=function(e){var t,r,n,i,o,a,s,u,c,f,l,p,m=this,h=m.constructor;if(e=new h(e),!m.d||!e.d)return m.s&&e.s?m.d?e.s=-e.s:e=new h(e.d||m.s!==e.s?m:NaN):e=new h(NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(c=m.d,p=e.d,s=h.precision,u=h.rounding,!c[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!c[0])return new h(3===u?-0:0);e=new h(m)}return x?U(e,s,u):e}if(r=k(e.e/R),f=k(m.e/R),c=c.slice(),o=f-r){for((l=o<0)?(t=c,o=-o,a=p.length):(t=p,r=f,a=c.length),(n=Math.max(Math.ceil(s/R),a)+2)<o&&(o=n,t.length=1),t.reverse(),n=o;n--;)t.push(0);t.reverse()}else{for((l=(n=c.length)<(a=p.length))&&(a=n),n=0;n<a;n++)if(c[n]!=p[n]){l=c[n]<p[n];break}o=0}for(l&&(t=c,c=p,p=t,e.s=-e.s),a=c.length,n=p.length-a;0<n;--n)c[a++]=0;for(n=p.length;o<n;){if(c[--n]<p[n]){for(i=n;i&&0===c[--i];)c[i]=P-1;--c[i],c[n]+=P}c[n]-=p[n]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=C(c,r),x?U(e,s,u):e):new h(3===u?-0:0)},M.modulo=M.mod=function(e){var t,r=this.constructor;return e=new r(e),!this.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||this.d&&!this.d[0]?U(new r(this),r.precision,r.rounding):(x=!1,9==r.modulo?(t=T(this,e.abs(),0,3,1)).s*=e.s:t=T(this,e,0,r.modulo,1),t=t.times(e),x=!0,this.minus(t))},M.naturalExponential=M.exp=function(){return j(this)},M.naturalLogarithm=M.ln=function(){return $(this)},M.negated=M.neg=function(){var e=new this.constructor(this);return e.s=-e.s,U(e)},M.plus=M.add=function(e){var t,r,n,i,o,a,s,u,c,f,l=this,p=l.constructor;if(e=new p(e),!l.d||!e.d)return l.s&&e.s?l.d||(e=new p(e.d||l.s===e.s?l:NaN)):e=new p(NaN),e;if(l.s!=e.s)return e.s=-e.s,l.minus(e);if(c=l.d,f=e.d,s=p.precision,u=p.rounding,!c[0]||!f[0])return f[0]||(e=new p(l)),x?U(e,s,u):e;if(o=k(l.e/R),n=k(e.e/R),c=c.slice(),i=o-n){for(i<0?(r=c,i=-i,a=f.length):(r=f,n=o,a=c.length),(a=a<(o=Math.ceil(s/R))?o+1:a+1)<i&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((a=c.length)-(i=f.length)<0&&(i=a,r=f,f=c,c=r),t=0;i;)t=(c[--i]=c[i]+f[i]+t)/P|0,c[i]%=P;for(t&&(c.unshift(t),++n),a=c.length;0==c[--a];)c.pop();return e.d=c,e.e=C(c,n),x?U(e,s,u):e},M.precision=M.sd=function(e){var t;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(y+e);return this.d?(t=q(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},M.round=function(){var e=this.constructor;return U(new e(this),this.e+1,e.rounding)},M.sine=M.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+R,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return Z(e,2,t,t);r=16<(r=1.4*Math.sqrt(n))?16:0|r,t=t.times(Math.pow(5,-r)),t=Z(e,2,t,t);for(var i,o=new e(5),a=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(o.plus(i.times(a.times(i).minus(s))));return t}(n,V(n,r)),n.precision=e,n.rounding=t,U(2<a?r.neg():r,e,t,!0)):new n(NaN)},M.squareRoot=M.sqrt=function(){var e,t,r,n,i,o,a=this.d,s=this.e,u=this.s,c=this.constructor;if(1!==u||!a||!a[0])return new c(!u||u<0&&(!a||a[0])?NaN:a?this:1/0);for(x=!1,0==(u=Math.sqrt(+this))||u==1/0?(((t=E(a)).length+s)%2==0&&(t+="0"),u=Math.sqrt(t),s=k((s+1)/2)-(s<0||s%2),n=new c(t=u==1/0?"1e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):n=new c(u.toString()),r=(s=c.precision)+3;;)if(n=(o=n).plus(T(this,o,r+2,1)).times(.5),E(o.d).slice(0,r)===(t=E(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(U(n,s+1,1),e=!n.times(n).eq(this));break}if(!i&&(U(o,s+1,0),o.times(o).eq(this))){n=o;break}r+=4,i=1}return x=!0,U(n,s,c.rounding,e)},M.tangent=M.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=T(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,U(2==a||4==a?r.neg():r,e,t,!0)):new n(NaN)},M.times=M.mul=function(e){var t,r,n,i,o,a,s,u,c,f=this.constructor,l=this.d,p=(e=new f(e)).d;if(e.s*=this.s,!(l&&l[0]&&p&&p[0]))return new f(!e.s||l&&!l[0]&&!p||p&&!p[0]&&!l?NaN:l&&p?0*e.s:e.s/0);for(r=k(this.e/R)+k(e.e/R),(u=l.length)<(c=p.length)&&(o=l,l=p,p=o,a=u,u=c,c=a),o=[],n=a=u+c;n--;)o.push(0);for(n=c;0<=--n;){for(t=0,i=u+n;n<i;)s=o[i]+p[n]*l[i-n-1]+t,o[i--]=s%P|0,t=s/P|0;o[i]=(o[i]+t)%P|0}for(;!o[--a];)o.pop();return t?++r:o.shift(),e.d=o,e.e=C(o,r),x?U(e,f.precision,f.rounding):e},M.toBinary=function(e,t){return r(this,2,e,t)},M.toDecimalPlaces=M.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(A(e,0,d),void 0===t?t=n.rounding:A(t,0,8),U(r,e+r.e+1,t))},M.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=_(n,!0):(A(e,0,d),void 0===t?t=i.rounding:A(t,0,8),r=_(n=U(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},M.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?r=_(this):(A(e,0,d),void 0===t?t=i.rounding:A(t,0,8),r=_(n=U(new i(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},M.toFraction=function(e){var t,r,n,i,o,a,s,u,c,f,l,p,m=this.d,h=this.constructor;if(!m)return new h(this);if(c=r=new h(1),a=(o=(t=new h(n=u=new h(0))).e=q(m)-this.e-1)%R,t.d[0]=g(10,a<0?R+a:a),null==e)e=0<o?t:c;else{if(!(s=new h(e)).isInt()||s.lt(c))throw Error(y+s);e=s.gt(t)?0<o?t:c:s}for(x=!1,s=new h(E(m)),f=h.precision,h.precision=o=m.length*R*2;l=T(s,t,0,1,1),1!=(i=r.plus(l.times(n))).cmp(e);)r=n,n=i,i=c,c=u.plus(l.times(i)),u=i,i=t,t=s.minus(l.times(i)),s=i;return i=T(e.minus(r),n,0,1,1),u=u.plus(i.times(c)),r=r.plus(i.times(n)),u.s=c.s=this.s,p=T(c,n,o,1).minus(this).abs().cmp(T(u,r,o,1).minus(this).abs())<1?[c,n]:[u,r],h.precision=f,x=!0,p},M.toHexadecimal=M.toHex=function(e,t){return r(this,16,e,t)},M.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:A(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(x=!1,r=T(r,e,0,t,1).times(e),x=!0,U(r)):(e.s=r.s,r=e),r},M.toNumber=function(){return+this},M.toOctal=function(e,t){return r(this,8,e,t)},M.toPower=M.pow=function(e){var t,r,n,i,o,a,s=this,u=s.constructor,c=+(e=new u(e));if(!(s.d&&e.d&&s.d[0]&&e.d[0]))return new u(g(+s,c));if((s=new u(s)).eq(1))return s;if(n=u.precision,o=u.rounding,e.eq(1))return U(s,n,o);if((t=k(e.e/R))>=e.d.length-1&&(r=c<0?-c:c)<=9007199254740991)return i=L(u,s,r,n),e.s<0?new u(1).div(i):U(i,n,o);if((a=s.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(t=0!=(r=g(+s,c))&&isFinite(r)?new u(r+"").e:k(c*(Math.log("0."+E(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(0<t?a/0:0):(x=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(i=j(e.times($(s,n+r)),n)).d&&S((i=U(i,n+5,1)).d,n,o)&&(t=n+10,+E((i=U(j(e.times($(s,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=U(i,n+1,0))),i.s=a,x=!0,U(i,n,u.rounding=o))},M.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=_(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(A(e,1,d),void 0===t?t=i.rounding:A(t,0,8),r=_(n=U(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},M.toSignificantDigits=M.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(A(e,1,d),void 0===t?t=r.rounding:A(t,0,8)),U(new r(this),e,t)},M.toString=function(){var e=this.constructor,t=_(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},M.truncated=M.trunc=function(){return U(new this.constructor(this),this.e+1,1)},M.valueOf=M.toJSON=function(){var e=this.constructor,t=_(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var T=function(){function C(e,t,r){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+i,e[o]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function z(e,t,r,n){var i,o;if(r!=n)o=n<r?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function B(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&1<e.length;)e.shift()}return function(e,t,r,n,i,o){var a,s,u,c,f,l,p,m,h,d,v,y,g,x,b,w,N,M,E,A,S=e.constructor,O=e.s==t.s?1:-1,T=e.d,_=t.d;if(!(T&&T[0]&&_&&_[0]))return new S(e.s&&t.s&&(T?!_||T[0]!=_[0]:_)?T&&0==T[0]||!_?0*O:O/0:NaN);for(o?(f=1,s=e.e-t.e):(o=P,f=R,s=k(e.e/f)-k(t.e/f)),E=_.length,N=T.length,d=(h=new S(O)).d=[],u=0;_[u]==(T[u]||0);u++);if(_[u]>(T[u]||0)&&s--,null==r?(x=r=S.precision,n=S.rounding):x=i?r+(e.e-t.e)+1:r,x<0)d.push(1),l=!0;else{if(x=x/f+2|0,u=0,1==E){for(_=_[c=0],x++;(u<N||c)&&x--;u++)b=c*o+(T[u]||0),d[u]=b/_|0,c=b%_|0;l=c||u<N}else{for(1<(c=o/(_[0]+1)|0)&&(_=C(_,c,o),T=C(T,c,o),E=_.length,N=T.length),w=E,y=(v=T.slice(0,E)).length;y<E;)v[y++]=0;for((A=_.slice()).unshift(0),M=_[0],_[1]>=o/2&&++M;c=0,(a=z(_,v,E,y))<0?(g=v[0],E!=y&&(g=g*o+(v[1]||0)),1<(c=g/M|0)?(o<=c&&(c=o-1),1==(a=z(p=C(_,c,o),v,m=p.length,y=v.length))&&(c--,B(p,E<m?A:_,m,o))):(0==c&&(a=c=1),p=_.slice()),(m=p.length)<y&&p.unshift(0),B(v,p,y,o),-1==a&&(a=z(_,v,E,y=v.length))<1&&(c++,B(v,E<y?A:_,y,o)),y=v.length):0===a&&(c++,v=[0]),d[u++]=c,a&&v[0]?v[y++]=T[w]||0:(v=[T[w]],y=1),(w++<N||void 0!==v[0])&&x--;);l=void 0!==v[0]}d[0]||d.shift()}if(1==f)h.e=s,I=l;else{for(u=1,c=d[0];10<=c;c/=10)u++;h.e=u+s*f-1,U(h,i?r+h.e+1:r,n,l)}return h}}();function U(e,t,r,n){var i,o,a,s,u,c,f,l,p,m=e.constructor;e:if(null!=t){if(!(l=e.d))return e;for(i=1,s=l[0];10<=s;s/=10)i++;if((o=t-i)<0)o+=R,a=t,u=(f=l[p=0])/g(10,i-a-1)%10|0;else if(p=Math.ceil((o+1)/R),(s=l.length)<=p){if(!n)break e;for(;s++<=p;)l.push(0);f=u=0,a=(o%=R)-R+(i=1)}else{for(f=s=l[p],i=1;10<=s;s/=10)i++;u=(a=(o%=R)-R+i)<0?0:f/g(10,i-a-1)%10|0}if(n=n||t<0||void 0!==l[p+1]||(a<0?f:f%g(10,i-a-1)),c=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):5<u||5==u&&(4==r||n||6==r&&(0<o?0<a?f/g(10,i-a):0:l[p-1])%10&1||r==(e.s<0?8:7)),t<1||!l[0])return l.length=0,c?(t-=e.e+1,l[0]=g(10,(R-t%R)%R),e.e=-t||0):l[0]=e.e=0,e;if(0==o?(l.length=p,s=1,p--):(l.length=p+1,s=g(10,R-o),l[p]=0<a?(f/g(10,i-a)%g(10,a)|0)*s:0),c)for(;;){if(0==p){for(o=1,a=l[0];10<=a;a/=10)o++;for(a=l[0]+=s,s=1;10<=a;a/=10)s++;o!=s&&(e.e++,l[0]==P&&(l[0]=1));break}if(l[p]+=s,l[p]!=P)break;l[p--]=0,s=1}for(o=l.length;0===l[--o];)l.pop()}return x&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e}function _(e,t,r){if(!e.isFinite())return H(e);var n,i=e.e,o=E(e.d),a=o.length;return t?(r&&0<(n=r-a)?o=o.charAt(0)+"."+o.slice(1)+D(n):1<a&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+D(-i-1)+o,r&&0<(n=r-a)&&(o+=D(n))):a<=i?(o+=D(i+1-a),r&&0<(n=r-i-1)&&(o=o+"."+D(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&0<(n=r-a)&&(i+1===a&&(o+="."),o+=D(n))),o}function C(e,t){var r=e[0];for(t*=R;10<=r;r/=10)t++;return t}function z(e,t,r){if(w<t)throw x=!0,r&&(e.precision=r),Error(o);return U(new e(n),t,1,!0)}function B(e,t,r){if(N<t)throw Error(o);return U(new e(i),t,r,!0)}function q(e){var t=e.length-1,r=t*R+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];10<=t;t/=10)r++}return r}function D(e){for(var t="";e--;)t+="0";return t}function L(e,t,r,n){var i,o=new e(1),a=Math.ceil(n/R+4);for(x=!1;;){if(r%2&&W((o=o.times(t)).d,a)&&(i=!0),0===(r=k(r/2))){r=o.d.length-1,i&&0===o.d[r]&&++o.d[r];break}W((t=t.times(t)).d,a)}return x=!0,o}function F(e){return 1&e.d[e.d.length-1]}function t(e,t,r){for(var n,i=new e(t[0]),o=0;++o<t.length;){if(!(n=new e(t[o])).s){i=n;break}i[r](n)&&(i=n)}return i}function j(e,t){var r,n,i,o,a,s,u,c=0,f=0,l=0,p=e.constructor,m=p.rounding,h=p.precision;if(!e.d||!e.d[0]||17<e.e)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(x=!1,u=h):u=t,s=new p(.03125);-2<e.e;)e=e.times(s),l+=5;for(u+=n=Math.log(g(2,l))/Math.LN10*2+5|0,r=o=a=new p(1),p.precision=u;;){if(o=U(o.times(e),u,1),r=r.times(++f),E((s=a.plus(T(o,r,u,1))).d).slice(0,u)===E(a.d).slice(0,u)){for(i=l;i--;)a=U(a.times(a),u,1);if(null!=t)return p.precision=h,a;if(!(c<3&&S(a.d,u-n,m,c)))return U(a,p.precision=h,m,x=!0);p.precision=u+=10,r=o=s=new p(1),f=0,c++}a=s}}function $(e,t){var r,n,i,o,a,s,u,c,f,l,p,m=1,h=e,d=h.d,v=h.constructor,y=v.rounding,g=v.precision;if(h.s<0||!d||!d[0]||!h.e&&1==d[0]&&1==d.length)return new v(d&&!d[0]?-1/0:1!=h.s?NaN:d?0:h);if(null==t?(x=!1,f=g):f=t,v.precision=f+=10,n=(r=E(d)).charAt(0),!(Math.abs(o=h.e)<15e14))return c=z(v,f+2,g).times(o+""),h=$(new v(n+"."+r.slice(1)),f-10).plus(c),v.precision=g,null==t?U(h,g,y,x=!0):h;for(;n<7&&1!=n||1==n&&3<r.charAt(1);)n=(r=E((h=h.times(e)).d)).charAt(0),m++;for(o=h.e,1<n?(h=new v("0."+r),o++):h=new v(n+"."+r.slice(1)),u=a=h=T((l=h).minus(1),h.plus(1),f,1),p=U(h.times(h),f,1),i=3;;){if(a=U(a.times(p),f,1),E((c=u.plus(T(a,new v(i),f,1))).d).slice(0,f)===E(u.d).slice(0,f)){if(u=u.times(2),0!==o&&(u=u.plus(z(v,f+2,g).times(o+""))),u=T(u,new v(m),f,1),null!=t)return v.precision=g,u;if(!S(u.d,f-10,y,s))return U(u,v.precision=g,y,x=!0);v.precision=f+=10,c=a=h=T(l.minus(1),l.plus(1),f,1),p=U(h.times(h),f,1),i=s=1}u=c,i+=2}}function H(e){return String(e.s*e.s/0)}function G(e,t){var r,n,i;for(-1<(r=t.indexOf("."))&&(t=t.replace(".","")),0<(n=t.search(/e/i))?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%R,r<0&&(n+=R),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=R;n<i;)e.d.push(+t.slice(n,n+=R));t=t.slice(n),n=R-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),x&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Z(e,t,r,n,i){var o,a,s,u,c=e.precision,f=Math.ceil(c/R);for(x=!1,u=r.times(r),s=new e(n);;){if(a=T(s.times(u),new e(t++*t++),c,1),s=i?n.plus(a):n.minus(a),n=T(a.times(u),new e(t++*t++),c,1),void 0!==(a=s.plus(n)).d[f]){for(o=f;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=n,n=a,a=o,0}return x=!0,a.d.length=f+1,a}function V(e,t){var r,n=t.s<0,i=B(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return a=n?4:1,t;if((r=t.divToInt(i)).isZero())a=n?3:2;else{if((t=t.minus(r.times(i))).lte(o))return a=F(r)?n?2:3:n?4:1,t;a=F(r)?n?1:4:n?3:2}return t.minus(i).abs()}function r(e,t,r,n){var i,o,a,s,u,c,f,l,p,m=e.constructor,h=void 0!==r;if(h?(A(r,1,d),void 0===n?n=m.rounding:A(n,0,8)):(r=m.precision,n=m.rounding),e.isFinite()){for(h?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,0<=(a=(f=_(e)).indexOf("."))&&(f=f.replace(".",""),(p=new m(1)).e=f.length-a,p.d=O(_(p),10,i),p.e=p.d.length),o=u=(l=O(f,10,i)).length;0==l[--u];)l.pop();if(l[0]){if(a<0?o--:((e=new m(e)).d=l,e.e=o,l=(e=T(e,p,r,n,0,i)).d,o=e.e,c=I),a=l[r],s=i/2,c=c||void 0!==l[r+1],c=n<4?(void 0!==a||c)&&(0===n||n===(e.s<0?3:2)):s<a||a===s&&(4===n||c||6===n&&1&l[r-1]||n===(e.s<0?8:7)),l.length=r,c)for(;++l[--r]>i-1;)l[r]=0,r||(++o,l.unshift(1));for(u=l.length;!l[u-1];--u);for(a=0,f="";a<u;a++)f+=v.charAt(l[a]);if(h){if(1<u)if(16==t||8==t){for(a=16==t?4:3,--u;u%a;u++)f+="0";for(u=(l=O(f,i,t)).length;!l[u-1];--u);for(a=1,f="1.";a<u;a++)f+=v.charAt(l[a])}else f=f.charAt(0)+"."+f.slice(1);f=f+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)f="0"+f;f="0."+f}else if(++o>u)for(o-=u;o--;)f+="0";else o<u&&(f=f.slice(0,o)+"."+f.slice(o))}else f=h?"0p+0":"0";f=(16==t?"0x":2==t?"0b":8==t?"0o":"")+f}else f=H(e);return e.s<0?"-"+f:f}function W(e,t){if(e.length>t)return e.length=t,!0}function J(e){return new this(e).abs()}function Y(e){return new this(e).acos()}function X(e){return new this(e).acosh()}function Q(e,t){return new this(e).plus(t)}function K(e){return new this(e).asin()}function ee(e){return new this(e).asinh()}function te(e){return new this(e).atan()}function re(e){return new this(e).atanh()}function ne(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,o=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?B(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=B(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,r=this.atan(T(e,t,o,1)),t=B(this,o,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(T(e,t,o,1)):(r=B(this,o,1).times(0<t.s?.25:.75)).s=e.s:r=new this(NaN),r}function ie(e){return new this(e).cbrt()}function oe(e){return U(e=new this(e),e.e+1,2)}function ae(e){if(!e||"object"!=typeof e)throw Error(c+"Object expected");var t,r,n,i=!0===e.defaults,o=["precision",1,d,"rounding",0,8,"toExpNeg",-s,0,"toExpPos",0,s,"maxE",0,s,"minE",-s,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(r=o[t],i&&(this[r]=u[r]),void 0!==(n=e[r])){if(!(k(n)===n&&o[t+1]<=n&&n<=o[t+2]))throw Error(y+r+": "+n);this[r]=n}if(r="crypto",i&&(this[r]=u[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(y+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(f);this[r]=!0}else this[r]=!1}return this}function se(e){return new this(e).cos()}function ue(e){return new this(e).cosh()}function ce(e,t){return new this(e).div(t)}function fe(e){return new this(e).exp()}function le(e){return U(e=new this(e),e.e+1,3)}function pe(){var e,t,r=new this(0);for(x=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return x=!0,new this(1/0);r=t}return x=!0,r.sqrt()}function me(e){return e instanceof l||e&&"[object Decimal]"===e.name||!1}function he(e){return new this(e).ln()}function de(e,t){return new this(e).log(t)}function ve(e){return new this(e).log(2)}function ye(e){return new this(e).log(10)}function ge(){return t(this,arguments,"lt")}function xe(){return t(this,arguments,"gt")}function be(e,t){return new this(e).mod(t)}function we(e,t){return new this(e).mul(t)}function Ne(e,t){return new this(e).pow(t)}function Me(e){var t,r,n,i,o=0,a=new this(1),s=[];if(void 0===e?e=this.precision:A(e,1,d),n=Math.ceil(e/R),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));o<n;)429e7<=(i=t[o])?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(f);for(t=crypto.randomBytes(n*=4);o<n;)214e7<=(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))?crypto.randomBytes(4).copy(t,o):(s.push(i%1e7),o+=4);o=n/4}else for(;o<n;)s[o++]=1e7*Math.random()|0;for(n=s[--o],e%=R,n&&e&&(i=g(10,R-e),s[o]=(n/i|0)*i);0===s[o];o--)s.pop();if(o<0)s=[r=0];else{for(r=-1;0===s[0];r-=R)s.shift();for(n=1,i=s[0];10<=i;i/=10)n++;n<R&&(r-=R-n)}return a.e=r,a.d=s,a}function Ee(e){return U(e=new this(e),e.e+1,this.rounding)}function Ae(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Se(e){return new this(e).sin()}function Oe(e){return new this(e).sinh()}function Te(e){return new this(e).sqrt()}function _e(e,t){return new this(e).sub(t)}function Ce(e){return new this(e).tan()}function ze(e){return new this(e).tanh()}function Be(e){return U(e=new this(e),e.e+1,1)}(l=function e(t){var r,n,i;function o(e){var t,r,n,i=this;if(!(i instanceof o))return new o(e);if(e instanceof(i.constructor=o))return i.s=e.s,i.e=e.e,void(i.d=(e=e.d)?e.slice():e);if("number"==(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;10<=r;r/=10)t++;return i.e=t,void(i.d=[e])}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):G(i,e.toString())}if("string"!==n)throw Error(y+e);return 45===e.charCodeAt(0)?(e=e.slice(1),i.s=-1):i.s=1,b.test(e)?G(i,e):function(e,t){var r,n,i,o,a,s,u,c,f;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(m.test(t))r=16,t=t.toLowerCase();else if(p.test(t))r=2;else{if(!h.test(t))throw Error(y+t);r=8}for(0<(o=t.search(/p/i))?(u=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),a=0<=(o=t.indexOf(".")),n=e.constructor,a&&(o=(s=(t=t.replace(".","")).length)-o,i=L(n,new n(r),o,2*o)),o=f=(c=O(t,r,P)).length-1;0===c[o];--o)c.pop();return o<0?new n(0*e.s):(e.e=C(c,f),e.d=c,x=!1,a&&(e=T(e,i,4*s)),u&&(e=e.times(Math.abs(u)<54?Math.pow(2,u):l.pow(2,u))),x=!0,e)}(i,e)}if(o.prototype=M,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=ae,o.clone=e,o.isDecimal=me,o.abs=J,o.acos=Y,o.acosh=X,o.add=Q,o.asin=K,o.asinh=ee,o.atan=te,o.atanh=re,o.atan2=ne,o.cbrt=ie,o.ceil=oe,o.cos=se,o.cosh=ue,o.div=ce,o.exp=fe,o.floor=le,o.hypot=pe,o.ln=he,o.log=de,o.log10=ye,o.log2=ve,o.max=ge,o.min=xe,o.mod=be,o.mul=we,o.pow=Ne,o.random=Me,o.round=Ee,o.sign=Ae,o.sin=Se,o.sinh=Oe,o.sqrt=Te,o.sub=_e,o.tan=Ce,o.tanh=ze,o.trunc=Be,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return o.config(t),o}(u)).default=l.Decimal=l,n=new l(n),i=new l(i),void 0===(Re=function(){return l}.call(ke,Pe,ke,Ie))||(Ie.exports=Re)}()},function(e,t,r){"use strict";var n,i=r(559),a=(n=i)&&n.__esModule?n:{default:n};t.name="BigNumber",t.path="type",t.factory=function(e,t,r,n,i){var o=a.default.clone({precision:t.precision});return o.prototype.type="BigNumber",o.prototype.isBigNumber=!0,o.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},o.fromJSON=function(e){return new o(e.value)},i.on("config",function(e,t){e.precision!==t.precision&&o.config({precision:e.precision})}),o},t.math=!0},function(e,t,r){"use strict";e.exports=[r(560),r(558)]},function(e,t,r){"use strict";e.exports=[r(561),r(557),r(556),r(552),r(548),r(545),r(88),r(537),r(536),r(535)]},function(e,t,r){"use strict";e.exports=[r(562),r(529),r(527),r(371),r(151),r(149)]},function(e,t,r){"use strict";var u=r(5);function c(e,t,r){if(void 0!==e[t]&&(a=r,s=e[t],-1===a.indexOf(s))){var n=(i=r,o=e[t],i.map(function(e){return e.toLowerCase()}).indexOf(o.toLowerCase()));-1!==n?(console.warn('Warning: Wrong casing for configuration option "'+t+'", should be "'+r[n]+'" instead of "'+e[t]+'".'),e[t]=r[n]):console.warn('Warning: Unknown value "'+e[t]+'" for configuration option "'+t+'". Available options: '+r.map(JSON.stringify).join(", ")+".")}var i,o,a,s}t.name="config",t.math=!0,t.factory=function(e,i,t,r,o){var a=["Matrix","Array"],s=["number","BigNumber","Fraction"];function n(e){if(e){var t=u.map(i,u.clone);c(e,"matrix",a),c(e,"number",s),u.deepExtend(i,e);var r=u.map(i,u.clone),n=u.map(e,u.clone);return o.emit("config",r,t,n),r}return u.map(i,u.clone)}return n.MATRIX=a,n.NUMBER=s,n}},function(e,t,r){"use strict";var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=r(5).lazy,g=r(5).isFactory,x=r(5).traverse,b=r(59);t.math=!0,t.name="import",t.factory=function(s,e,u,c,f){function l(e,t,r){if(r.wrap&&"function"==typeof t&&(n=function(){for(var e=[],t=0,r=arguments.length;t<r;t++){var n=arguments[t];e[t]=n&&n.valueOf()}return i.apply(f,e)},(i=t).transform&&(n.transform=i.transform),t=n),h(f[e])&&h(t))return t=r.override?c(e,t.signatures):c(f[e],t),o(e,f[e]=t),void f.emit("import",e,function(){return t});var i,n;if(void 0===f[e]||r.override)return o(e,f[e]=t),void f.emit("import",e,function(){return t});if(!r.silent)throw new Error('Cannot import "'+e+'": already exists')}function o(e,t){t&&"function"==typeof t.transform?(f.expression.transform[e]=t.transform,r(e)&&(f.expression.mathWithTransform[e]=t.transform)):(delete f.expression.transform[e],r(e)&&(f.expression.mathWithTransform[e]=t))}function p(e){delete f.expression.transform[e],r(e)?f.expression.mathWithTransform[e]=f[e]:delete f.expression.mathWithTransform[e]}function m(t,r){if("string"==typeof t.name){var n=t.name,e=n in f.expression.transform,i=t.path?x(f,t.path):f,o=i.hasOwnProperty(n)?i[n]:void 0,a=function(){var e=u(t);if(e&&"function"==typeof e.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(h(o)&&h(e))return r.override||(e=c(o,e)),e;if(void 0===o||r.override)return e;if(!r.silent)throw new Error('Cannot import "'+n+'": already exists')};!1!==t.lazy?(y(i,n,a),e?p(n):("expression.transform"===t.path||d(t))&&y(f.expression.mathWithTransform,n,a)):(i[n]=a(),e?p(n):("expression.transform"===t.path||d(t))&&(f.expression.mathWithTransform[n]=a())),f.emit("import",n,a,t.path)}else u(t)}function h(e){return"function"==typeof e&&"object"===v(e.signatures)}function r(e){return!t.hasOwnProperty(e)}function d(e){return void 0===e.path&&!t.hasOwnProperty(e.name)}var t={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function t(e,r){var n,i=arguments.length;if(1!==i&&2!==i)throw new b("import",i,1,2);if(r||(r={}),g(e))m(e,r);else if(Array.isArray(e))e.forEach(function(e){t(e,r)});else if("object"===(void 0===e?"undefined":v(e))){for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];"function"==typeof(n=a)||"number"==typeof n||"string"==typeof n||"boolean"==typeof n||null===n||n&&s.isUnit(n)||n&&s.isComplex(n)||n&&s.isBigNumber(n)||n&&s.isFraction(n)||n&&s.isMatrix(n)||n&&Array.isArray(n)?l(o,a,r):g(e)?m(e,r):t(a,r)}}else if(!r.silent)throw new TypeError("Factory, Object, or Array expected")}},t.lazy=!0},function(e,t){function r(){}r.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var n=this;function i(){n.off(e,i),t.apply(r,arguments)}return i._=t,this.on(e,i,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],i=[];if(n&&t)for(var o=0,a=n.length;o<a;o++)n[o].fn!==t&&n[o].fn._!==t&&i.push(n[o]);return i.length?r[e]=i:delete r[e],this}},e.exports=r},function(e,t,r){"use strict";var n,i,o;i=[],void 0===(o="function"==typeof(n=function(){function y(){return!0}function ce(){return!1}function fe(){}return function e(){var t=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],n={name:"any",test:y},r=[],i=[],j={types:t,conversions:i,ignore:r};function f(t){var e=se(j.types,function(e){return e.name===t});if(e)return e;if("any"===t)return n;var r=se(j.types,function(e){return e.name.toLowerCase()===t.toLowerCase()});throw new TypeError('Unknown type "'+t+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function l(e){return e===n?999:j.types.indexOf(e)}function $(t){var e=se(j.types,function(e){return e.test(t)});if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function H(e){return e.map(function(e){var t=e.types.map(o);return(e.restParam?"...":"")+t.join("|")}).join(",")}function G(e,r){var t,n,i=0===e.indexOf("..."),o=i?3<e.length?e.slice(3):"any":e,a=o.split("|").map(re).filter(h).filter(m),s=(t=a,n={},r.forEach(function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||n[e.from]||(n[e.from]=e)}),Object.keys(n).map(function(e){return n[e]})),u=a.map(function(e){var t=f(e);return{name:e,typeIndex:l(t),test:t.test,conversion:null,conversionIndex:-1}}),c=s.map(function(e){var t=f(e.from);return{name:e.from,typeIndex:l(t),test:t.test,conversion:e,conversionIndex:r.indexOf(e)}});return{types:u.concat(c),restParam:i}}function Z(e){var t=d(e);return!!t&&t.restParam}function V(e){return e.types.some(function(e){return null!=e.conversion})}function W(e){if(e&&0!==e.types.length){if(1===e.types.length)return f(e.types[0].name).test;if(2===e.types.length){var t=f(e.types[0].name).test,r=f(e.types[1].name).test;return function(e){return t(e)||r(e)}}var n=e.types.map(function(e){return f(e.name).test});return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}}return y}function J(e){var r,t,n,i;if(Z(e)){var o=(r=(i=e,i.slice(0,i.length-1)).map(W)).length,a=W(d(e));return function(e){for(var t=0;t<r.length;t++)if(!r[t](e[t]))return!1;return function(e){for(var t=o;t<e.length;t++)if(!a(e[t]))return!1;return!0}(e)&&e.length>=o+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(t=W(e[0]),function(e){return t(e[0])&&1===e.length}):2===e.length?(t=W(e[0]),n=W(e[1]),function(e){return t(e[0])&&n(e[1])&&2===e.length}):(r=e.map(W),function(e){for(var t=0;t<r.length;t++)if(!r[t](e[t]))return!1;return e.length===r.length})}function Y(e,t){return t<e.params.length?e.params[t]:Z(e.params)?d(e.params):null}function X(e,t,r){var n=Y(e,t),i=n?r?n.types.filter(p):n.types:[];return i.map(o)}function o(e){return e.name}function p(e){return null===e.conversion||void 0===e.conversion}function Q(e,t){var r=function(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return Object.keys(t)}(ue(e,function(e){return X(e,t,!1)}));return-1!==r.indexOf("any")?["any"]:r}function a(e){for(var t=999,r=0;r<e.types.length;r++)p(e.types[r])&&(t=Math.min(t,e.types[r].typeIndex));return t}function s(e){for(var t=999,r=0;r<e.types.length;r++)p(e.types[r])||(t=Math.min(t,e.types[r].conversionIndex));return t}function u(e,t){var r;return 0!=(r=e.restParam-t.restParam)?r:0!=(r=V(e)-V(t))?r:0!=(r=a(e)-a(t))?r:s(e)-s(t)}function K(e,t){var r,n,i=Math.min(e.params.length,t.params.length);if(0!=(n=e.params.some(V)-t.params.some(V)))return n;for(r=0;r<i;r++)if(0!=(n=V(e.params[r])-V(t.params[r])))return n;for(r=0;r<i;r++)if(0!==(n=u(e.params[r],t.params[r])))return n;return e.params.length-t.params.length}function ee(e){var t,r,n,i,o=[],a=[];switch(e.types.forEach(function(e){e.conversion&&(o.push(f(e.conversion.from).test),a.push(e.conversion.convert))}),a.length){case 0:return function(e){return e};case 1:return t=o[0],n=a[0],function(e){return t(e)?n(e):e};case 2:return t=o[0],r=o[1],n=a[0],i=a[1],function(e){return t(e)?n(e):r(e)?i(e):e};default:return function(e){for(var t=0;t<a.length;t++)if(o[t](e))return a[t](e);return e}}}function te(e,c){return function t(r,n,i){if(n<r.length){var e,o=r[n],a=c?o.types.filter(p):o.types;if(o.restParam){var s=a.filter(p);e=s.length<a.length?[s,a]:[a]}else e=a.map(function(e){return[e]});return ue(e,function(e){return t(r,n+1,i.concat([e]))})}var u=i.map(function(e,t){return{types:e,restParam:t===r.length-1&&Z(r)}});return[u]}(e,0,[])}function c(t,o){if(0===Object.keys(o).length)throw new SyntaxError("No signatures provided");var r=[];Object.keys(o).map(function(e){return r=o[t=e],i=j.conversions,n=[],""!==t.trim()&&(n=t.split(",").map(re).map(function(e,t,r){var n=G(e,i);if(n.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return n})),n.some(ie)?null:{params:n,fn:r};var t,r,i,n}).filter(ne).forEach(function(t){var e=se(r,function(e){return function(e,t){for(var r=Math.max(e.params.length,t.params.length),n=0;n<r;n++){var i=X(e,n,!0),o=X(t,n,!0);if(!ae(i,o))return!1}var a=e.params.length,s=t.params.length,u=Z(e.params),c=Z(t.params);return u?c?a===s:a<=s:c?s<=a:a===s}(e,t)});if(e)throw new TypeError('Conflicting signatures "'+H(e.params)+'" and "'+H(t.params)+'".');r.push(t)});var n=ue(r,function(t){var e=t?te(t.params,!1):[];return e.map(function(e){return{params:e,fn:t.fn}})}).filter(ne);n.sort(K);var i,e=n[0]&&n[0].params.length<=2&&!Z(n[0].params),a=n[1]&&n[1].params.length<=2&&!Z(n[1].params),s=n[2]&&n[2].params.length<=2&&!Z(n[2].params),u=n[3]&&n[3].params.length<=2&&!Z(n[3].params),c=n[4]&&n[4].params.length<=2&&!Z(n[4].params),f=n[5]&&n[5].params.length<=2&&!Z(n[5].params),l=e&&a&&s&&u&&c&&f,p=n.map(function(e){return J(e.params)}),m=e?W(n[0].params[0]):ce,h=a?W(n[1].params[0]):ce,d=s?W(n[2].params[0]):ce,v=u?W(n[3].params[0]):ce,y=c?W(n[4].params[0]):ce,g=f?W(n[5].params[0]):ce,x=e?W(n[0].params[1]):ce,b=a?W(n[1].params[1]):ce,w=s?W(n[2].params[1]):ce,N=u?W(n[3].params[1]):ce,M=c?W(n[4].params[1]):ce,E=f?W(n[5].params[1]):ce,A=n.map(function(e){return function(e,n){var t=n;if(e.some(V)){var i=Z(e),o=e.map(ee);t=function(){for(var e=[],t=i?arguments.length-1:arguments.length,r=0;r<t;r++)e[r]=o[r](arguments[r]);return i&&(e[t]=arguments[t].map(o[t])),n.apply(null,e)}}var r=t;if(Z(e)){var a=e.length-1;r=function(){return t.apply(null,oe(arguments,0,a).concat([oe(arguments,a)]))}}return r}(e.params,e.fn)}),S=e?A[0]:fe,O=a?A[1]:fe,T=s?A[2]:fe,_=u?A[3]:fe,C=c?A[4]:fe,z=f?A[5]:fe,B=e?n[0].params.length:-1,I=a?n[1].params.length:-1,k=s?n[2].params.length:-1,P=u?n[3].params.length:-1,R=c?n[4].params.length:-1,U=f?n[5].params.length:-1,q=l?6:0,D=n.length,L=function(){for(var e=q;e<D;e++)if(p[e](arguments))return A[e].apply(null,arguments);throw function(e,r,t){var n,i,o,a=e||"unnamed",s=t;for(o=0;o<r.length;o++){var u=s.filter(function(e){var t=W(Y(e,o));return(o<e.params.length||Z(e.params))&&t(r[o])});if(0===u.length){if(0<(i=Q(s,o)).length){var c=$(r[o]);return(n=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+c+", index: "+o+")")).data={category:"wrongType",fn:a,index:o,actual:c,expected:i},n}}else s=u}var f=s.map(function(e){return Z(e.params)?1/0:e.params.length});if(r.length<Math.min.apply(null,f))return i=Q(s,o),(n=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+r.length+")")).data={category:"tooFewArgs",fn:a,index:r.length,expected:i},n;var l=Math.max.apply(null,f);return r.length>l?(n=new TypeError("Too many arguments in function "+a+" (expected: "+l+", actual: "+r.length+")")).data={category:"tooManyArgs",fn:a,index:r.length,expectedLength:l}:(n=new TypeError('Arguments of type "'+r.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:r.map($)},n}(t,arguments,n)},F=function(e,t){return arguments.length===B&&m(e)&&x(t)?S.apply(null,arguments):arguments.length===I&&h(e)&&b(t)?O.apply(null,arguments):arguments.length===k&&d(e)&&w(t)?T.apply(null,arguments):arguments.length===P&&v(e)&&N(t)?_.apply(null,arguments):arguments.length===R&&y(e)&&M(t)?C.apply(null,arguments):arguments.length===U&&g(e)&&E(t)?z.apply(null,arguments):L.apply(null,arguments)};try{Object.defineProperty(F,"name",{value:t})}catch(e){}return F.signatures=(i={},n.forEach(function(t){t.params.some(V)||te(t.params,!0).forEach(function(e){i[H(e)]=t.fn})}),i),F}function m(e){return-1===j.ignore.indexOf(e)}function re(e){return e.trim()}function h(e){return!!e}function ne(e){return null!==e}function ie(e){return 0===e.types.length}function d(e){return e[e.length-1]}function oe(e,t,r){return Array.prototype.slice.call(e,t,r)}function ae(e,t){for(var r=0;r<e.length;r++)if(n=t,i=e[r],-1!==n.indexOf(i))return!0;var n,i;return!1}function se(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function ue(e,t){return Array.prototype.concat.apply([],e.map(t))}function v(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(n.signatures&&""!==n.name)if(""===t)t=n.name;else if(t!==n.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");throw i.data={actual:n.name,expected:t},i}}return t}return(j=c("typed",{"string, Object":c,Object:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);var n=v(t);return c(n,e)},"...Function":function(e){for(var t,r=v(e),n={},i=0;i<e.length;i++){var o=e[i];if("object"!=typeof o.signatures)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;for(var a in o.signatures)if(o.signatures.hasOwnProperty(a))if(n.hasOwnProperty(a)){if(o.signatures[a]!==n[a])throw(t=new Error('Signature "'+a+'" is defined twice')).data={signature:a},t}else n[a]=o.signatures[a]}return c(r,n)}})).create=e,j.types=t,j.conversions=i,j.ignore=r,j.convert=function(e,t){var r=$(e);if(t===r)return e;for(var n=0;n<j.conversions.length;n++){var i=j.conversions[n];if(i.from===r&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+r+" to "+t)},j.find=function(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof t){r=t.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");r=t}var i=r.join(","),o=e.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+r.join(", ")+"))")},j.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var r=0;r<j.types.length;r++)if("Object"===j.types[r].name)return void j.types.splice(r,0,e);j.types.push(e)},j.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");j.conversions.push(e)},j}()})?n.apply(t,i):n)||(e.exports=o)},function(e,t,r){"use strict";Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isNaN=Number.isNaN||function(e){return e!=e}},function(e,t,r){"use strict";r(568);var u=r(5).isFactory,c=r(148),f=r(147),l=r(565),p=r(564);t.create=function(e){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var n=[],i=[],o=f.mixin({});o.type={},o.expression={transform:{},mathWithTransform:{}},o.typed=c.create(o.type);var a={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function s(e){if(!u(e))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var t=n.indexOf(e),r=void 0;return-1===t?(r=!0===e.math?e.factory(o.type,a,s,o.typed,o):e.factory(o.type,a,s,o.typed),n.push(e),i.push(r)):r=i[t],r}return o.import=s(l),o.config=s(p),o.expression.mathWithTransform.config=o.config,e&&o.config(e),o}},function(e,t,n){"use strict";var r,i=n(569),o=(r=i)&&r.__esModule?r:{default:r};e.exports=function e(t){var r=o.default.create(t);return r.create=e,r.import(n(563)),r}()}])});

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/mathjs/dist/math.min.js","/node_modules/mathjs/dist")
},{"_process":25,"buffer":3,"timers":28}],18:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
assert.notEqual = notEqual
assert.notOk = notOk
assert.equal = equal
assert.ok = assert

module.exports = assert

function equal (a, b, m) {
  assert(a == b, m) // eslint-disable-line eqeqeq
}

function notEqual (a, b, m) {
  assert(a != b, m) // eslint-disable-line eqeqeq
}

function notOk (t, m) {
  assert(!t, m)
}

function assert (t, m) {
  if (!t) throw new Error(m || 'AssertionError')
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/nanoassert/index.js","/node_modules/nanoassert")
},{"_process":25,"buffer":3,"timers":28}],19:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
/**
 * Secure random string generator with custom alphabet.
 *
 * Alphabet must contain 256 symbols or less. Otherwise, the generator
 * will not be secure.
 *
 * @param {generator} random The random bytes generator.
 * @param {string} alphabet Symbols to be used in new random string.
 * @param {size} size The number of symbols in new random string.
 *
 * @return {string} Random string.
 *
 * @example
 * var format = require('nanoid/format')
 *
 * function random (size) {
 *   var result = []
 *   for (var i = 0; i < size; i++) result.push(randomByte())
 *   return result
 * }
 *
 * format(random, "abcdef", 5) //=> "fbaef"
 *
 * @name format
 * @function
 */
module.exports = function (random, alphabet, size) {
  var mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1
  var step = Math.ceil(1.6 * mask * size / alphabet.length)

  var id = ''
  while (true) {
    var bytes = random(step)
    for (var i = 0; i < step; i++) {
      var byte = bytes[i] & mask
      if (alphabet[byte]) {
        id += alphabet[byte]
        if (id.length === size) return id
      }
    }
  }
}

/**
 * @callback generator
 * @param {number} bytes The number of bytes to generate.
 * @return {number[]} Random bytes.
 */

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/nanoid/format.js","/node_modules/nanoid")
},{"_process":25,"buffer":3,"timers":28}],20:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
var random = require('./random')
var format = require('./format')

/**
 * Low-level function to change alphabet and ID size.
 *
 * Alphabet must contain 256 symbols or less. Otherwise, the generator
 * will not be secure.
 *
 * @param {string} alphabet Symbols to be used in ID.
 * @param {number} size The number of symbols in ID.
 *
 * @return {string} Unique ID.
 *
 * @example
 * var generate = require('nanoid/generate')
 * model.id = generate('0123456789абвгдеё', 5) //=> "8ё56а"
 *
 * @name generate
 * @function
 */
module.exports = function (alphabet, size) {
  return format(random, alphabet, size)
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/nanoid/generate.js","/node_modules/nanoid")
},{"./format":19,"./random":21,"_process":25,"buffer":3,"timers":28}],21:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
var crypto = self.crypto || self.msCrypto

module.exports = function (bytes) {
  return crypto.getRandomValues(new Uint8Array(bytes))
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/nanoid/random.browser.js","/node_modules/nanoid")
},{"_process":25,"buffer":3,"timers":28}],22:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
var assert = require('assert')
var morph = require('./lib/morph')

var TEXT_NODE = 3
// var DEBUG = false

module.exports = nanomorph

// Morph one tree into another tree
//
// no parent
//   -> same: diff and walk children
//   -> not same: replace and return
// old node doesn't exist
//   -> insert new node
// new node doesn't exist
//   -> delete old node
// nodes are not the same
//   -> diff nodes and apply patch to old node
// nodes are the same
//   -> walk all child nodes and append to old node
function nanomorph (oldTree, newTree) {
  // if (DEBUG) {
  //   console.log(
  //   'nanomorph\nold\n  %s\nnew\n  %s',
  //   oldTree && oldTree.outerHTML,
  //   newTree && newTree.outerHTML
  // )
  // }
  assert.equal(typeof oldTree, 'object', 'nanomorph: oldTree should be an object')
  assert.equal(typeof newTree, 'object', 'nanomorph: newTree should be an object')
  var tree = walk(newTree, oldTree)
  // if (DEBUG) console.log('=> morphed\n  %s', tree.outerHTML)
  return tree
}

// Walk and morph a dom tree
function walk (newNode, oldNode) {
  // if (DEBUG) {
  //   console.log(
  //   'walk\nold\n  %s\nnew\n  %s',
  //   oldNode && oldNode.outerHTML,
  //   newNode && newNode.outerHTML
  // )
  // }
  if (!oldNode) {
    return newNode
  } else if (!newNode) {
    return null
  } else if (newNode.isSameNode && newNode.isSameNode(oldNode)) {
    return oldNode
  } else if (newNode.tagName !== oldNode.tagName) {
    return newNode
  } else {
    morph(newNode, oldNode)
    updateChildren(newNode, oldNode)
    return oldNode
  }
}

// Update the children of elements
// (obj, obj) -> null
function updateChildren (newNode, oldNode) {
  // if (DEBUG) {
  //   console.log(
  //   'updateChildren\nold\n  %s\nnew\n  %s',
  //   oldNode && oldNode.outerHTML,
  //   newNode && newNode.outerHTML
  // )
  // }
  var oldChild, newChild, morphed, oldMatch

  // The offset is only ever increased, and used for [i - offset] in the loop
  var offset = 0

  for (var i = 0; ; i++) {
    oldChild = oldNode.childNodes[i]
    newChild = newNode.childNodes[i - offset]
    // if (DEBUG) {
    //   console.log(
    //   '===\n- old\n  %s\n- new\n  %s',
    //   oldChild && oldChild.outerHTML,
    //   newChild && newChild.outerHTML
    // )
    // }
    // Both nodes are empty, do nothing
    if (!oldChild && !newChild) {
      break

    // There is no new child, remove old
    } else if (!newChild) {
      oldNode.removeChild(oldChild)
      i--

    // There is no old child, add new
    } else if (!oldChild) {
      oldNode.appendChild(newChild)
      offset++

    // Both nodes are the same, morph
    } else if (same(newChild, oldChild)) {
      morphed = walk(newChild, oldChild)
      if (morphed !== oldChild) {
        oldNode.replaceChild(morphed, oldChild)
        offset++
      }

    // Both nodes do not share an ID or a placeholder, try reorder
    } else {
      oldMatch = null

      // Try and find a similar node somewhere in the tree
      for (var j = i; j < oldNode.childNodes.length; j++) {
        if (same(oldNode.childNodes[j], newChild)) {
          oldMatch = oldNode.childNodes[j]
          break
        }
      }

      // If there was a node with the same ID or placeholder in the old list
      if (oldMatch) {
        morphed = walk(newChild, oldMatch)
        if (morphed !== oldMatch) offset++
        oldNode.insertBefore(morphed, oldChild)

      // It's safe to morph two nodes in-place if neither has an ID
      } else if (!newChild.id && !oldChild.id) {
        morphed = walk(newChild, oldChild)
        if (morphed !== oldChild) {
          oldNode.replaceChild(morphed, oldChild)
          offset++
        }

      // Insert the node at the index if we couldn't morph or find a matching node
      } else {
        oldNode.insertBefore(newChild, oldChild)
        offset++
      }
    }
  }
}

function same (a, b) {
  if (a.id) return a.id === b.id
  if (a.isSameNode) return a.isSameNode(b)
  if (a.tagName !== b.tagName) return false
  if (a.type === TEXT_NODE) return a.nodeValue === b.nodeValue
  return false
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/nanomorph/index.js","/node_modules/nanomorph")
},{"./lib/morph":24,"_process":25,"assert":18,"buffer":3,"timers":28}],23:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
module.exports = [
  // attribute events (can be set with attributes)
  'onclick',
  'ondblclick',
  'onmousedown',
  'onmouseup',
  'onmouseover',
  'onmousemove',
  'onmouseout',
  'onmouseenter',
  'onmouseleave',
  'ontouchcancel',
  'ontouchend',
  'ontouchmove',
  'ontouchstart',
  'ondragstart',
  'ondrag',
  'ondragenter',
  'ondragleave',
  'ondragover',
  'ondrop',
  'ondragend',
  'onkeydown',
  'onkeypress',
  'onkeyup',
  'onunload',
  'onabort',
  'onerror',
  'onresize',
  'onscroll',
  'onselect',
  'onchange',
  'onsubmit',
  'onreset',
  'onfocus',
  'onblur',
  'oninput',
  // other common events
  'oncontextmenu',
  'onfocusin',
  'onfocusout'
]

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/nanomorph/lib/events.js","/node_modules/nanomorph/lib")
},{"_process":25,"buffer":3,"timers":28}],24:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
var events = require('./events')
var eventsLength = events.length

var ELEMENT_NODE = 1
var TEXT_NODE = 3
var COMMENT_NODE = 8

module.exports = morph

// diff elements and apply the resulting patch to the old node
// (obj, obj) -> null
function morph (newNode, oldNode) {
  var nodeType = newNode.nodeType
  var nodeName = newNode.nodeName

  if (nodeType === ELEMENT_NODE) {
    copyAttrs(newNode, oldNode)
  }

  if (nodeType === TEXT_NODE || nodeType === COMMENT_NODE) {
    if (oldNode.nodeValue !== newNode.nodeValue) {
      oldNode.nodeValue = newNode.nodeValue
    }
  }

  // Some DOM nodes are weird
  // https://github.com/patrick-steele-idem/morphdom/blob/master/src/specialElHandlers.js
  if (nodeName === 'INPUT') updateInput(newNode, oldNode)
  else if (nodeName === 'OPTION') updateOption(newNode, oldNode)
  else if (nodeName === 'TEXTAREA') updateTextarea(newNode, oldNode)

  copyEvents(newNode, oldNode)
}

function copyAttrs (newNode, oldNode) {
  var oldAttrs = oldNode.attributes
  var newAttrs = newNode.attributes
  var attrNamespaceURI = null
  var attrValue = null
  var fromValue = null
  var attrName = null
  var attr = null

  for (var i = newAttrs.length - 1; i >= 0; --i) {
    attr = newAttrs[i]
    attrName = attr.name
    attrNamespaceURI = attr.namespaceURI
    attrValue = attr.value
    if (attrNamespaceURI) {
      attrName = attr.localName || attrName
      fromValue = oldNode.getAttributeNS(attrNamespaceURI, attrName)
      if (fromValue !== attrValue) {
        oldNode.setAttributeNS(attrNamespaceURI, attrName, attrValue)
      }
    } else {
      if (!oldNode.hasAttribute(attrName)) {
        oldNode.setAttribute(attrName, attrValue)
      } else {
        fromValue = oldNode.getAttribute(attrName)
        if (fromValue !== attrValue) {
          // apparently values are always cast to strings, ah well
          if (attrValue === 'null' || attrValue === 'undefined') {
            oldNode.removeAttribute(attrName)
          } else {
            oldNode.setAttribute(attrName, attrValue)
          }
        }
      }
    }
  }

  // Remove any extra attributes found on the original DOM element that
  // weren't found on the target element.
  for (var j = oldAttrs.length - 1; j >= 0; --j) {
    attr = oldAttrs[j]
    if (attr.specified !== false) {
      attrName = attr.name
      attrNamespaceURI = attr.namespaceURI

      if (attrNamespaceURI) {
        attrName = attr.localName || attrName
        if (!newNode.hasAttributeNS(attrNamespaceURI, attrName)) {
          oldNode.removeAttributeNS(attrNamespaceURI, attrName)
        }
      } else {
        if (!newNode.hasAttributeNS(null, attrName)) {
          oldNode.removeAttribute(attrName)
        }
      }
    }
  }
}

function copyEvents (newNode, oldNode) {
  for (var i = 0; i < eventsLength; i++) {
    var ev = events[i]
    if (newNode[ev]) {           // if new element has a whitelisted attribute
      oldNode[ev] = newNode[ev]  // update existing element
    } else if (oldNode[ev]) {    // if existing element has it and new one doesnt
      oldNode[ev] = undefined    // remove it from existing element
    }
  }
}

function updateOption (newNode, oldNode) {
  updateAttribute(newNode, oldNode, 'selected')
}

// The "value" attribute is special for the <input> element since it sets the
// initial value. Changing the "value" attribute without changing the "value"
// property will have no effect since it is only used to the set the initial
// value. Similar for the "checked" attribute, and "disabled".
function updateInput (newNode, oldNode) {
  var newValue = newNode.value
  var oldValue = oldNode.value

  updateAttribute(newNode, oldNode, 'checked')
  updateAttribute(newNode, oldNode, 'disabled')

  if (newValue !== oldValue) {
    oldNode.setAttribute('value', newValue)
    oldNode.value = newValue
  }

  if (newValue === 'null') {
    oldNode.value = ''
    oldNode.removeAttribute('value')
  }

  if (!newNode.hasAttributeNS(null, 'value')) {
    oldNode.removeAttribute('value')
  } else if (oldNode.type === 'range') {
    // this is so elements like slider move their UI thingy
    oldNode.value = newValue
  }
}

function updateTextarea (newNode, oldNode) {
  var newValue = newNode.value
  if (newValue !== oldNode.value) {
    oldNode.value = newValue
  }

  if (oldNode.firstChild && oldNode.firstChild.nodeValue !== newValue) {
    // Needed for IE. Apparently IE sets the placeholder as the
    // node value and vise versa. This ignores an empty update.
    if (newValue === '' && oldNode.firstChild.nodeValue === oldNode.placeholder) {
      return
    }

    oldNode.firstChild.nodeValue = newValue
  }
}

function updateAttribute (newNode, oldNode, name) {
  if (newNode[name] !== oldNode[name]) {
    oldNode[name] = newNode[name]
    if (newNode[name]) {
      oldNode.setAttribute(name, '')
    } else {
      oldNode.removeAttribute(name)
    }
  }
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/nanomorph/lib/morph.js","/node_modules/nanomorph/lib")
},{"./events":23,"_process":25,"buffer":3,"timers":28}],25:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/process/browser.js","/node_modules/process")
},{"_process":25,"buffer":3,"timers":28}],26:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
module.exports = scope;
scope.replace = replace;

function scope (css, parent) {
	if (!css) return css;

	if (!parent) return css;

	css = replace(css, parent + ' $1$2');

	//regexp.escape
	var parentRe = parent.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');

	//replace self-selectors
	css = css.replace(new RegExp('(' + parentRe + ')\\s*\\1(?=[\\s\\r\\n,{])', 'g'), '$1');

	//replace `:host` with parent
	css = css.replace(new RegExp('(' + parentRe + ')\\s*:host', 'g'), '$1');

	//revoke wrongly replaced @ statements, like @supports, @import, @media etc.
	css = css.replace(new RegExp('(' + parentRe + ')\\s*@', 'g'), '@');

	//revoke wrongly replaced :root blocks
	css = css.replace(new RegExp('(' + parentRe + ')\\s*:root', 'g'), ':root');

	return css;
}

function replace (css, replacer) {
	//strip block comments
	css = css.replace(/\/\*([\s\S]*?)\*\//g, '');

	return css.replace(/([^\r\n,{}]+)(,(?=[^}]*{)|\s*{)/g, replacer);
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/scope-css/index.js","/node_modules/scope-css")
},{"_process":25,"buffer":3,"timers":28}],27:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
/*!
* screenfull
* v3.3.2 - 2017-10-27
* (c) Sindre Sorhus; MIT License
*/
(function () {
	'use strict';

	var document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};
	var isCommonjs = typeof module !== 'undefined' && module.exports;
	var keyboardAllowed = typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element;

	var fn = (function () {
		var val;

		var fnMap = [
			[
				'requestFullscreen',
				'exitFullscreen',
				'fullscreenElement',
				'fullscreenEnabled',
				'fullscreenchange',
				'fullscreenerror'
			],
			// New WebKit
			[
				'webkitRequestFullscreen',
				'webkitExitFullscreen',
				'webkitFullscreenElement',
				'webkitFullscreenEnabled',
				'webkitfullscreenchange',
				'webkitfullscreenerror'

			],
			// Old WebKit (Safari 5.1)
			[
				'webkitRequestFullScreen',
				'webkitCancelFullScreen',
				'webkitCurrentFullScreenElement',
				'webkitCancelFullScreen',
				'webkitfullscreenchange',
				'webkitfullscreenerror'

			],
			[
				'mozRequestFullScreen',
				'mozCancelFullScreen',
				'mozFullScreenElement',
				'mozFullScreenEnabled',
				'mozfullscreenchange',
				'mozfullscreenerror'
			],
			[
				'msRequestFullscreen',
				'msExitFullscreen',
				'msFullscreenElement',
				'msFullscreenEnabled',
				'MSFullscreenChange',
				'MSFullscreenError'
			]
		];

		var i = 0;
		var l = fnMap.length;
		var ret = {};

		for (; i < l; i++) {
			val = fnMap[i];
			if (val && val[1] in document) {
				for (i = 0; i < val.length; i++) {
					ret[fnMap[0][i]] = val[i];
				}
				return ret;
			}
		}

		return false;
	})();

	var eventNameMap = {
		change: fn.fullscreenchange,
		error: fn.fullscreenerror
	};

	var screenfull = {
		request: function (elem) {
			var request = fn.requestFullscreen;

			elem = elem || document.documentElement;

			// Work around Safari 5.1 bug: reports support for
			// keyboard in fullscreen even though it doesn't.
			// Browser sniffing, since the alternative with
			// setTimeout is even worse.
			if (/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)) {
				elem[request]();
			} else {
				elem[request](keyboardAllowed && Element.ALLOW_KEYBOARD_INPUT);
			}
		},
		exit: function () {
			document[fn.exitFullscreen]();
		},
		toggle: function (elem) {
			if (this.isFullscreen) {
				this.exit();
			} else {
				this.request(elem);
			}
		},
		onchange: function (callback) {
			this.on('change', callback);
		},
		onerror: function (callback) {
			this.on('error', callback);
		},
		on: function (event, callback) {
			var eventName = eventNameMap[event];
			if (eventName) {
				document.addEventListener(eventName, callback, false);
			}
		},
		off: function (event, callback) {
			var eventName = eventNameMap[event];
			if (eventName) {
				document.removeEventListener(eventName, callback, false);
			}
		},
		raw: fn
	};

	if (!fn) {
		if (isCommonjs) {
			module.exports = false;
		} else {
			window.screenfull = false;
		}

		return;
	}

	Object.defineProperties(screenfull, {
		isFullscreen: {
			get: function () {
				return Boolean(document[fn.fullscreenElement]);
			}
		},
		element: {
			enumerable: true,
			get: function () {
				return document[fn.fullscreenElement];
			}
		},
		enabled: {
			enumerable: true,
			get: function () {
				// Coerce to boolean in case of old WebKit
				return Boolean(document[fn.fullscreenEnabled]);
			}
		}
	});

	if (isCommonjs) {
		module.exports = screenfull;
	} else {
		window.screenfull = screenfull;
	}
})();

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/screenfull/dist/screenfull.js","/node_modules/screenfull/dist")
},{"_process":25,"buffer":3,"timers":28}],28:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
var nextTick = require('process/browser.js').nextTick;
var apply = Function.prototype.apply;
var slice = Array.prototype.slice;
var immediateIds = {};
var nextImmediateId = 0;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) { timeout.close(); };

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(window, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// That's not how node.js implements it but the exposed api is the same.
exports.setImmediate = typeof setImmediate === "function" ? setImmediate : function(fn) {
  var id = nextImmediateId++;
  var args = arguments.length < 2 ? false : slice.call(arguments, 1);

  immediateIds[id] = true;

  nextTick(function onNextTick() {
    if (immediateIds[id]) {
      // fn.call() is faster so we optimize for the common use-case
      // @see http://jsperf.com/call-apply-segu
      if (args) {
        fn.apply(null, args);
      } else {
        fn.call(null);
      }
      // Prevent ids from leaking
      exports.clearImmediate(id);
    }
  });

  return id;
};

exports.clearImmediate = typeof clearImmediate === "function" ? clearImmediate : function(id) {
  delete immediateIds[id];
};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/timers-browserify/main.js","/node_modules/timers-browserify")
},{"_process":25,"buffer":3,"process/browser.js":25,"timers":28}],29:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
/*!
 * EventEmitter v5.2.5 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */

;(function (exports) {
    'use strict';

    /**
     * Class for managing events.
     * Can be extended to provide event functionality in other classes.
     *
     * @class EventEmitter Manages event registering and emitting.
     */
    function EventEmitter() {}

    // Shortcuts to improve speed and size
    var proto = EventEmitter.prototype;
    var originalGlobalValue = exports.EventEmitter;

    /**
     * Finds the index of the listener for the event in its storage array.
     *
     * @param {Function[]} listeners Array of listeners to search through.
     * @param {Function} listener Method to look for.
     * @return {Number} Index of the specified listener, -1 if not found
     * @api private
     */
    function indexOfListener(listeners, listener) {
        var i = listeners.length;
        while (i--) {
            if (listeners[i].listener === listener) {
                return i;
            }
        }

        return -1;
    }

    /**
     * Alias a method while keeping the context correct, to allow for overwriting of target method.
     *
     * @param {String} name The name of the target method.
     * @return {Function} The aliased method
     * @api private
     */
    function alias(name) {
        return function aliasClosure() {
            return this[name].apply(this, arguments);
        };
    }

    /**
     * Returns the listener array for the specified event.
     * Will initialise the event object and listener arrays if required.
     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.
     * Each property in the object response is an array of listener functions.
     *
     * @param {String|RegExp} evt Name of the event to return the listeners from.
     * @return {Function[]|Object} All listener functions for the event.
     */
    proto.getListeners = function getListeners(evt) {
        var events = this._getEvents();
        var response;
        var key;

        // Return a concatenated array of all matching events if
        // the selector is a regular expression.
        if (evt instanceof RegExp) {
            response = {};
            for (key in events) {
                if (events.hasOwnProperty(key) && evt.test(key)) {
                    response[key] = events[key];
                }
            }
        }
        else {
            response = events[evt] || (events[evt] = []);
        }

        return response;
    };

    /**
     * Takes a list of listener objects and flattens it into a list of listener functions.
     *
     * @param {Object[]} listeners Raw listener objects.
     * @return {Function[]} Just the listener functions.
     */
    proto.flattenListeners = function flattenListeners(listeners) {
        var flatListeners = [];
        var i;

        for (i = 0; i < listeners.length; i += 1) {
            flatListeners.push(listeners[i].listener);
        }

        return flatListeners;
    };

    /**
     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.
     *
     * @param {String|RegExp} evt Name of the event to return the listeners from.
     * @return {Object} All listener functions for an event in an object.
     */
    proto.getListenersAsObject = function getListenersAsObject(evt) {
        var listeners = this.getListeners(evt);
        var response;

        if (listeners instanceof Array) {
            response = {};
            response[evt] = listeners;
        }

        return response || listeners;
    };

    function isValidListener (listener) {
        if (typeof listener === 'function' || listener instanceof RegExp) {
            return true
        } else if (listener && typeof listener === 'object') {
            return isValidListener(listener.listener)
        } else {
            return false
        }
    }

    /**
     * Adds a listener function to the specified event.
     * The listener will not be added if it is a duplicate.
     * If the listener returns true then it will be removed after it is called.
     * If you pass a regular expression as the event name then the listener will be added to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to attach the listener to.
     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addListener = function addListener(evt, listener) {
        if (!isValidListener(listener)) {
            throw new TypeError('listener must be a function');
        }

        var listeners = this.getListenersAsObject(evt);
        var listenerIsWrapped = typeof listener === 'object';
        var key;

        for (key in listeners) {
            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {
                listeners[key].push(listenerIsWrapped ? listener : {
                    listener: listener,
                    once: false
                });
            }
        }

        return this;
    };

    /**
     * Alias of addListener
     */
    proto.on = alias('addListener');

    /**
     * Semi-alias of addListener. It will add a listener that will be
     * automatically removed after its first execution.
     *
     * @param {String|RegExp} evt Name of the event to attach the listener to.
     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addOnceListener = function addOnceListener(evt, listener) {
        return this.addListener(evt, {
            listener: listener,
            once: true
        });
    };

    /**
     * Alias of addOnceListener.
     */
    proto.once = alias('addOnceListener');

    /**
     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.
     * You need to tell it what event names should be matched by a regex.
     *
     * @param {String} evt Name of the event to create.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.defineEvent = function defineEvent(evt) {
        this.getListeners(evt);
        return this;
    };

    /**
     * Uses defineEvent to define multiple events.
     *
     * @param {String[]} evts An array of event names to define.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.defineEvents = function defineEvents(evts) {
        for (var i = 0; i < evts.length; i += 1) {
            this.defineEvent(evts[i]);
        }
        return this;
    };

    /**
     * Removes a listener function from the specified event.
     * When passed a regular expression as the event name, it will remove the listener from all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to remove the listener from.
     * @param {Function} listener Method to remove from the event.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeListener = function removeListener(evt, listener) {
        var listeners = this.getListenersAsObject(evt);
        var index;
        var key;

        for (key in listeners) {
            if (listeners.hasOwnProperty(key)) {
                index = indexOfListener(listeners[key], listener);

                if (index !== -1) {
                    listeners[key].splice(index, 1);
                }
            }
        }

        return this;
    };

    /**
     * Alias of removeListener
     */
    proto.off = alias('removeListener');

    /**
     * Adds listeners in bulk using the manipulateListeners method.
     * If you pass an object as the first argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.
     * You can also pass it a regular expression to add the array of listeners to all events that match it.
     * Yeah, this function does quite a bit. That's probably a bad thing.
     *
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to add.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addListeners = function addListeners(evt, listeners) {
        // Pass through to manipulateListeners
        return this.manipulateListeners(false, evt, listeners);
    };

    /**
     * Removes listeners in bulk using the manipulateListeners method.
     * If you pass an object as the first argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be removed.
     * You can also pass it a regular expression to remove the listeners from all events that match it.
     *
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to remove.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeListeners = function removeListeners(evt, listeners) {
        // Pass through to manipulateListeners
        return this.manipulateListeners(true, evt, listeners);
    };

    /**
     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.
     * The first argument will determine if the listeners are removed (true) or added (false).
     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be added/removed.
     * You can also pass it a regular expression to manipulate the listeners of all events that match it.
     *
     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {
        var i;
        var value;
        var single = remove ? this.removeListener : this.addListener;
        var multiple = remove ? this.removeListeners : this.addListeners;

        // If evt is an object then pass each of its properties to this method
        if (typeof evt === 'object' && !(evt instanceof RegExp)) {
            for (i in evt) {
                if (evt.hasOwnProperty(i) && (value = evt[i])) {
                    // Pass the single listener straight through to the singular method
                    if (typeof value === 'function') {
                        single.call(this, i, value);
                    }
                    else {
                        // Otherwise pass back to the multiple function
                        multiple.call(this, i, value);
                    }
                }
            }
        }
        else {
            // So evt must be a string
            // And listeners must be an array of listeners
            // Loop over it and pass each one to the multiple method
            i = listeners.length;
            while (i--) {
                single.call(this, evt, listeners[i]);
            }
        }

        return this;
    };

    /**
     * Removes all listeners from a specified event.
     * If you do not specify an event then all listeners will be removed.
     * That means every event will be emptied.
     * You can also pass a regex to remove all events that match it.
     *
     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeEvent = function removeEvent(evt) {
        var type = typeof evt;
        var events = this._getEvents();
        var key;

        // Remove different things depending on the state of evt
        if (type === 'string') {
            // Remove all listeners for the specified event
            delete events[evt];
        }
        else if (evt instanceof RegExp) {
            // Remove all events matching the regex.
            for (key in events) {
                if (events.hasOwnProperty(key) && evt.test(key)) {
                    delete events[key];
                }
            }
        }
        else {
            // Remove all listeners in all events
            delete this._events;
        }

        return this;
    };

    /**
     * Alias of removeEvent.
     *
     * Added to mirror the node API.
     */
    proto.removeAllListeners = alias('removeEvent');

    /**
     * Emits an event of your choice.
     * When emitted, every listener attached to that event will be executed.
     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.
     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.
     * So they will not arrive within the array on the other side, they will be separate.
     * You can also pass a regular expression to emit to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.
     * @param {Array} [args] Optional array of arguments to be passed to each listener.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.emitEvent = function emitEvent(evt, args) {
        var listenersMap = this.getListenersAsObject(evt);
        var listeners;
        var listener;
        var i;
        var key;
        var response;

        for (key in listenersMap) {
            if (listenersMap.hasOwnProperty(key)) {
                listeners = listenersMap[key].slice(0);

                for (i = 0; i < listeners.length; i++) {
                    // If the listener returns true then it shall be removed from the event
                    // The function is executed either with a basic call or an apply if there is an args array
                    listener = listeners[i];

                    if (listener.once === true) {
                        this.removeListener(evt, listener.listener);
                    }

                    response = listener.listener.apply(this, args || []);

                    if (response === this._getOnceReturnValue()) {
                        this.removeListener(evt, listener.listener);
                    }
                }
            }
        }

        return this;
    };

    /**
     * Alias of emitEvent
     */
    proto.trigger = alias('emitEvent');

    /**
     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.
     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.
     * @param {...*} Optional additional arguments to be passed to each listener.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.emit = function emit(evt) {
        var args = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(evt, args);
    };

    /**
     * Sets the current value to check against when executing listeners. If a
     * listeners return value matches the one set here then it will be removed
     * after execution. This value defaults to true.
     *
     * @param {*} value The new value to check for when executing listeners.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.setOnceReturnValue = function setOnceReturnValue(value) {
        this._onceReturnValue = value;
        return this;
    };

    /**
     * Fetches the current value to check against when executing listeners. If
     * the listeners return value matches this one then it should be removed
     * automatically. It will return true by default.
     *
     * @return {*|Boolean} The current value to check for or the default, true.
     * @api private
     */
    proto._getOnceReturnValue = function _getOnceReturnValue() {
        if (this.hasOwnProperty('_onceReturnValue')) {
            return this._onceReturnValue;
        }
        else {
            return true;
        }
    };

    /**
     * Fetches the events object and creates one if required.
     *
     * @return {Object} The events storage object.
     * @api private
     */
    proto._getEvents = function _getEvents() {
        return this._events || (this._events = {});
    };

    /**
     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.
     *
     * @return {Function} Non conflicting EventEmitter class.
     */
    EventEmitter.noConflict = function noConflict() {
        exports.EventEmitter = originalGlobalValue;
        return EventEmitter;
    };

    // Expose the class either via AMD, CommonJS or the global object
    if (typeof define === 'function' && define.amd) {
        define(function () {
            return EventEmitter;
        });
    }
    else if (typeof module === 'object' && module.exports){
        module.exports = EventEmitter;
    }
    else {
        exports.EventEmitter = EventEmitter;
    }
}(typeof window !== 'undefined' ? window : this || {}));

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/node_modules/wolfy87-eventemitter/EventEmitter.js","/node_modules/wolfy87-eventemitter")
},{"_process":25,"buffer":3,"timers":28}],30:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var DomParserFragment,
    readyCallbacks = [],
    initState = false;

module.exports = {

    init: function init() {

        DomParserFragment = document.createRange();
        DomParserFragment.selectNode(document.body);

        for (var i in readyCallbacks) {
            readyCallbacks[i]();
        }

        initState = true;
    },

    ready: function ready(callback) {
        if (initState) {
            callback();
        } else {
            readyCallbacks.push(callback);
        }
    },

    dispatchEvent: function dispatchEvent(element, name, data) {

        var event = new CustomEvent(name, {
            detail: data,
            bubbles: true,
            cancelable: true
        });

        element.dispatchEvent(event);
    },

    addEventListener: function addEventListener(element, events, listener, capture) {

        var eventsAsObject = typeof events == 'string' ? events.split(' ') : events;

        for (var i in eventsAsObject) {

            element.addEventListener(eventsAsObject[i], listener, capture);
        }
    },

    get: function get(a, b) {

        var context = b ? a : document,
            selector = b || a;

        if (selector.indexOf('>') == 0) selector = ':scope ' + selector;

        var nodes = context.querySelectorAll(selector);
        return NodeList.prototype.forEach ? nodes : [].concat(_toConsumableArray(nodes));
    },

    create: function create(html) {

        return DomParserFragment.createContextualFragment(html.trim()).firstChild;
    },

    each: function each(context, selector, callback) {

        var nodes = module.exports.get(context, selector);

        nodes.forEach(callback);

        return nodes;
    },

    index: function index(element) {
        var parent = element.parentNode;
        return parent ? Array.prototype.indexOf.call(parent.children, element) : -1;
    },

    offset: function offset(element) {

        var offsetLeft = 0,
            offsetTop = 0;

        if (element) {
            do {
                if (!isNaN(element.offsetLeft)) {
                    offsetLeft += element.offsetLeft - element.scrollLeft;
                }
                if (!isNaN(element.offsetTop)) {
                    offsetTop += element.offsetTop - element.scrollTop;
                }
            } while (element = element.offsetParent);
        }

        return {
            left: offsetLeft,
            top: offsetTop
        };
    }

};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/dom.js","/src/browser/js/app")
},{"_process":25,"buffer":3,"timers":28}],31:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _require = require('./data-workers'),
    updateWidget = _require.updateWidget,
    _require2 = require('../widgets/'),
    categories = _require2.categories,
    widgetManager = require('../managers/widgets'),
    editor = require('./'),
    locales = require('../locales');

var mod = (navigator.platform || '').match('Mac') ? 'shiftKey' : 'ctrlKey';

var ContextMenu = function () {
    function ContextMenu() {
        _classCallCheck(this, ContextMenu);

        this.menu = null;
        this.event = 'fast-click';
        this.root = document.body;
    }

    _createClass(ContextMenu, [{
        key: 'open',
        value: function open(e, actions, parent) {
            var _this = this;

            var menu = DOM.create('<div class="context-menu"></div>');

            var _loop = function _loop(label) {

                if (_typeof(actions[label]) == 'object') {

                    var item = DOM.create('<div class="item has-sub" tabIndex="1">' + label + '</div>');
                    menu.appendChild(item);

                    _this.open(e, actions[label], item);
                } else {

                    var _item = DOM.create('<div class="item">' + label + '</div>');
                    menu.appendChild(_item);
                    _item.addEventListener(_this.event, function (e) {
                        e.detail.preventDefault = true;
                        actions[label]();
                        _this.close();
                    });
                }
            };

            for (var label in actions) {
                _loop(label);
            }

            if (parent) parent.appendChild(menu);

            if (!parent) {

                this.menu = menu;

                this.root.appendChild(menu);

                DOM.each(menu, '.item', function (item) {
                    item.addEventListener('mouseenter', function () {
                        DOM.each(item.parentNode, '.focus', function (focused) {
                            focused.classList.remove('focus');
                        });
                        item.classList.add('focus');
                    });
                    item.addEventListener('mouseleave', function () {
                        if (!item.classList.contains('has-sub')) item.classList.remove('focus');
                    });
                });

                menu.style.top = e.pageY + 'px';
                menu.style.left = e.pageX + 'px';

                this.correctPosition(menu);

                DOM.each(menu, '.context-menu', function (m) {
                    _this.correctPosition(m, m.parentNode);
                });
            }
        }
    }, {
        key: 'close',
        value: function close() {

            if (this.menu) {

                this.menu.parentNode.removeChild(this.menu);
                this.menu = null;
            }
        }
    }, {
        key: 'correctPosition',
        value: function correctPosition(menu, parent) {

            var position = DOM.offset(menu),
                width = menu.offsetWidth,
                height = menu.offsetHeight,
                totalWidth = this.root.offsetWidth,
                totalHeight = this.root.offsetHeight;

            if (width + position.left > totalWidth) {
                menu.style.right = parent ? '100%' : '0';
                menu.style.left = 'auto';
                menu.style.marginRight = '2rem';
            }

            if (height + position.top > totalHeight) {
                menu.style.top = 'auto';
                menu.style.bottom = '2rem';
            }
        }
    }]);

    return ContextMenu;
}();

var contextMenu = new ContextMenu();

var handleClick = function handleClick(event) {

    if (!EDITING) return;

    if (contextMenu.menu && !contextMenu.menu.contains(event.target)) contextMenu.close();

    if (!event.detail.ctrlKey && event.type !== 'fast-right-click' && (event.target.classList.contains('ui-resizable-handle') || event.target.classList.contains('ui-draggable-handle') || event.target.id === 'open-toggle')) {
        return;
    }

    var eventData = event.detail,
        widget = widgetManager.getWidgetByElement(eventData.target, ':not(.not-editable)');

    if (!widget) return;

    // if the widget is not already selected
    if (!widget.container.classList.contains('editing')) {
        // add a flag to the original event to prevent draginit
        // and prevent any further fast-click (ie input focus)
        eventData.capturedByEditor = true;
        event.capturedByEditor = true;
    }

    if (event.type !== 'fast-right-click') {
        editor.select(widget, { multi: event.detail[mod] });
    }

    // right-click menu
    if (event.type !== 'fast-right-click') return;

    if (!event.detail.ctrlKey && editor.selectedWidgets.length <= 1) {
        editor.select(widget, { multi: event.detail[mod] });
    }

    if (!editor.selectedWidgets.length) return;

    var index = editor.selectedWidgets.map(function (w) {
        return DOM.index(w.container);
    }).sort(function (a, b) {
        return b - a;
    }),
        data = editor.selectedWidgets.map(function (w) {
        return w.props;
    }),
        type = editor.selectedWidgets[0].props.type == 'tab' ? 'tab' : 'widget',
        parent = editor.selectedWidgets[0].parent,
        actions = {};

    // case root: only "add tab" option
    if (parent === widgetManager) {
        actions['<i class="fa fa-plus"></i> ' + locales('editor_addtab')] = function () {
            data[0].tabs.push({});
            updateWidget(widget);
            editor.pushHistory();
        };
        contextMenu.open(eventData, actions);

        return;
    }

    // case !root

    var clickX = Math.round((eventData.offsetX + eventData.target.scrollLeft) / (GRIDWIDTH * PXSCALE)) * GRIDWIDTH,
        clickY = Math.round((eventData.offsetY + eventData.target.scrollTop) / (GRIDWIDTH * PXSCALE)) * GRIDWIDTH;

    actions['<i class="fa fa-expand"></i> ' + locales('editor_editparent')] = function () {
        editor.select(parent);
    };

    if (type === 'widget') {

        actions['<i class="fa fa-copy"></i> ' + locales('editor_copy')] = editor.copyWidget.bind(editor);

        actions['<i class="fa fa-cut"></i> ' + locales('editor_cut')] = editor.cutWidget.bind(editor);

        actions['<i class="fa fa-box"></i> ' + locales('editor_wrap')] = {};

        var _loop2 = function _loop2(c) {
            if (c === 'clone') return 'continue';
            actions['<i class="fa fa-box"></i> ' + locales('editor_wrap')][c] = function () {
                var wrap = { type: c, widgets: [], label: c === 'modal' ? 'auto' : false };

                wrap.widgets = data;

                var minTop = Math.min.apply(Math, _toConsumableArray(data.map(function (x) {
                    return isNaN(x.top) ? x.top == 'auto' ? 0 : Infinity : x.top;
                })));
                var minLeft = Math.min.apply(Math, _toConsumableArray(data.map(function (x) {
                    return isNaN(x.left) ? x.left == 'auto' ? 0 : Infinity : x.left;
                })));

                wrap.top = minTop === Infinity ? data[0].top : minTop;
                wrap.left = minLeft === Infinity ? data[0].left : minLeft;

                var _iteratorNormalCompletion2 = true;
                var _didIteratorError2 = false;
                var _iteratorError2 = undefined;

                try {
                    for (var _iterator2 = wrap.widgets[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                        var w = _step2.value;

                        if (!isNaN(w.top)) w.top = Math.max(w.top - minTop, 0);
                        if (!isNaN(w.left)) w.left = Math.max(w.left - minLeft, 0);
                    }
                } catch (err) {
                    _didIteratorError2 = true;
                    _iteratorError2 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion2 && _iterator2.return) {
                            _iterator2.return();
                        }
                    } finally {
                        if (_didIteratorError2) {
                            throw _iteratorError2;
                        }
                    }
                }

                var i;
                var _iteratorNormalCompletion3 = true;
                var _didIteratorError3 = false;
                var _iteratorError3 = undefined;

                try {
                    for (var _iterator3 = index[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                        i = _step3.value;

                        parent.props.widgets.splice(i, 1);
                    }
                } catch (err) {
                    _didIteratorError3 = true;
                    _iteratorError3 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion3 && _iterator3.return) {
                            _iterator3.return();
                        }
                    } finally {
                        if (_didIteratorError3) {
                            throw _iteratorError3;
                        }
                    }
                }

                parent.props.widgets = parent.props.widgets.slice(0, i).concat(wrap, parent.props.widgets.slice(i, parent.props.widgets.length));

                editor.select(updateWidget(parent, { preventSelect: true }));
                editor.pushHistory();
            };
        };

        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
            for (var _iterator = categories.Containers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var c = _step.value;

                var _ret2 = _loop2(c);

                if (_ret2 === 'continue') continue;
            }
        } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion && _iterator.return) {
                    _iterator.return();
                }
            } finally {
                if (_didIteratorError) {
                    throw _iteratorError;
                }
            }
        }
    }

    if (data.length == 1 && (!data[0].tabs || !data[0].tabs.length) && data[0].widgets) {

        if (editor.clipboard !== null) {

            var paste = actions['<i class="fa fa-paste"></i> ' + locales('editor_paste')] = {};

            paste['<i class="fa fa-paste"></i> ' + locales('editor_paste')] = function () {
                editor.pasteWidget(clickX, clickY);
            };

            paste['<i class="fa fa-plus-square"></i> ' + locales('editor_pasteindent')] = function () {
                editor.pasteWidget(clickX, clickY, true);
            };

            if (editor.idClipboard && widgetManager.getWidgetById(editor.idClipboard).length) {
                paste['<i class="fa fa-clone"></i> ' + locales('editor_clone')] = function () {
                    editor.pasteWidgetAsClone(clickX, clickY);
                };
            }
        }

        actions['<i class="fa fa-plus"></i> ' + locales('editor_addwidget')] = {};

        for (var category in categories) {

            actions['<i class="fa fa-plus"></i> ' + locales('editor_addwidget')][category] = {};

            var _loop3 = function _loop3(t) {

                var type = categories[category][t];

                actions['<i class="fa fa-plus"></i> ' + locales('editor_addwidget')][category][type] = function () {

                    var newData = { type: type };

                    if (!eventData.target.classList.contains('tablink')) {
                        newData.top = clickY;
                        newData.left = clickX;
                    }

                    data[0].widgets = data[0].widgets || [];
                    data[0].widgets.push(newData);
                    updateWidget(editor.selectedWidgets[0]);
                    editor.pushHistory();
                };
            };

            for (var t in categories[category]) {
                _loop3(t);
            }
        }
    }

    if (data.length == 1 && (!data[0].widgets || !data[0].widgets.length) && data[0].tabs) {

        actions['<i class="fa fa-plus"></i> ' + locales('editor_addtab')] = function () {
            data[0].tabs = data[0].tabs || [];
            data[0].tabs.push({});
            updateWidget(editor.selectedWidgets[0]);
            editor.pushHistory();
        };
    }

    actions['<i class="fa fa-trash"></i> ' + locales('editor_delete')] = editor.deleteWidget.bind(editor);

    contextMenu.open(eventData, actions);
};

document.addEventListener('fast-right-click', handleClick, true);
document.addEventListener('fast-click', handleClick, true);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/editor/context-menu.js","/src/browser/js/app/editor")
},{"../locales":44,"../managers/widgets":47,"../widgets/":69,"./":34,"./data-workers":32,"_process":25,"buffer":3,"timers":28}],32:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var widgetManager = require('../managers/widgets'),
    resize = require('../events/resize'),
    stateManager = require('../managers/state'),
    parser = require('../parser'),
    editor;

var updateWidget = function updateWidget(widget) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


    // save state
    var sidepanel = DOM.get('#sidepanel')[0],
        scroll = sidepanel.scrollTop,
        oldWidgets = widget.childrenHashes.concat(widget.hash),
        wasSelected = editor.selectedWidgets.includes(widget),
        wScroll = {};

    stateManager.incrementQueue();

    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
        for (var _iterator = oldWidgets[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var h = _step.value;

            if (widgetManager.widgets[h]) {
                var _id = widgetManager.widgets[h].getProp('id'),
                    value = widgetManager.widgets[h].getValue(),
                    valueProp = widgetManager.widgets[h].getProp('value');

                stateManager.pushValueState(_id, value);
                if (valueProp !== '' && valueProp !== undefined) stateManager.pushValueOldProp(_id, valueProp);
            }
        }

        // save scroll states
    } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
            }
        } finally {
            if (_didIteratorError) {
                throw _iteratorError;
            }
        }
    }

    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
        for (var _iterator2 = widgetManager.scrollingWidgets[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
            var _h = _step2.value;

            if (widgetManager.widgets[_h] && widgetManager.widgets[_h].scroll) {
                wScroll[widgetManager.widgets[_h].getProp('id')] = widgetManager.widgets[_h].scroll();
            }
        }
    } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion2 && _iterator2.return) {
                _iterator2.return();
            }
        } finally {
            if (_didIteratorError2) {
                throw _iteratorError2;
            }
        }
    }

    widgetManager.removeWidgets(oldWidgets);

    // widget
    var newWidget = parser.parse([widget.props], widget.parentNode, widget.parent, false, options.reCreateOptions);

    widget.container.parentNode.replaceChild(newWidget.container, widget.container);

    if (newWidget.getProp('type') == 'tab') newWidget.parent.trigger('tab-created', [{ widget: widget }]);
    if (newWidget.getProp('id') == 'root') DOM.get('.editor-root')[0].setAttribute('data-widget', newWidget.hash);

    resize.check(newWidget.container);

    // restore state
    stateManager.decrementQueue();

    // restore scroll states
    for (var id in wScroll) {
        var _iteratorNormalCompletion3 = true;
        var _didIteratorError3 = false;
        var _iteratorError3 = undefined;

        try {
            for (var _iterator3 = widgetManager.getWidgetById(id)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                var w = _step3.value;

                if (w.scroll) w.scroll(wScroll[id]);
            }
        } catch (err) {
            _didIteratorError3 = true;
            _iteratorError3 = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion3 && _iterator3.return) {
                    _iterator3.return();
                }
            } finally {
                if (_didIteratorError3) {
                    throw _iteratorError3;
                }
            }
        }
    }

    if (wasSelected && !options.preventSelect) {
        editor.select(newWidget);
    }

    sidepanel.scrollTop = scroll;

    // return updated node
    return newWidget;
};

var fakeStore = {};

var incrementWidget = function incrementWidget(data, root) {

    if (!data) return;

    if (root !== false) {
        fakeStore = {
            id: [],
            address: []
        };
    }

    var id = data.id,
        address = data.address;

    if (id && address == '/' + id) {

        data.address = 'auto';
    } else if (address) {
        var addressref;
        while (fakeStore.address.indexOf(address) != -1 || widgetManager.getWidgetByAddress(addressref).length) {
            address = address.replace(/([0-9]*)$/, function (m) {
                var n = parseInt(m) + 1;
                n = isNaN(n) ? 1 : n;
                return n;
            });
            addressref = widgetManager.createAddressRef(null, data.preArgs, address);
        }

        fakeStore.address.push(address);

        data.address = address;
    }

    if (id) {
        while (fakeStore.id.indexOf(id) != -1 || widgetManager.getWidgetById(id).length) {
            id = id.replace(/([0-9]*)$/, function (m) {
                var n = parseInt(m) + 1;
                n = isNaN(n) ? 1 : n;
                return n;
            });
        }

        fakeStore.id.push(id);

        data.id = id;
    }

    if (data.widgets && data.widgets.length) {
        for (var i in data.widgets) {
            data.widgets[i] = incrementWidget(data.widgets[i], false);
        }
    }

    if (data.tabs && data.tabs.length) {
        for (var _i in data.tabs) {
            data.tabs[_i] = incrementWidget(data.tabs[_i], false);
        }
    }

    return data;
};

module.exports = {
    updateWidget: updateWidget,
    incrementWidget: incrementWidget
};

editor = require('./');

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/editor/data-workers.js","/src/browser/js/app/editor")
},{"../events/resize":37,"../managers/state":46,"../managers/widgets":47,"../parser":49,"./":34,"_process":25,"buffer":3,"timers":28}],33:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var widgetCategories = require('../widgets/').categories,
    _require = require('./data-workers'),
    updateWidget = _require.updateWidget,
    widgetManager = require('../managers/widgets'),
    _require2 = require('../utils'),
    deepCopy = _require2.deepCopy,
    _require3 = require('../ui/utils'),
    icon = _require3.icon,
    Popup = _require3.Popup;


module.exports = function editField(editor, widget, propName, defaultValue) {

    var dynamic = widget.constructor.dynamicProps.includes(propName),
        disabled = widget.disabledProps.indexOf(propName) > -1,
        error = widget.errors[propName];

    var field = DOM.create('\n        <div class="input-wrapper ' + (widget.errors[propName] ? 'error' : '') + ' ' + (disabled ? 'disabled' : '') + '">\n            <label class="btn ' + (error ? 'error' : '') + '">' + propName + '</label>\n        </div>\n    ');

    var input = void 0;

    if (propName !== 'widgets' && propName !== 'tabs') {

        if (propName == 'type') {

            if (widget.props.type == 'tab' || widget.props.type == 'root') return;

            input = DOM.create('<select class="input no-keybinding" title="' + propName + '"/>');

            for (var category in widgetCategories) {
                input.innerHTML += '<optgroup label="> ' + category + '">';
                var _iteratorNormalCompletion = true;
                var _didIteratorError = false;
                var _iteratorError = undefined;

                try {
                    for (var _iterator = widgetCategories[category][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                        var type = _step.value;

                        input.innerHTML += '<option ' + (type == widget.props.type ? 'selected' : '') + ' value="' + type + '">' + type + '</option>';
                    }
                } catch (err) {
                    _didIteratorError = true;
                    _iteratorError = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion && _iterator.return) {
                            _iterator.return();
                        }
                    } finally {
                        if (_didIteratorError) {
                            throw _iteratorError;
                        }
                    }
                }

                input.innerHTML += '</optgroup>';
            }

            var wrapper = DOM.create('<div class="select-wrapper"></div>');
            wrapper.appendChild(input);
            field.appendChild(wrapper);
        } else {

            var value = typeof widget.props[propName] !== 'string' ? JSON.stringify(widget.props[propName], null, '  ').replace(/\n\s\s\s\s/g, ' ').replace(/\n\s\s(\}|\])/g, ' $1') : widget.props[propName];

            input = DOM.create('<textarea class="input no-keybinding" title="' + propName + '" rows="' + value.split('\n').length + '">' + value + '</textarea>');

            DOM.addEventListener(input, ['input', 'focus'], function () {
                input.setAttribute('rows', 0);
                input.setAttribute('rows', input.value.split('\n').length);
            });

            input.addEventListener('keydown', function (e) {
                if (e.keyCode == 13 && !e.shiftKey) {
                    e.preventDefault();
                    DOM.dispatchEvent(input, 'change');
                }
            });

            if (defaultValue.type.includes('boolean')) {

                var toggle = DOM.create('\n                   <span class="checkbox ' + (widget.props[propName] ? 'on' : '') + '">\n                       ' + icon('check') + '\n                   </span>\n               ');

                toggle.addEventListener('click', function () {
                    input.value = !widget.getProp(propName);
                    DOM.dispatchEvent(input, 'change');
                });

                field.appendChild(toggle);
            }

            field.appendChild(input);
        }

        var onChange = function onChange() {

            input.removeEventListener('change', onChange);

            var v;

            try {
                v = JSON.parseFlex(input.value);
            } catch (err) {
                v = input.value;
            }

            var newWidgets = [];
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = editor.selectedWidgets[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var w = _step2.value;

                    w.props[propName] = v !== '' ? v : deepCopy(defaultValue.value);
                    newWidgets.push(updateWidget(w, { preventSelect: editor.selectedWidgets.length > 1 }));
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }

            editor.pushHistory();
            if (newWidgets.length > 1) editor.select(newWidgets);
        };

        input.addEventListener('change', onChange);
    } else if (propName === 'widgets' && (!widget.props.tabs || !widget.props.tabs.length) || propName === 'tabs' && (!widget.props.widgets || !widget.props.widgets.length)) {

        if (editor.selectedWidgets.length > 1) return;

        var list = DOM.create('<ul></ul>');

        for (var i in widget.props[propName]) {

            list.appendChild(DOM.create('\n                <li class="sortables" data-index="' + i + '">\n                    <a class="btn small" data-action="select">' + widget.props[propName][i].id + '</a>\n                    <span data-action="remove"><i class="fa fa-times"></i></span>\n                </li>\n            '));
        }

        list.appendChild(DOM.create('\n            <li><a class="btn small" data-action="add">' + icon('plus') + '</a></li>\n        '));

        list.addEventListener('click', function (e) {
            // e.stopPropagation()
            var change;
            switch (e.target.getAttribute('data-action')) {

                case 'select':
                    editor.select(widgetManager.getWidgetByElement(DOM.get(propName === 'widgets' ? widget.widget : widget.wrapper, '> .widget')[DOM.index(e.target.closest('li'))]));
                    break;

                case 'remove':
                    widget.props[propName].splice(DOM.index(e.target.closest('li')), 1);
                    change = true;
                    break;

                case 'add':
                    widget.props[propName] = widget.props[propName] || [];
                    widget.props[propName].push({});
                    change = true;
                    break;

            }

            if (change) {
                updateWidget(widget);
                editor.pushHistory();
            }
        });

        var $list = $(list);
        $list.sortable({
            items: '.sortables',
            placeholder: 'sortable-placeholder btn small',
            start: function start() {
                $(this).sortable('refreshPositions');
            },
            update: function update(e, ui) {
                var oldindex = $(ui.item).attr('data-index');
                var index = $(ui.item).index();

                widget.props[propName].splice(index, 0, widget.props[propName].splice(oldindex, 1)[0]);
                updateWidget(widget);
                editor.pushHistory();
            }
        });

        input = DOM.create('<div class="input column"></div>');
        input.appendChild(list);
        field.appendChild(input);
    }

    var label = DOM.get(field, 'label')[0];
    label.addEventListener('fast-click', function () {

        var htmlHelp = Array.isArray(defaultValue.help) ? defaultValue.help.join('<br/>') : defaultValue.help;
        htmlHelp = htmlHelp ? '<p class="help">' + htmlHelp.replace(/`([^`]*)`/g, '<code>$1</code>') + '</p>' : '';

        var htmlError = error ? '<p class="error">' + error + '</p>' : '';

        new Popup({ closable: true, title: '<span class="editor-help-title">' + propName + '</span>', content: '\n            <div class="editor-help">\n\n                <p>Type: <code>' + defaultValue.type + '</code></p>\n                <p>Default: <code>' + JSON.stringify(defaultValue.value) + '</code></p>\n                <p>Dynamic: <code>' + (dynamic ? 'true' : 'false') + '</code></p>\n\n                ' + htmlError + '\n\n                ' + htmlHelp + '\n            </div>\n        ' });
    });

    if (input) {
        return field;
    }
};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/editor/edit-field.js","/src/browser/js/app/editor")
},{"../managers/widgets":47,"../ui/utils":54,"../utils":55,"../widgets/":69,"./data-workers":32,"_process":25,"buffer":3,"timers":28}],34:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _require = require('../widgets/'),
    widgets = _require.widgets,
    _require2 = require('../ui/utils'),
    Popup = _require2.Popup,
    editField = require('./edit-field'),
    _require3 = require('./data-workers'),
    updateWidget = _require3.updateWidget,
    incrementWidget = _require3.incrementWidget,
    keyboardJS = require('keyboardjs'),
    diff = require('deep-diff'),
    widgetManager = require('../managers/widgets'),
    _require4 = require('../utils'),
    deepCopy = _require4.deepCopy,
    locales = require('../locales'),
    sessionManager;

var HISTORY_SIZE = 50;

var Editor = function () {
    function Editor() {
        var _this = this;

        _classCallCheck(this, Editor);

        this.wrapper = DOM.create('\n            <div class="editor-container">\n                <div class="form" id="editor-form">\n                </div>\n            </div>\n        ');
        this.form = DOM.get(this.wrapper, '#editor-form')[0];

        this.defaults = {};
        for (var k in widgets) {
            this.defaults[k] = widgets[k].defaults();
        }

        this.selectedWidgets = [];

        this.clipboard = null;
        this.idClipboard = null;

        this.enabled = false;
        this.enabledOnce = false;
        window.onbeforeunload = function () {
            if (_this.enabledOnce) return true;
        };

        this.history = [];
        this.historyState = -1;
        this.historySession = null;

        this.deleting = false;

        this.mousePosition = { x: 0, y: 0 };
        this.mouveMoveHandler = this.mouseMove.bind(this);

        keyboardJS.withContext('editing', function () {
            keyboardJS.bind('mod + z', function (e) {
                if (e.target.classList.contains('no-keybinding')) return;
                _this.undo();
            });
            keyboardJS.bind(['mod + y', 'mod + shift + z'], function (e) {
                if (e.target.classList.contains('no-keybinding')) return;
                _this.redo();
            });
            keyboardJS.bind('mod + c', function (e) {
                if (e.target.classList.contains('no-keybinding')) return;
                _this.copyWidget();
            });
            keyboardJS.bind('mod + x', function (e) {
                if (e.target.classList.contains('no-keybinding')) return;
                _this.cutWidget();
            });
            keyboardJS.bind('mod + v', function (e) {
                if (e.target.classList.contains('no-keybinding')) return;
                _this.pasteWidget(_this.mousePosition.x, _this.mousePosition.y, false);
            });
            keyboardJS.bind('mod + shift + v', function (e) {
                if (e.target.classList.contains('no-keybinding')) return;
                _this.pasteWidget(_this.mousePosition.x, _this.mousePosition.y, true);
            });
            keyboardJS.bind('delete', function (e) {
                if (e.target.classList.contains('no-keybinding')) return;
                _this.deleteWidget();
            });
            keyboardJS.bind(['alt + up', 'alt + down', 'alt + right', 'alt + left'], function (e) {
                if (e.target.classList.contains('no-keybinding')) return;

                var deltaW = e.key === 'ArrowLeft' ? -GRIDWIDTH : e.key === 'ArrowRight' ? GRIDWIDTH : 0,
                    deltaH = e.key === 'ArrowUp' ? -GRIDWIDTH : e.key === 'ArrowDown' ? GRIDWIDTH : 0;

                if (e.shiftKey) {
                    deltaW *= 5;
                    deltaH *= 5;
                }

                _this.resizeWidget(deltaW, deltaH);
            });
            keyboardJS.bind(['up', 'down', 'right', 'left'], function (e) {
                if (e.target.classList.contains('no-keybinding')) return;

                var deltaX = e.key === 'ArrowLeft' ? -GRIDWIDTH : e.key === 'ArrowRight' ? GRIDWIDTH : 0,
                    deltaY = e.key === 'ArrowUp' ? -GRIDWIDTH : e.key === 'ArrowDown' ? GRIDWIDTH : 0;

                if (e.shiftKey) {
                    deltaX *= 5;
                    deltaY *= 5;
                }

                _this.moveWidget(deltaX, deltaY);
            });
        });
    }

    _createClass(Editor, [{
        key: 'enable',
        value: function enable() {

            EDITING = true;
            this.enabled = true;

            this.enabledOnce = true;

            DOM.get('.editor-root')[0].setAttribute('data-widget', DOM.get('.root-container')[0].getAttribute('data-widget'));
            DOM.get('.editor-root')[0].classList.remove('disabled');
            DOM.get('.disable-editor')[0].classList.remove('on');
            DOM.get('.enable-editor')[0].classList.add('on');
            document.body.classList.add('editor-enabled');
            document.body.classList.toggle('no-grid', GRIDWIDTH == 1);

            GRIDWIDTH = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--grid-width'));

            var gridForm = DOM.create('\n            <div class="form" id="grid-width-form">\n                <div class="separator"><span>Grid</span></div>\n                <div class="input-wrapper">\n                    <label>Width</label>\n                    <input class="input no-keybinding" type="number" id="grid-width-input" step="1" min="1" max="100" value="' + GRIDWIDTH + '"/>\n                </div>\n            </div>\n        ');

            DOM.each(gridForm, '#grid-width-input', function (input) {
                DOM.addEventListener(input, 'keyup mouseup change mousewheel', function (e) {
                    setTimeout(function () {
                        var v = Math.max(Math.min(parseInt(input.value), 100), 1);
                        if (isNaN(v)) return;
                        input.value = v;
                        GRIDWIDTH = v;
                        document.body.classList.toggle('no-grid', GRIDWIDTH == 1);
                        document.documentElement.style.setProperty('--grid-width', GRIDWIDTH);
                    });
                });
            });

            DOM.get(document, '.editor-menu')[0].appendChild(gridForm);

            keyboardJS.setContext('editing');

            document.body.addEventListener('mousemove', this.mouveMoveHandler);
        }
    }, {
        key: 'disable',
        value: function disable() {

            EDITING = false;
            this.enabled = false;

            if (READ_ONLY) {
                this.enable = function () {};
                $('.editor-menu .btn').remove();
                $('.editor-menu .title').html($('.editor-menu .title').html() + ' (disabled)').addClass('disabled');
                return;
            }

            this.unselect();
            this.selectedWidgets = [];
            DOM.get('.editor-root')[0].classList.add('disabled');
            DOM.get('.disable-editor')[0].classList.add('on');
            DOM.get('.enable-editor')[0].classList.remove('on');
            document.body.classList.remove('editor-enabled');

            var gridForm = DOM.get('#grid-width-form')[0];
            if (gridForm) gridForm.parentNode.removeChild(gridForm);

            keyboardJS.setContext('global');

            document.body.removeEventListener('mousemove', this.mouveMoveHandler);
        }
    }, {
        key: 'unselect',
        value: function unselect() {

            DOM.get('#editor')[0].innerHTML = '';

            this.form.innerHTML = '';

            DOM.each(document, '.editing', function (element) {
                element.classList.remove('editing');
            });

            $('.widget.ui-resizable').resizable('destroy');
            $('.widget.ui-draggable').draggable('destroy').find('.ui-draggable-handle').remove();
        }
    }, {
        key: 'select',
        value: function select(widget) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            this.unselect();

            if (Array.isArray(widget)) {

                this.selectedWidgets = widget;
            } else if (options.multi) {

                if (!this.selectedWidgets.includes(widget)) {

                    var sameLevel = true;
                    var _iteratorNormalCompletion = true;
                    var _didIteratorError = false;
                    var _iteratorError = undefined;

                    try {
                        for (var _iterator = this.selectedWidgets[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                            var w = _step.value;

                            if (w.parent !== widget.parent) sameLevel = false;
                        }
                    } catch (err) {
                        _didIteratorError = true;
                        _iteratorError = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion && _iterator.return) {
                                _iterator.return();
                            }
                        } finally {
                            if (_didIteratorError) {
                                throw _iteratorError;
                            }
                        }
                    }

                    if (sameLevel) this.selectedWidgets.push(widget);
                } else {

                    this.selectedWidgets.splice(this.selectedWidgets.indexOf(widget), 1);
                }
            } else {

                if (!options.refresh && widget.container.classList.contains('editing')) return;

                this.selectedWidgets = [widget];
            }

            if (this.selectedWidgets.length > 0) {

                this.createEditForm();
                this.createSelectionBlock();
            }
        }
    }, {
        key: 'createEditForm',
        value: function createEditForm() {

            var widget = this.selectedWidgets[0],
                props = this.defaults[widget.props.type];

            this.form.appendChild(DOM.create('\n            <div class="separator">\n                ' + (this.selectedWidgets.length > 1 ? '<span class="accent">Multiple Widgets</span>' : '<span>Widget</span>') + '\n            </div>\n        '));

            for (var propName in props) {

                var field = void 0,
                    shared = true;

                var _iteratorNormalCompletion2 = true;
                var _didIteratorError2 = false;
                var _iteratorError2 = undefined;

                try {
                    for (var _iterator2 = this.selectedWidgets[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                        var w = _step2.value;

                        if (this.defaults[w.props.type][propName] === undefined) {
                            shared = false;
                        }
                    }
                } catch (err) {
                    _didIteratorError2 = true;
                    _iteratorError2 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion2 && _iterator2.return) {
                            _iterator2.return();
                        }
                    } finally {
                        if (_didIteratorError2) {
                            throw _iteratorError2;
                        }
                    }
                }

                if (!shared) continue;

                if (propName.indexOf('_') === 0 && propName !== '_props') {

                    field = DOM.create('<div class="separator"><span>' + props[propName] + '</span></div>');
                } else if (widget.props[propName] === undefined) {

                    continue;
                } else {

                    field = editField(this, widget, propName, props[propName]);
                    if (!field) continue;
                }

                this.form.appendChild(field);
            }

            this.wrapper.appendChild(this.form);
            DOM.get('#editor')[0].appendChild(this.wrapper);
        }
    }, {
        key: 'createSelectionBlock',
        value: function createSelectionBlock() {
            var _this2 = this;

            DOM.each(document, '.editing', function (element) {
                element.classList.remove('editing');
            });

            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = this.selectedWidgets[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var _widget = _step3.value;

                    DOM.each(document, '[data-widget="' + _widget.hash + '"]', function (item) {
                        item.classList.add('editing');
                    });
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                        _iterator3.return();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }

            var widget = this.selectedWidgets[0];

            if (widget.props.height !== undefined || widget.props.width !== undefined) {

                var $container = $(widget.container);
                $container.resizable({
                    handles: 's, e, se',
                    helper: 'ui-helper',
                    resize: function resize(event, ui) {
                        ui.size.height = Math.round(ui.size.height / (GRIDWIDTH * PXSCALE)) * GRIDWIDTH * PXSCALE;
                        ui.size.width = Math.round(ui.size.width / (GRIDWIDTH * PXSCALE)) * GRIDWIDTH * PXSCALE;
                    },
                    stop: function stop(event, ui) {

                        var deltaH = ui.size.height - ui.originalSize.height,
                            deltaW = ui.size.width - ui.originalSize.width;

                        _this2.resizeWidget(deltaW, deltaH, ui);
                    },
                    grid: [GRIDWIDTH * PXSCALE, GRIDWIDTH * PXSCALE]
                });
            }

            if (widget.props.top !== undefined) {
                var _$container = $(widget.container);
                _$container.draggable({
                    cursor: '-webkit-grabbing',
                    drag: function drag(event, ui) {
                        ui.position.top = Math.round(ui.position.top / (GRIDWIDTH * PXSCALE)) * GRIDWIDTH * PXSCALE;
                        ui.position.left = Math.round(ui.position.left / (GRIDWIDTH * PXSCALE)) * GRIDWIDTH * PXSCALE;
                    },
                    stop: function stop(event, ui) {
                        event.preventDefault();

                        var deltaX = (ui.helper.position().left + _$container.parent().scrollLeft()) / PXSCALE - widget.container.offsetLeft / PXSCALE,
                            deltaY = (ui.helper.position().top + _$container.parent().scrollTop()) / PXSCALE - widget.container.offsetTop / PXSCALE;

                        _this2.moveWidget(deltaX, deltaY);

                        ui.helper.remove();
                    },
                    handle: '.ui-draggable-handle, > .label',
                    grid: [GRIDWIDTH * PXSCALE, GRIDWIDTH * PXSCALE],
                    helper: function helper() {
                        return $('<div class="ui-helper"></div>').css({ height: _$container.outerHeight(), width: _$container.outerWidth() });
                    }
                }).append('<div class="ui-draggable-handle"></div>');
            }
        }
    }, {
        key: 'mouseMove',
        value: function mouseMove(e) {

            this.mousePosition.x = Math.round((e.offsetX + e.target.scrollLeft) / (GRIDWIDTH * PXSCALE)) * GRIDWIDTH, this.mousePosition.y = Math.round((e.offsetY + e.target.scrollTop) / (GRIDWIDTH * PXSCALE)) * GRIDWIDTH;
        }
    }, {
        key: 'copyWidget',
        value: function copyWidget() {

            if (!this.selectedWidgets.length) return;

            var data = this.selectedWidgets.map(function (w) {
                return w.props;
            }),
                type = this.selectedWidgets[0].props.type == 'tab' ? 'tab' : 'widget';

            if (type !== 'widget') return;

            this.clipboard = JSON.stringify(data);

            if (data.length == 1) {
                this.idClipboard = this.selectedWidgets[0].getProp('id');
            } else {
                this.idClipboard = null;
            }
        }
    }, {
        key: 'cutWidget',
        value: function cutWidget() {

            if (!this.selectedWidgets.length) return;

            var index = this.selectedWidgets.map(function (w) {
                return DOM.index(w.container);
            }).sort(function (a, b) {
                return b - a;
            }),
                data = this.selectedWidgets.map(function (w) {
                return w.props;
            }),
                type = this.selectedWidgets[0].props.type == 'tab' ? 'tab' : 'widget',
                parent = editor.selectedWidgets[0].parent;

            if (type !== 'widget') return;

            this.clipboard = JSON.stringify(data);

            if (data.length == 1) {
                this.idClipboard = this.selectedWidgets[0].getProp('id');
            } else {
                this.idClipboard = null;
            }

            var _iteratorNormalCompletion4 = true;
            var _didIteratorError4 = false;
            var _iteratorError4 = undefined;

            try {
                for (var _iterator4 = index[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                    var i = _step4.value;

                    parent.props.widgets.splice(i, 1);
                }
            } catch (err) {
                _didIteratorError4 = true;
                _iteratorError4 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion4 && _iterator4.return) {
                        _iterator4.return();
                    }
                } finally {
                    if (_didIteratorError4) {
                        throw _iteratorError4;
                    }
                }
            }

            this.select(updateWidget(parent, { preventSelect: true }));
            this.pushHistory();
        }
    }, {
        key: 'pasteWidget',
        value: function pasteWidget(x, y, increment) {

            if (!this.selectedWidgets.length || this.clipboard === null) return;

            var data = this.selectedWidgets.map(function (w) {
                return w.props;
            });

            var pastedData = JSON.parse(editor.clipboard),
                minTop = Infinity,
                minLeft = Infinity;

            for (var i in pastedData) {
                if (increment) pastedData[i] = incrementWidget(pastedData[i]);
                if (!isNaN(pastedData[i]).top && pastedData[i].top < minTop) {
                    minTop = pastedData[i].top;
                }
                if (!isNaN(pastedData[i]).left && pastedData[i].left < minLeft) {
                    minLeft = pastedData[i].left;
                }
            }

            for (var _i in pastedData) {

                if (!isNaN(pastedData[_i].left)) pastedData[_i].left = pastedData[_i].left - minLeft + x;
                if (!isNaN(pastedData[_i].top)) pastedData[_i].top = pastedData[_i].top - minTop + y;
            }

            data[0].widgets = data[0].widgets || [];
            data[0].widgets = data[0].widgets.concat(pastedData);

            updateWidget(this.selectedWidgets[0]);
            this.pushHistory();
        }
    }, {
        key: 'pasteWidgetAsClone',
        value: function pasteWidgetAsClone(x, y) {

            if (!this.selectedWidgets.length) return;

            if (this.clipboard === null || !(this.idClipboard && widgetManager.getWidgetById(this.idClipboard).length)) return;

            var data = this.selectedWidgets.map(function (w) {
                return w.props;
            });

            var clone = { type: 'clone', widgetId: this.idClipboard },
                pastedData = JSON.parse(this.clipboard);

            clone.width = pastedData.width;
            clone.height = pastedData.width;
            clone.css = pastedData.css;

            clone.left = x;
            clone.top = y;

            data[0].widgets = data[0].widgets || [];
            data[0].widgets.push(clone);

            updateWidget(this.selectedWidgets[0]);
            this.pushHistory();
        }
    }, {
        key: 'deleteWidget',
        value: function deleteWidget() {
            var _this3 = this;

            if (!this.selectedWidgets.length) return;

            var index = this.selectedWidgets.map(function (w) {
                return DOM.index(w.container);
            }).sort(function (a, b) {
                return b - a;
            }),
                type = this.selectedWidgets[0].props.type == 'tab' ? 'tab' : 'widget',
                parent = this.selectedWidgets[0].parent;

            if (this.deleting || this.selectedWidgets[0].getProp('id') === 'root') return;

            this.deleting = true;

            var popup = new Popup({
                title: locales('editor_delete_prompt'),
                content: '\n                <div class="actions">\n                    <a class="btn warning confirm-delete">' + locales('editor_delete_yes') + '</a>\n                    <a class="btn cancel-delete">' + locales('editor_delete_no') + '</a>\n                </div>',
                closable: false,
                escKey: true,
                enterKey: function enterKey() {
                    DOM.get(this.html, '.confirm-delete')[0].click();
                }
            });

            DOM.get(popup.html, '.confirm-delete')[0].addEventListener('click', function () {

                popup.close();

                if (type === 'widget') {
                    var _iteratorNormalCompletion5 = true;
                    var _didIteratorError5 = false;
                    var _iteratorError5 = undefined;

                    try {
                        for (var _iterator5 = index[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {
                            var i = _step5.value;

                            parent.props.widgets.splice(i, 1);
                        }
                    } catch (err) {
                        _didIteratorError5 = true;
                        _iteratorError5 = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion5 && _iterator5.return) {
                                _iterator5.return();
                            }
                        } finally {
                            if (_didIteratorError5) {
                                throw _iteratorError5;
                            }
                        }
                    }
                } else {
                    var _iteratorNormalCompletion6 = true;
                    var _didIteratorError6 = false;
                    var _iteratorError6 = undefined;

                    try {
                        for (var _iterator6 = index[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {
                            var _i2 = _step6.value;

                            parent.props.tabs.splice(_i2, 1);
                        }
                    } catch (err) {
                        _didIteratorError6 = true;
                        _iteratorError6 = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion6 && _iterator6.return) {
                                _iterator6.return();
                            }
                        } finally {
                            if (_didIteratorError6) {
                                throw _iteratorError6;
                            }
                        }
                    }
                }

                _this3.select(updateWidget(parent, { preventSelect: true }));
                _this3.pushHistory();

                _this3.deleting = false;
            });

            DOM.get(popup.html, '.cancel-delete')[0].addEventListener('click', function () {
                popup.close();
                this.deleting = false;
            });
        }
    }, {
        key: 'resizeWidget',
        value: function resizeWidget(deltaW, deltaH, ui) {

            if (!this.selectedWidgets.length) return;

            var newWidgets = [];

            for (var i = 0; i < this.selectedWidgets.length; i++) {

                var w = this.selectedWidgets[i],
                    nW = void 0,
                    nH = void 0;

                if (i === 0 && ui) {
                    nW = ui.originalSize.width + deltaW;
                    nH = ui.originalSize.height + deltaH;
                } else {
                    nW = w.container.offsetWidth + deltaW;
                    nH = w.container.offsetHeight + deltaH;
                }

                if (w.props.width !== undefined) {
                    var newWidth = Math.max(nW, GRIDWIDTH) / PXSCALE;
                    if (typeof w.props.width === 'string' && w.props.width.indexOf('%') > -1) {
                        w.props.width = (100 * PXSCALE * newWidth / w.container.parentNode.offsetWidth).toFixed(2) + '%';
                    } else {
                        w.props.width = newWidth;
                    }
                }

                if (w.props.height !== undefined) {
                    var newHeight = Math.max(nH, GRIDWIDTH) / PXSCALE;
                    if (typeof w.props.height === 'string' && w.props.height.indexOf('%') > -1) {
                        w.props.height = (100 * PXSCALE * newHeight / w.container.parentNode.offsetHeight).toFixed(2) + '%';
                    } else {
                        w.props.height = newHeight;
                    }
                }

                if (w.props.width !== undefined || w.props.height !== undefined) newWidgets.push(updateWidget(w, { preventSelect: this.selectedWidgets.length > 1 }));
            }

            this.pushHistory();

            if (newWidgets.length > 1) this.select(newWidgets, { preventSelect: this.selectedWidgets.length > 1 });
        }
    }, {
        key: 'moveWidget',
        value: function moveWidget(deltaX, deltaY) {

            if (!this.selectedWidgets.length) return;

            var newWidgets = [];

            var _iteratorNormalCompletion7 = true;
            var _didIteratorError7 = false;
            var _iteratorError7 = undefined;

            try {
                for (var _iterator7 = this.selectedWidgets[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {
                    var w = _step7.value;


                    var newTop = w.container.offsetTop / PXSCALE + deltaY;
                    if (typeof w.props.top === 'string' && w.props.top.indexOf('%') > -1) {
                        w.props.top = (100 * PXSCALE * newTop / w.container.parentNode.offsetHeight).toFixed(2) + '%';
                    } else {
                        w.props.top = newTop;
                    }
                    var newLeft = w.container.offsetLeft / PXSCALE + deltaX;
                    if (typeof w.props.left === 'string' && w.props.left.indexOf('%') > -1) {
                        w.props.left = (100 * PXSCALE * newLeft / w.container.parentNode.offsetWidth).toFixed(2) + '%';
                    } else {
                        w.props.left = newLeft;
                    }

                    newWidgets.push(updateWidget(w, { preventSelect: this.selectedWidgets.length > 1 }));
                }
            } catch (err) {
                _didIteratorError7 = true;
                _iteratorError7 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion7 && _iterator7.return) {
                        _iterator7.return();
                    }
                } finally {
                    if (_didIteratorError7) {
                        throw _iteratorError7;
                    }
                }
            }

            this.pushHistory();

            if (newWidgets.length > 1) this.select(newWidgets);
        }
    }, {
        key: 'pushHistory',
        value: function pushHistory() {

            if (this.historyState > -1) {
                this.history.splice(0, this.historyState + 1);
                this.historyState = -1;
            }

            var d = diff.diff(this.historySession, sessionManager.session);

            if (d) {
                var _iteratorNormalCompletion8 = true;
                var _didIteratorError8 = false;
                var _iteratorError8 = undefined;

                try {
                    for (var _iterator8 = deepCopy(d)[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {
                        var c = _step8.value;

                        diff.applyChange(this.historySession, null, c);
                    }
                } catch (err) {
                    _didIteratorError8 = true;
                    _iteratorError8 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion8 && _iterator8.return) {
                            _iterator8.return();
                        }
                    } finally {
                        if (_didIteratorError8) {
                            throw _iteratorError8;
                        }
                    }
                }

                this.history.unshift(deepCopy(d));
                if (this.history.length > HISTORY_SIZE) this.history.pop();
            }
        }
    }, {
        key: 'clearHistory',
        value: function clearHistory() {

            this.history = [];
            this.historyState = -1;
            this.historySession = deepCopy(sessionManager.session);
        }
    }, {
        key: 'undo',
        value: function undo() {

            if (this.historyState === this.history.length - 1) return;

            this.historyState += 1;

            var d1 = deepCopy(this.history[this.historyState]),
                d2 = deepCopy(this.history[this.historyState]),
                path;

            for (var i = d1.length - 1; i > -1; i--) {
                diff.revertChange(this.historySession, true, d1[i]);
                diff.revertChange(sessionManager.session, true, d2[i]);
                if (!path || path.length > d1[i].path.length) path = d1[i].path;
            }

            if (d1.length > 1) {
                // path intersection
                var stop, j, k, n;
                for (j = 0; j < path.length; j++) {
                    for (k = 0; k < d1.length; k++) {
                        if (d1[k].path[j] !== path[j]) {
                            stop = true;
                            break;
                        }
                    }
                    if (stop) break;
                }
                n = stop ? j : j - 1;
                path.splice(n, path.length - n);
            }

            this.updateWidgetByPath(path);
        }
    }, {
        key: 'redo',
        value: function redo() {

            if (this.historyState === -1) return;

            var d1 = deepCopy(this.history[this.historyState]),
                d2 = deepCopy(this.history[this.historyState]),
                path;

            for (var i = 0; i < d1.length; i++) {
                diff.applyChange(this.historySession, true, d1[i]);
                diff.applyChange(sessionManager.session, true, d2[i]);
                if (!path || path.length > d1[i].path.length) path = d1[i].path;
            }

            if (d1.length > 1) {
                // path intersection
                var stop, j, k, n;
                for (j = 0; j < path.length; j++) {
                    for (k = 0; k < d1.length; k++) {
                        if (d1[k].path[j] !== path[j]) {
                            stop = true;
                            break;
                        }
                    }
                    if (stop) break;
                }
                n = stop ? j : j - 1;
                path.splice(n, path.length - n);
            }

            this.updateWidgetByPath(path);

            this.historyState -= 1;
        }
    }, {
        key: 'updateWidgetByPath',
        value: function updateWidgetByPath(path) {

            var req = '.root-container';
            for (var j = 1; j < path.length; j++) {
                var item = path[j];
                if (item === 'widgets' && j + 1 < path.length) {
                    req += ' > .panel';
                } else if (item === 'tabs' && j + 1 < path.length) {
                    req += ' > .panel > .tabs-wrapper';
                } else if (!isNaN(item)) {
                    req += ' > .widget:nth-child(' + (item + 1) + ')';
                } else {
                    break;
                }
            }

            var e = DOM.get(req),
                w;

            if (e.length) {
                w = widgetManager.getWidgetByElement(e[0]);
            } else {
                // in case the elements are in a hidden tab (detached dom)
                w = widgetManager.getWidgetById('root')[0];
            }

            updateWidget(w);
        }
    }]);

    return Editor;
}();

var editor = new Editor();

module.exports = editor;

require('./context-menu');
sessionManager = require('../managers/session');

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/editor/index.js","/src/browser/js/app/editor")
},{"../locales":44,"../managers/session":45,"../managers/widgets":47,"../ui/utils":54,"../utils":55,"../widgets/":69,"./context-menu":31,"./data-workers":32,"./edit-field":33,"_process":25,"buffer":3,"deep-diff":5,"keyboardjs":12,"timers":28}],35:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _require = require('./utils'),
    normalizeDragEvent = _require.normalizeDragEvent,
    resetEventOffset = _require.resetEventOffset;

var targets = {},
    previousPointers = {};

function pointerDownHandler(event) {

    if (event.capturedByEditor === true) return;

    if (!event.multitouch) {
        for (var i in targets) {
            if (targets[i] == event.target) return;
        }
    }

    event = normalizeDragEvent(event);

    targets[event.pointerId] = event.target;

    previousPointers[event.pointerId] = event;

    triggerWidgetEvent(targets[event.pointerId], 'draginit', event);
}

function pointerMoveHandler(event) {

    event = normalizeDragEvent(event, previousPointers[event.pointerId]);

    event.stopPropagation = true;

    if (event.traversing) {

        var previousTarget = targets[event.pointerId],
            target = event.isTouch ? document.elementFromPoint(event.clientX, event.clientY) : event.target;

        if (target) target = target.closest('.drag-event');

        if (target && event.isTouch) {
            resetEventOffset(event, target);
        }

        if (previousTarget !== target) {
            triggerWidgetEvent(previousTarget, 'dragend', event);
        }

        if (target) {
            if (event.traversingContainer.contains(target)) {
                triggerWidgetEvent(target, previousTarget !== target ? 'draginit' : 'drag', event);
            }
        }

        targets[event.pointerId] = target;
    } else {
        triggerWidgetEvent(targets[event.pointerId], 'drag', event);
    }

    previousPointers[event.pointerId] = event;
}

function pointerUpHandler(event) {

    event = normalizeDragEvent(event, previousPointers[event.pointerId]);

    triggerWidgetEvent(targets[event.pointerId], 'dragend', event);

    delete targets[event.pointerId];
    delete previousPointers[event.pointerId];
}

// Move / Up Filter

function pointerMoveFilter(event) {

    if (targets[event.pointerId] !== undefined) {
        pointerMoveHandler.call(targets[event.pointerId], event);
    }
}

function pointerUpFilter(event) {

    if (targets[event.pointerId] !== undefined) {
        pointerUpHandler.call(targets[event.pointerId], event);
        delete targets[event.pointerId];
    }
}

// Mouse events wrappers

function mouseMultiWrapper(event) {
    mouseDownCapture(event, true);
}

function mouseDownCapture(event, multitouch) {
    if (event.sourceCapabilities && event.sourceCapabilities.firesTouchEvents || event.button == 2) return;
    event.pointerId = 'mouse';
    event.multitouch = multitouch;
    pointerDownHandler(event);
}

function mouseMoveCapture(event) {
    event.pointerId = 'mouse';
    event.inertia = event.ctrlKey ? 10 : 1;
    pointerMoveFilter(event);
}

function mouseUpCapture(event) {
    if (event.sourceCapabilities && event.sourceCapabilities.firesTouchEvents || event.button == 2) return;
    event.pointerId = 'mouse';
    pointerUpFilter(event);
}

// Touch events wrappers

function touchMultiWrapper(event) {
    touchDownCapture(event, true);
}

function touchDownCapture(event, multitouch) {
    event.preventDefault();
    for (var i in event.changedTouches) {
        if (isNaN(i) || !event.changedTouches[i]) continue;
        var touchEvent = event.changedTouches[i];

        if (event.traversing) {
            touchEvent.traversing = event.traversing;
            touchEvent.traversingContainer = event.traversingContainer;
        }

        touchEvent.pointerId = touchEvent.identifier;
        touchEvent.multitouch = multitouch;

        pointerDownHandler(touchEvent);
    }
}

function touchMoveCapture(event) {
    for (var i in event.changedTouches) {
        if (isNaN(i) || !event.changedTouches[i]) continue;
        var touchEvent = event.changedTouches[i];

        var fingers = 0;
        for (var j in event.touches) {
            if (event.touches[j].target && event.touches[j].target.isSameNode(touchEvent.target)) {
                fingers += 1;
                if (fingers == 2) {
                    touchEvent.inertia = 10;
                    break;
                }
            }
        }

        touchEvent.pointerId = touchEvent.identifier;
        pointerMoveFilter(touchEvent);
    }
}

function touchUpCapture(event) {
    for (var i in event.changedTouches) {
        if (isNaN(i) || !event.changedTouches[i]) continue;
        var touchEvent = event.changedTouches[i];
        touchEvent.pointerId = touchEvent.identifier;
        pointerUpFilter(touchEvent);
    }
}

// Callback trigger

function triggerWidgetEvent(target, name, event) {
    if (target !== null && target._drag_widget) {
        target._drag_widget.trigger(name, [event]);
    } else if (target !== null) {
        triggerWidgetEvent(target.closest('.drag-event'), name, event);
    }
}

// init

DOM.ready(function () {

    document.addEventListener('mousemove', mouseMoveCapture, true);
    document.addEventListener('mouseup', mouseUpCapture, true);
    document.addEventListener('touchmove', touchMoveCapture, true);
    DOM.addEventListener(document, 'touchend touchcancel', touchUpCapture, true);
});

module.exports = {

    setup: function setup(options) {

        if (this._customBindings['drag'].bindings !== 0 || this._customBindings['draginit'].bindings !== 0 || this._customBindings['dragend'].bindings !== 0 || !options) {
            return;
        }

        var element = options.element,
            multitouch = options.multitouch;


        element._drag_widget = this;
        element.style.touchAction = 'none';
        element.classList.add('drag-event');

        if (multitouch) {
            element.addEventListener('touchstart', touchMultiWrapper, false);
            element.addEventListener('mousedown', mouseMultiWrapper);
        } else {
            element.addEventListener('touchstart', touchDownCapture, false);
            element.addEventListener('mousedown', mouseDownCapture);
        }
    },

    teardown: function teardown(options) {

        if (this._customBindings['drag'].bindings !== 0 || this._customBindings['draginit'].bindings !== 0 || this._customBindings['dragend'].bindings !== 0 || !options) {
            return;
        }

        var element = options.element,
            multitouch = options.multitouch;


        delete element._drag_widget;
        element.style.touchAction = '';
        element.classList.remove('drag-event');

        if (multitouch) {
            element.removeEventListener('touchstart', touchMultiWrapper, false);
            element.removeEventListener('mousedown', mouseMultiWrapper);
        } else {
            element.removeEventListener('touchstart', touchDownCapture, false);
            element.removeEventListener('mousedown', mouseDownCapture);
        }
    },

    enableTraversingGestures: function enableTraversingGestures(element) {

        function makeEventTraversing(event) {
            if (event.ctrlKey) return;
            event.traversing = true;
            if (!event.traversingContainer) event.traversingContainer = element;
        }

        element.addEventListener('mousedown', makeEventTraversing, true);
        element.addEventListener('touchstart', makeEventTraversing, true);

        element.addEventListener('disableTraversingGestures', function () {

            element.removeEventListener('mousedown', makeEventTraversing, true);
            element.removeEventListener('touchstart', makeEventTraversing, true);
        });
    },

    disableTraversingGestures: function disableTraversingGestures(element) {

        DOM.dispatchEvent(element, 'disableTraversingGestures');
    }

};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/events/drag.js","/src/browser/js/app/events")
},{"./utils":38,"_process":25,"buffer":3,"timers":28}],36:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var WolfyEventEmitter = require('wolfy87-eventemitter'),
    customEvents = {};

customEvents['draginit'] = customEvents['drag'] = customEvents['dragend'] = require('./drag');
customEvents['resize'] = require('./resize');

module.exports = function (_WolfyEventEmitter) {
    _inherits(EventEmitter, _WolfyEventEmitter);

    function EventEmitter() {
        _classCallCheck(this, EventEmitter);

        var _this = _possibleConstructorReturn(this, (EventEmitter.__proto__ || Object.getPrototypeOf(EventEmitter)).call(this));

        _this._customBindings = {};

        for (var evt in customEvents) {
            _this._customBindings[evt] = {
                bindings: 0
            };
        }

        return _this;
    }

    _createClass(EventEmitter, [{
        key: 'emitEvent',
        value: function emitEvent(evt, args) {

            // Event bubbling

            _get(EventEmitter.prototype.__proto__ || Object.getPrototypeOf(EventEmitter.prototype), 'emitEvent', this).call(this, evt, args);

            if (args[0] && !args[0].stopPropagation) {
                if (this.parent) this.parent.emitEvent(evt, args);
            }

            return this;
        }
    }, {
        key: 'getListeners',
        value: function getListeners(evt) {

            if (!(evt instanceof RegExp) && evt.indexOf('.*') > -1) {

                var events = this._getEvents(),
                    evtName = evt.substr(0, evt.indexOf('.')),
                    evtNameCheck = evtName + '.',
                    response = {};

                for (var key in events) {
                    if (key === evtName || key.indexOf(evtNameCheck) > -1) {
                        response[key] = events[key];
                    }
                }

                return response;
            } else {

                return _get(EventEmitter.prototype.__proto__ || Object.getPrototypeOf(EventEmitter.prototype), 'getListeners', this).call(this, evt);
            }
        }
    }, {
        key: 'addListener',
        value: function addListener(evt, listener, options) {

            // Custom event setup

            var eventName = typeof evt == 'string' ? evt.split('.')[0] : '';

            if (customEvents.hasOwnProperty(eventName) && typeof customEvents[eventName].setup === 'function') {
                if (this._customBindings[eventName].bindings === 0) {
                    this._customBindings[eventName].options = options;
                    customEvents[eventName].setup.call(this, options);
                }
                this._customBindings[eventName].bindings += 1;
            }

            _get(EventEmitter.prototype.__proto__ || Object.getPrototypeOf(EventEmitter.prototype), 'addListener', this).call(this, evt, listener);

            return this;
        }
    }, {
        key: 'removeListener',
        value: function removeListener(evt, listener) {

            // Custom event teardown

            var eventName = typeof evt == 'string' ? evt.split('.')[0] : '';

            if (customEvents.hasOwnProperty(eventName) && typeof customEvents[eventName].teardown === 'function' && this._customBindings[eventName].bindings !== 0) {
                this._customBindings[eventName].bindings -= 1;
                if (this._customBindings[eventName].bindings === 0 || !listener) {
                    var options = this._customBindings[eventName].options;
                    customEvents[eventName].teardown.call(this, options);
                }
            }

            // Remove all listeners is none specified

            if (listener) {

                _get(EventEmitter.prototype.__proto__ || Object.getPrototypeOf(EventEmitter.prototype), 'removeListener', this).call(this, evt, listener);
            } else {

                this.removeEvent(evt);
            }

            return this;
        }
    }]);

    return EventEmitter;
}(WolfyEventEmitter);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/events/event-emitter.js","/src/browser/js/app/events")
},{"./drag":35,"./resize":37,"_process":25,"buffer":3,"timers":28,"wolfy87-eventemitter":29}],37:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var elements = [];

function checkResizes(context, force) {
    // Iterate over all elements to which the 'resize' event is bound.
    var resizedElems = [],
        cachedStyles = [];
    for (var i = elements.length - 1; i >= 0; i--) {
        var elem = elements[i];

        if (!context.contains(elem)) continue;

        var style = window.getComputedStyle(elem),
            width = parseInt(style['width']) - parseInt(style['padding-left']) - parseInt(style['padding-right']),
            height = parseInt(style['height']) - parseInt(style['padding-top']) - parseInt(style['padding-bottom']);

        if (!width || !height) continue;

        // If element size has changed since the last time, update the element
        // data store and trigger the 'resize' event.
        if (force || width != elem.resizedataw || height != elem.resizedatah) {
            elem.resizedataw = width;
            elem.resizedatah = height;
            resizedElems.push(elem);
            cachedStyles.push(style);
        }
    }
    for (var _i = resizedElems.length - 1; _i >= 0; _i--) {
        resizedElems[_i]._resize_widget.trigger('resize', [{
            width: resizedElems[_i].resizedataw,
            height: resizedElems[_i].resizedatah,
            style: cachedStyles[_i],
            stopPropagation: true
        }]);
    }
}

window.addEventListener('resize', function () {
    checkResizes(document);
});

module.exports = {

    setup: function setup(options) {

        if (!options) return;
        if (elements.indexOf(options.element) == -1) {
            elements.push(options.element);
            options.element._resize_widget = this;
        }
    },
    teardown: function teardown(options) {

        if (!options) return;

        if (elements.indexOf(options.element) != -1) {
            elements.splice(elements.indexOf(options.element), 1);
            delete options.element._resize_widget;
        }
    },

    check: checkResizes

};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/events/resize.js","/src/browser/js/app/events")
},{"_process":25,"buffer":3,"timers":28}],38:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
"use strict";

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Touch = window.Touch || function Touch() {
    _classCallCheck(this, Touch);
};

module.exports = {

    fix: function fix(e) {

        return {

            target: e.target,
            offsetX: e.offsetX,
            offsetY: e.offsetY,
            pageX: e.pageX,
            pageY: e.pageY,
            clientX: e.clientX,
            clientY: e.clientY,
            movementX: e.movementX,
            movementY: e.movementY,
            pointerId: e.pointerId,
            pointerType: e.pointerType,
            button: e.button,
            ctrlKey: e.ctrlKey,
            shiftKey: e.shiftKey,
            inertia: e.multitouch ? 1 : e.inertia,
            traversing: e.traversing,
            traversingContainer: e.traversingContainer,
            multitouch: e.multitouch,
            isTouch: e instanceof Touch
        };
    },

    normalizeDragEvent: function normalizeDragEvent(event, previousEvent) {

        event = module.exports.fix(event);

        if (event.movementX === undefined) {

            event.movementX = previousEvent ? event.pageX - previousEvent.pageX : 0;
            event.movementY = previousEvent ? event.pageY - previousEvent.pageY : 0;
        }

        if (event.isTouch && !previousEvent) {

            module.exports.resetEventOffset(event, event.target);
        } else if (event.isTouch && previousEvent) {

            event.offsetX = previousEvent.offsetX + event.movementX;
            event.offsetY = previousEvent.offsetY + event.movementY;
        }

        if (event.inertia === undefined) {

            event.inertia = 1;
        }

        if (previousEvent) {

            if (previousEvent.traversing) {
                event.traversing = previousEvent.traversing;
                event.traversingContainer = previousEvent.traversingContainer;
            }

            if (previousEvent.multitouch) {
                event.multitouch = previousEvent.multitouch;
                event.inertia = 1;
            }
        }

        return event;
    },

    resetEventOffset: function resetEventOffset(event, target) {

        var off = DOM.offset(target);

        event.offsetX = event.pageX - off.left;
        event.offsetY = event.pageY - off.top;
    }

};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/events/utils.js","/src/browser/js/app/events")
},{"_process":25,"buffer":3,"timers":28}],39:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

window.ARGV = {};
location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (s, k, v) {
    ARGV[k] = v;
});

window.ELECTRON_FULLSCREEN = window.ELECTRON_FULLSCREEN || false;

window.LANG = (ARGV.lang || navigator.language || '').substr(0, 2).toLowerCase();

window.PACKAGE = require('../../../../app/package.json');
document.title = PACKAGE.productName + ' v' + PACKAGE.version;

window.LOADING = null;

window.CLIPBOARD = null;

window.READ_ONLY = false;
window.EDITING = false;
window.GRIDWIDTH = 10;

window.CANVAS_FRAMERATE = parseFloat(ARGV.framerate || 60);
window.CANVAS_SCALING = parseFloat(ARGV.forceHdpi) || (ARGV.hdpi ? window.devicePixelRatio : 1);
window.INITIALZOOM = ARGV.zoom ? ARGV.zoom : 1;
window.PXSCALE = INITIALZOOM;
document.documentElement.style.setProperty('font-size', PXSCALE + 'px');

window.DOUBLE_TAP_TIME = ARGV.doubletap ? ARGV.doubletap : 375;

window.JSON.parseFlex = require('json5').parse;

window.DOM = require('./dom');

window.$ = require('jquery/dist/jquery.slim.min.js');

require('../libs/jquery.ui');
require('../libs/jquery.touch');

require('cardinal-spline-js/curve.min.js');

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/globals.js","/src/browser/js/app")
},{"../../../../app/package.json":1,"../libs/jquery.touch":109,"../libs/jquery.ui":110,"./dom":30,"_process":25,"buffer":3,"cardinal-spline-js/curve.min.js":4,"jquery/dist/jquery.slim.min.js":10,"json5":11,"timers":28}],40:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var utils = require('../ui/utils'),
    osc = require('../osc'),
    session = require('../managers/session'),
    widgetManager = require('../managers/widgets'),
    state = require('../managers/state'),
    editor = require('../editor/'),
    locales = require('../locales');

module.exports = {

    bundle: function bundle(data) {
        for (var i in data) {
            osc.receive(data[i]);
        }
    },

    receiveOsc: function receiveOsc(data) {
        osc.receive(data);
    },

    connected: function connected() {
        LOADING.close();
    },

    sessionList: function sessionList(data) {

        session.list(data);
    },

    sessionOpen: function sessionOpen(data) {

        session.open(data);
    },

    sessionNew: function sessionNew() {

        session.create();
    },

    stateLoad: function stateLoad(data) {

        state.set(data.state, data.send);
    },

    stateSend: function stateSend() {
        var p = utils.loading(locales('loading_newclient'));

        setTimeout(function () {

            osc.syncOnly = true;
            state.send();
            osc.syncOnly = false;

            p.close();
        }, 150);
    },

    editorDisable: function editorDisable(data) {

        editor.disable(data.permanent);
    },

    error: function error(data) {
        new utils.Popup({ title: utils.icon('exclamation-triangle') + '&nbsp; ' + locales('error'), content: data, closable: true });
    },

    reloadCss: function reloadCss() {
        var queryString = '?reload=' + new Date().getTime();
        DOM.each(document, 'link[rel="stylesheet"][hot-reload]', function (el) {
            el.href = el.href.replace(/\?.*|$/, queryString);
        });

        setTimeout(function () {
            var root = widgetManager.getWidgetById('root')[0];
            if (root) root.reCreateWidget();
        }, 100);

        GRIDWIDTH = getComputedStyle(document.documentElement).getPropertyValue('--grid-width');
    },

    readOnly: function readOnly() {
        READ_ONLY = true;
    }

};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/ipc/callbacks.js","/src/browser/js/app/ipc")
},{"../editor/":34,"../locales":44,"../managers/session":45,"../managers/state":46,"../managers/widgets":47,"../osc":48,"../ui/utils":54,"_process":25,"buffer":3,"timers":28}],41:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var EventEmitter = require('wolfy87-eventemitter'),
    uuid = require('nanoid/generate')('0123456789abcdefghijklmnopqrstuvwxyABCDEFGHIJKLMNOPQRSTUVWXYZ', 10);

var reconnectInterval = 5000,
    hearbeatInterval = 25000,
    hearbeatTimeout = 5000;

var Ipc = function (_EventEmitter) {
    _inherits(Ipc, _EventEmitter);

    function Ipc() {
        _classCallCheck(this, Ipc);

        var _this = _possibleConstructorReturn(this, (Ipc.__proto__ || Object.getPrototypeOf(Ipc)).call(this));

        _this.socket = null;

        _this.queue = [];

        _this.reconnect = undefined;

        _this.hearbeat = undefined;
        _this.hearbeatTimeout = undefined;
        _this.on('pong', function () {
            _this.hearbeatTimeout = clearTimeout(_this.hearbeatTimeout);
        });
        _this.on('ping', function () {
            _this.socket.send('["pong"]');
        });

        _this.open();

        return _this;
    }

    _createClass(Ipc, [{
        key: 'init',
        value: function init() {
            var _this2 = this;

            var callbacks = require('./callbacks');

            var _loop = function _loop(i) {
                var callback = callbacks[i];
                _this2.on(i, function (data) {
                    callback(data);
                });
            };

            for (var i in callbacks) {
                _loop(i);
            }
        }
    }, {
        key: 'open',
        value: function open() {
            var _this3 = this;

            this.socket = new WebSocket('ws://' + window.location.host + '/' + uuid);

            this.socket.onopen = function (e) {

                _this3.reconnect = clearInterval(_this3.reconnect);

                _this3.hearbeat = setInterval(function () {
                    if (!_this3.connected()) return;
                    _this3.socket.send('["ping"]');
                    _this3.hearbeatTimeout = setTimeout(function () {
                        if (_this3.connected()) _this3.socket.close();
                    }, hearbeatTimeout);
                }, hearbeatInterval);

                _this3.trigger('connect');
                _this3.flush();
            };

            this.socket.onmessage = function (e) {
                _this3.receive(e.data);
            };

            this.socket.onclose = this.socket.onerror = function () {
                _this3.close();
            };
        }
    }, {
        key: 'close',
        value: function close() {
            var _this4 = this;

            this.socket = null;

            this.hearbeat = clearInterval(this.hearbeat);
            this.hearbeatTimeout = clearTimeout(this.hearbeatTimeout);
            this.dieTimeout = clearTimeout(this.dieTimeout);

            if (!this.reconnect) {
                this.reconnect = setInterval(function () {
                    _this4.open();
                }, reconnectInterval);
            }
        }
    }, {
        key: 'connected',
        value: function connected() {

            return this.socket && this.socket.readyState == this.socket.OPEN;
        }
    }, {
        key: 'receive',
        value: function receive(message) {

            if (typeof message == 'string') {

                var packet = JSON.parse(message);

                if (Array.isArray(packet) && typeof packet[0] == 'string') {

                    this.emit(packet[0], packet[1]);
                }
            }
        }
    }, {
        key: 'send',
        value: function send(event, data) {

            var packet = JSON.stringify([event, data]);

            if (this.connected()) {
                this.socket.send(packet);
            } else {
                this.queue.push(packet);
            }
        }
    }, {
        key: 'flush',
        value: function flush() {

            for (var i in this.queue) {

                if (this.connected()) this.socket.send(this.queue[i]);
            }

            this.queue = [];
        }
    }]);

    return Ipc;
}(EventEmitter);

var ipc = new Ipc();

module.exports = ipc;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/ipc/index.js","/src/browser/js/app/ipc")
},{"./callbacks":40,"_process":25,"buffer":3,"nanoid/generate":20,"timers":28,"wolfy87-eventemitter":29}],42:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

module.exports = {

    // editor
    editor_on: 'On',
    editor_off: 'Off',
    editor_root: 'Root',
    editor_load: 'Load',
    editor_save: 'Save',

    // editor context-menu
    editor_editparent: 'Edit parent',
    editor_copy: 'Copy',
    editor_cut: 'Cut',
    editor_wrap: 'Wrap in',
    editor_paste: 'Paste',
    editor_pasteindent: 'ID + 1',
    editor_clone: 'Clone',
    editor_addwidget: 'Add widget',
    editor_addtab: 'Add tab',
    editor_delete: 'Delete',
    editor_delete_prompt: 'Are you sure ?',
    editor_delete_yes: 'Delete',
    editor_delete_no: 'Cancel',

    // loadings
    loading_upload: 'Uploading file...',
    loading_newclient: 'New client connecting...',
    loading_server: 'Connecting server...',
    loading_session: 'Loading session...',

    // fullscreen error
    fs_unnavailable: 'Fullscreen not available',
    fs_addtohome: 'You must add this page to your home screen to launch it in fullscreen',

    // session
    session_browse: 'Browse...',
    session_new: 'New session',
    session_malformed: 'Malformed session file.',
    session_parsingerror: 'Parsing error.',
    session_uploaderror: 'Failed to upload session file.',

    // sidepanel
    sidepanel_fs: 'Fullscreen',
    sidepanel_state: 'State',
    sidepanel_traversing: 'Traversing gestures',
    sidepanel_editor: 'Editor',

    // state
    state_store: 'Store',
    state_recall: 'Recall',
    state_send: 'Send All',
    state_import: 'Import',
    state_export: 'Export',
    state_uploaderror: 'Failed to upload state file.',

    // traversing
    traversing_on: 'On',
    traversing_off: 'Off',

    // misc
    error: 'Error'

};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/locales/en.js","/src/browser/js/app/locales")
},{"_process":25,"buffer":3,"timers":28}],43:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

module.exports = {

    // editor
    editor_on: 'On',
    editor_off: 'Off',
    editor_root: 'Root',
    editor_load: 'Charger',
    editor_save: 'Sauver',

    // editor context-menu
    editor_editparent: 'Editer parent',
    editor_copy: 'Copier',
    editor_cut: 'Couper',
    editor_wrap: 'Grouper dans',
    editor_paste: 'Coller',
    editor_pasteindent: 'ID + 1',
    editor_clone: 'Clone',
    editor_addwidget: 'Nouveau widget',
    editor_addtab: 'Nouvel onglet',
    editor_delete: 'Supprimer',
    editor_delete_prompt: 'Êtes-vous sûr ?',
    editor_delete_yes: 'Supprimer',
    editor_delete_no: 'Annuler',

    // loadings
    loading_upload: 'Téléversement...',
    loading_newclient: 'Connexion d\'un nouveau client...',
    loading_server: 'Connexion au serveur...',
    loading_session: 'Chargement de la session...',

    // fullscreen error
    fs_unnavailable: 'Plein écran non disponible',
    fs_addtohome: 'Vous devez ajouter cette page à votre écran d\'accueil pour pouvoir l\'ouvrir en plein écran.',

    // session
    session_browse: 'Parcourir...',
    session_new: 'Nouvelle session',
    session_malformed: 'Fichier de session mal formé.',
    session_parsingerror: 'Erreur à l\'ouverture de la session.',
    session_uploaderror: 'Echec à l\'envoi du fichier de session.',

    // sidepanel
    sidepanel_fs: 'Plein Écran',
    sidepanel_state: 'État',
    sidepanel_traversing: 'Gestes traversants',
    sidepanel_editor: 'Éditeur',

    // state
    state_store: 'Sauver',
    state_recall: 'Rappeler',
    state_send: 'Envoyer',
    state_import: 'Importer',
    state_export: 'Exporter',
    state_uploaderror: 'Echec à l\'envoi du fichier d\'état.',

    // traversing
    traversing_on: 'On',
    traversing_off: 'Off',

    // misc
    error: 'Erreur'

};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/locales/fr.js","/src/browser/js/app/locales")
},{"_process":25,"buffer":3,"timers":28}],44:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var locales = {
    debug: {/* empty */},
    en: require('./en'),
    fr: require('./fr')
};

var lang = locales[LANG] ? LANG : 'en';

module.exports = function (key) {
    return locales[lang][key] || '<em class="translation-missing">' + key + '</em>';
};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/locales/index.js","/src/browser/js/app/locales")
},{"./en":42,"./fr":43,"_process":25,"buffer":3,"timers":28}],45:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ipc = require('../ipc/'),
    parser = require('../parser'),
    editor = require('../editor/'),
    lobby = require('../ui/lobby'),
    _require = require('../ui/utils'),
    loading = _require.loading,
    icon = _require.icon,
    Popup = _require.Popup,
    upload = _require.upload,
    _require2 = require('file-saver'),
    saveAs = _require2.saveAs,
    widgetManager = require('./widgets'),
    locales = require('../locales');


var SessionManager = function () {
    function SessionManager() {
        _classCallCheck(this, SessionManager);

        this.session = [];
        this.lock = false;
    }

    _createClass(SessionManager, [{
        key: 'load',
        value: function load(session, callback) {
            var _this = this;

            if (this.lock) return;

            this.lock = true;

            var container = DOM.get('#container')[0];

            container.classList.remove('show');
            container.innerHTML = '';

            lobby.close();

            var loader = loading(locales('loading_session'));

            setTimeout(function () {
                try {
                    parser.reset();

                    try {

                        if (session[0].type != 'root') {
                            _this.session = [{ type: 'root', tabs: session }];
                        } else if (session[0].type == 'root') {
                            _this.session = session;
                        }
                    } catch (err) {

                        throw new Error(locales('session_malformed'));
                    }

                    parser.parse(_this.session, DOM.get('#container')[0]);
                    editor.clearHistory();
                } catch (err) {
                    loader.close();
                    lobby.open();
                    new Popup({ title: icon('exclamation-triangle') + '&nbsp; ' + locales('session_parsingerror'), content: err, closable: true });
                    _this.lock = false;
                    throw err;
                }

                for (var h in widgetManager.widgets) {
                    if (widgetManager.widgets[h].value !== undefined) {
                        widgetManager.trigger('change.*', [{
                            widget: widgetManager.widgets[h],
                            id: widgetManager.widgets[h].getProp('id'),
                            linkId: widgetManager.widgets[h].getProp('linkId'),
                            options: {}
                        }]);
                    }
                }

                if (editor.enabled) editor.disable();

                DOM.dispatchEvent(window, 'resize');

                setTimeout(function () {
                    loader.close();
                    container.classList.add('show');
                    _this.lock = false;
                    if (callback) callback();
                }, 25);
            }, 25);
        }
    }, {
        key: 'save',
        value: function save() {

            var sessionfile = JSON.stringify(this.session, null, '  '),
                blob = new Blob([sessionfile], { type: 'application/json' });

            saveAs(blob, new Date().toJSON().slice(0, 10) + '_' + new Date().toJSON().slice(11, 16) + '.json');

            ipc.send('savingSession');
        }
    }, {
        key: 'list',
        value: function list(data) {
            var _this2 = this;

            for (var i in data) {

                var max = 50;
                var path = data[i],
                    file = path.split('\\').pop().split('/').pop(),
                    length = data[i].length;

                path = path.replace(file, '');

                if (length > max - 3) {
                    path = path.substr(0, Math.floor(path.length / 2) - (length - max) / 2) + '...' + path.substr(Math.ceil(path.length / 2) + (length - max) / 2, path.length);
                }

                lobby.list.appendChild(DOM.create('\n                <a href="#" tabIndex="0" class="btn load" data-session="' + data[i] + '">\n                    ' + file + ' <em style="opacity:0.45">(' + path + ')</em>\n                    ' + (READ_ONLY ? '' : '<span>' + icon('times') + '</span>') + '\n                </a>\n            '));
            }

            lobby.list.addEventListener('click', function (e) {
                e.preventDefault();
                if (e.target.hasAttribute('data-session')) {
                    ipc.send('sessionOpen', { path: e.target.getAttribute('data-session') });
                } else if (!READ_ONLY && e.target.tagName == 'SPAN') {
                    ipc.send('sessionRemoveFromHistory', e.target.parentNode.getAttribute('data-session'));
                    lobby.list.removeChild(e.target.parentNode);
                }
            });

            if (!READ_ONLY) {

                var brw = lobby.footer.appendChild(DOM.create('<a href="#" tabindex="0" class="btn browse">' + icon('folder-open') + ' ' + locales('session_browse') + '</a>'));
                var nws = lobby.footer.appendChild(DOM.create('<a href="#" tabindex="0" class="btn new">' + icon('file') + ' ' + locales('session_new') + '</a>'));

                brw.addEventListener('click', function (e) {
                    _this2.browse();
                });

                nws.addEventListener('click', function (e) {
                    _this2.create();
                });
            }

            DOM.addEventListener(lobby.html, 'mousedown touchstart', function (e) {
                if (e.type == 'mousedown') e.preventDefault();
                e.target.blur();
            });

            lobby.open();
        }
    }, {
        key: 'open',
        value: function open(data) {

            this.load(data, function () {
                ipc.send('sessionOpened');
            });
        }
    }, {
        key: 'browse',
        value: function browse() {

            upload('.json', function (path, result) {
                ipc.send('sessionOpen', { file: result, path: path });
            }, function () {
                new Popup({ title: icon('exclamation-triangle') + '&nbsp; ' + locales('error'), content: locales('session_uploaderror'), closable: true });
            });
        }
    }, {
        key: 'create',
        value: function create() {
            this.load([{}], function () {
                require('../ui/sidepanel').open();
                editor.enable();
                editor.select(widgetManager.getWidgetById('root'));
            });
        }
    }]);

    return SessionManager;
}();

var sessionManager = new SessionManager();

module.exports = sessionManager;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/managers/session.js","/src/browser/js/app/managers")
},{"../editor/":34,"../ipc/":41,"../locales":44,"../parser":49,"../ui/lobby":52,"../ui/sidepanel":53,"../ui/utils":54,"./widgets":47,"_process":25,"buffer":3,"file-saver":7,"timers":28}],46:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var widgetManager = require('./widgets'),
    _require = require('../ui/utils'),
    icon = _require.icon,
    Popup = _require.Popup,
    upload = _require.upload,
    _require2 = require('file-saver'),
    saveAs = _require2.saveAs,
    locales = require('../locales');


var StateManager = function () {
    function StateManager() {
        _classCallCheck(this, StateManager);

        this.quickState = [];

        this.valueStateQueue = {};
        this.valueOldPropQueue = {};
        this.valueNewPropQueue = {};
        this.queueCounter = 0;
    }

    _createClass(StateManager, [{
        key: 'get',
        value: function get() {

            var data = [];

            for (var i in widgetManager.widgets) {

                var widget = widgetManager.widgets[i];

                if (widget.setValue && widget.getValue) {

                    var v = widget.getValue();

                    if (v != undefined) {

                        data.push([widget.getProp('id'), v]);
                        continue;
                    }
                }
            }

            return data;
        }
    }, {
        key: 'set',
        value: function set(preset, send) {

            for (var i in preset) {

                var data = preset[i],
                    widgets = widgetManager.getWidgetById(data[0]);

                if (widgets.length) {

                    for (var j = widgets.length - 1; j >= 0; j--) {

                        if (widgets[j].setValue) {

                            widgets[j].setValue(data[1], { send: send, sync: true });
                        }
                    }
                }
            }
        }
    }, {
        key: 'send',
        value: function send(options) {

            for (var i in widgetManager.widgets) {

                var widget = widgetManager.widgets[i];

                if (widget.sendValue) {
                    widget.sendValue(null, options);
                }
            }
        }
    }, {
        key: 'load',
        value: function load() {
            var _this = this;

            upload('.state', function (path, result) {
                _this.set(JSON.parse(result), true);
            }, function (e) {
                new Popup({ title: icon('exclamation-triangle') + '&nbsp; ' + locales('error'), content: locales('state_uploaderror'), closable: true });
            });
        }
    }, {
        key: 'save',
        value: function save() {

            var state = JSON.stringify(this.get(), null, '    ');
            var blob = new Blob([state], { type: 'application/json' });
            saveAs(blob, new Date().toJSON().slice(0, 10) + '_' + new Date().toJSON().slice(11, 16) + '.state');
        }
    }, {
        key: 'quickSave',
        value: function quickSave(state) {

            if (state) {

                this.quickState = state;
            } else {

                this.quickState = this.get();
            }
        }
    }, {
        key: 'quickLoad',
        value: function quickLoad() {

            this.set(this.quickState, true);
        }
    }, {
        key: 'pushValueState',
        value: function pushValueState(id, value) {
            this.valueStateQueue[id] = value;
        }
    }, {
        key: 'pushValueOldProp',
        value: function pushValueOldProp(id, value) {
            this.valueOldPropQueue[id] = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object' ? JSON.stringify(value) : value;
        }
    }, {
        key: 'pushValueNewProp',
        value: function pushValueNewProp(id, value) {
            this.valueNewPropQueue[id] = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object' ? JSON.stringify(value) : value;
            if (this.queueCounter == 0) this.flush();
        }
    }, {
        key: 'flush',
        value: function flush() {
            for (var id in this.valueStateQueue) {
                if (this.valueStateQueue[id] !== undefined) {
                    var _iteratorNormalCompletion = true;
                    var _didIteratorError = false;
                    var _iteratorError = undefined;

                    try {
                        for (var _iterator = widgetManager.getWidgetById(id)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                            var w = _step.value;

                            w.setValue(this.valueStateQueue[id], { sync: true });
                        }
                    } catch (err) {
                        _didIteratorError = true;
                        _iteratorError = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion && _iterator.return) {
                                _iterator.return();
                            }
                        } finally {
                            if (_didIteratorError) {
                                throw _iteratorError;
                            }
                        }
                    }
                }
            }

            for (var _id in this.valueNewPropQueue) {
                if (this.valueNewPropQueue[_id] != this.valueOldPropQueue[_id]) {
                    var _iteratorNormalCompletion2 = true;
                    var _didIteratorError2 = false;
                    var _iteratorError2 = undefined;

                    try {
                        for (var _iterator2 = widgetManager.getWidgetById(_id)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                            var _w = _step2.value;

                            _w.setValue(_w.getProp('value'), { sync: true });
                        }
                    } catch (err) {
                        _didIteratorError2 = true;
                        _iteratorError2 = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion2 && _iterator2.return) {
                                _iterator2.return();
                            }
                        } finally {
                            if (_didIteratorError2) {
                                throw _iteratorError2;
                            }
                        }
                    }
                }
            }

            this.valueStateQueue = {};
            this.valueOldPropQueue = {};
            this.valueNewPropQueue = {};
        }
    }, {
        key: 'incrementQueue',
        value: function incrementQueue() {
            this.queueCounter++;
        }
    }, {
        key: 'decrementQueue',
        value: function decrementQueue() {
            this.queueCounter--;
            if (this.queueCounter == 0) this.flush();
        }
    }]);

    return StateManager;
}();

var stateManager = new StateManager();

module.exports = stateManager;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/managers/state.js","/src/browser/js/app/managers")
},{"../locales":44,"../ui/utils":54,"./widgets":47,"_process":25,"buffer":3,"file-saver":7,"timers":28}],47:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var EventEmitter = require('../events/event-emitter'),
    ipc = require('../ipc/');

var WidgetManager = function (_EventEmitter) {
    _inherits(WidgetManager, _EventEmitter);

    function WidgetManager() {
        _classCallCheck(this, WidgetManager);

        var _this = _possibleConstructorReturn(this, (WidgetManager.__proto__ || Object.getPrototypeOf(WidgetManager)).call(this));

        _this.widgets = {};

        _this.addressRoute = {};
        _this.idRoute = {};
        _this.linkIdRoute = {};

        _this.linkIdLock = [];
        _this.linkIdLockDepth = 0;

        _this.scrollingWidgets = [];

        _this.preArgsSeparator = '||||';

        _this.on('change', _this.onChange, _this);

        ipc.on('connect', function () {
            for (var hash in _this.widgets) {
                _this.registerWidget(_this.widgets[hash]);
            }
        });

        return _this;
    }

    _createClass(WidgetManager, [{
        key: 'onChange',
        value: function onChange(e) {
            var _this2 = this;

            var id = e.id,
                widget = e.widget,
                linkId = e.linkId,
                options = e.options;


            if (linkId) {
                if (!Array.isArray(linkId)) linkId = [linkId];
                linkId = linkId.map(function (x) {
                    return x.replace(/^>>\s*/, '');
                }).filter(function (x) {
                    return x.indexOf('<<') < 0;
                });
                linkId = linkId.filter(function (x) {
                    return _this2.linkIdLock.indexOf(x) < 0;
                });
                this.linkIdLock = this.linkIdLock.concat(linkId);
                this.linkIdLockDepth++;
            }

            var widgetsById = this.getWidgetById(id),
                widgetsByLinkId = linkId ? this.getWidgetByLinkId(linkId) : [];

            // Widget that share the same id will update each other
            // without sending any extra osc message
            if (widgetsById.length > 1) {
                var v = widget.getValue();
                for (var i in widgetsById) {
                    if (widgetsById[i] !== widget) {
                        widgetsById[i].setValue(v, { send: false, sync: false });
                    }
                }
            }

            // widgets that share the same linkId will update each other.
            // Updated widgets will send osc messages normally
            if (widgetsByLinkId.length > 0) {
                var _v = widget.getValue();
                for (var _i in widgetsByLinkId) {
                    if (widgetsByLinkId[_i] !== widget) {
                        widgetsByLinkId[_i].setValue(_v, { send: options.send, sync: true });
                    }
                }
            }

            if (linkId && this.linkIdLockDepth) {
                this.linkIdLockDepth--;
                if (!this.linkIdLockDepth) {
                    this.linkIdLock = [];
                }
            }
        }
    }, {
        key: 'createAddressRef',
        value: function createAddressRef(widget, preArgs, address) {

            preArgs = widget ? widget.getProp('preArgs') : preArgs;
            address = widget ? widget.getProp('address') : address;

            if (!Array.isArray(preArgs) && preArgs !== '') preArgs = [preArgs];
            if (preArgs === '') preArgs = [];

            preArgs = preArgs.map(function (x) {
                return (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object' && x !== null && x.value !== undefined ? x.value : x;
            });

            return preArgs && preArgs.length ? address + this.preArgsSeparator + preArgs.join(this.preArgsSeparator) : address;
        }
    }, {
        key: 'addWidget',
        value: function addWidget(widget) {

            var hash = widget.hash,
                address = this.createAddressRef(widget),
                id = widget.getProp('id'),
                linkId = widget.getProp('linkId'),
                scroll = widget.getProp('scroll');

            this.widgets[hash] = widget;

            if (!this.idRoute[id]) this.idRoute[id] = [];
            this.idRoute[id].push(hash);

            if (address) {
                if (!this.addressRoute[address]) this.addressRoute[address] = [];
                this.addressRoute[address].push(hash);
            }

            if (linkId) {
                if (!Array.isArray(linkId)) linkId = [linkId];
                linkId = linkId.map(function (x) {
                    return x.replace(/^<<\s*/, '');
                }).filter(function (x) {
                    return x.indexOf('>>') < 0;
                });
                for (var i in linkId) {
                    if (linkId[i]) {
                        if (!this.linkIdRoute[linkId[i]]) this.linkIdRoute[linkId[i]] = [];
                        this.linkIdRoute[linkId[i]].push(hash);
                    }
                }
            }

            if (scroll) {
                this.scrollingWidgets.push(hash);
            }

            this.registerWidget(widget);
        }
    }, {
        key: 'registerWidget',
        value: function registerWidget(widget, updatedData, oldData) {

            ipc.send('addWidget', {
                hash: widget.hash,
                data: updatedData || {
                    precision: widget.getProp('precision'),
                    preArgs: widget.getProp('preArgs'),
                    split: widget.getSplit(),
                    target: widget.getProp('target'),
                    address: widget.getProp('address'),
                    noSync: widget.getProp('noSync')
                }
            });

            if (updatedData && oldData) {
                var address = this.createAddressRef(null, oldData.preArgs, oldData.address),
                    newAddress = this.createAddressRef(widget),
                    hash = widget.hash;

                if (address && this.addressRoute[address].indexOf(hash) != -1) this.addressRoute[address].splice(this.addressRoute[address].indexOf(hash), 1);

                if (!this.addressRoute[newAddress]) this.addressRoute[newAddress] = [];
                this.addressRoute[newAddress].push(hash);
            }
        }
    }, {
        key: 'removeWidget',
        value: function removeWidget(hash) {

            var widget = this.widgets[hash],
                address = this.createAddressRef(widget),
                linkId = widget.getProp('linkId'),
                id = widget.getProp('id'),
                scroll = widget.getProp('scroll');

            if (this.widgets[hash]) {
                if (this.widgets[hash].onRemove) this.widgets[hash].onRemove();

                delete this.widgets[hash];

                ipc.send('removeWidget', {
                    hash: hash
                });

                this.trigger('widget-removed.*', [{ widget: widget }]);
            }
            if (id && this.idRoute[id].indexOf(hash) != -1) this.idRoute[id].splice(this.idRoute[id].indexOf(hash), 1);
            if (address && this.addressRoute[address].indexOf(hash) != -1) this.addressRoute[address].splice(this.addressRoute[address].indexOf(hash), 1);
            if (scroll && this.scrollingWidgets.indexOf(hash) != -1) this.scrollingWidgets.splice(this.scrollingWidgets.indexOf(hash), 1);

            if (!Array.isArray(linkId)) linkId = [linkId];
            for (var i in linkId) {
                if (linkId[i] && this.linkIdRoute[linkId[i]] && this.linkIdRoute[linkId[i]].indexOf(hash) != -1) this.linkIdRoute[linkId[i]].splice(this.linkIdRoute[linkId[i]].indexOf(hash), 1);
            }
        }
    }, {
        key: 'removeWidgets',
        value: function removeWidgets(hashes) {

            for (var i in hashes) {

                if (this.widgets[hashes[i]]) {
                    this.removeWidget(hashes[i]);
                }
            }

            this.purge();
        }
    }, {
        key: 'purge',
        value: function purge() {
            var _arr = [this.addressRoute, this.idRoute, this.linkIdRoute];


            for (var _i2 = 0; _i2 < _arr.length; _i2++) {
                var route = _arr[_i2];
                for (var key in route) {
                    for (var _i3 = route[key].length - 1; _i3 >= 0; _i3--) {
                        var hash = route[key][_i3];
                        if (!this.widgets[hash]) {
                            route[key].splice(_i3, 1);
                        }
                    }
                }
            }

            for (var i in this.scrollingWidgets) {
                if (!this.widgets[this.scrollingWidgets[i]]) {
                    this.scrollingWidgets.splice(i, 1);
                }
            }
        }
    }, {
        key: 'reset',
        value: function reset() {

            this.removeWidgets(Object.keys(this.widgets));

            this.removeEvent();

            this.on('change', this.onChange, this);
        }
    }, {
        key: 'getWidgetBy',
        value: function getWidgetBy(key, dict) {
            var widgets = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];


            var hash, w;

            if (Array.isArray(key)) {
                for (var i in key) {
                    this.getWidgetBy(key[i], dict, widgets);
                }
                return widgets;
            }

            if (dict[key]) {
                for (var _i4 = dict[key].length - 1; _i4 >= 0; _i4--) {
                    hash = dict[key][_i4];
                    w = this.widgets[hash];
                    if (!w) {
                        dict[key].splice(_i4, 1);
                    } else if (widgets.indexOf(w) == -1) {
                        widgets.push(w);
                    }
                }
            }

            return widgets;
        }
    }, {
        key: 'getWidgetById',
        value: function getWidgetById(id) {

            return this.getWidgetBy(id, this.idRoute);
        }
    }, {
        key: 'getWidgetByLinkId',
        value: function getWidgetByLinkId(linkId) {

            return this.getWidgetBy(linkId, this.linkIdRoute);
        }
    }, {
        key: 'getWidgetByAddress',
        value: function getWidgetByAddress(address) {

            return this.getWidgetBy(address, this.addressRoute);
        }
    }, {
        key: 'getWidgetByAddressAndArgs',
        value: function getWidgetByAddressAndArgs(address, args) {

            var addressref = address,
                restArgs = args;

            if ((typeof args === 'undefined' ? 'undefined' : _typeof(args)) == 'object' && args != null) {
                for (var i = args.length; i >= 0; i--) {

                    var ref = this.createAddressRef(null, args.slice(0, i), address);

                    if (this.getWidgetByAddress(ref).length) {
                        addressref = ref;
                        restArgs = args.slice(i, args.length);
                        break;
                    }
                }
            } else {
                restArgs = args;
            }

            if (restArgs == null || restArgs.length == 0) restArgs = null;else if (restArgs.length == 1) restArgs = restArgs[0];

            var widgets = this.getWidgetByAddress(addressref);

            return [widgets, restArgs];
        }
    }, {
        key: 'getWidgetByElement',
        value: function getWidgetByElement(e) {
            var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

            var element = e ? e.closest('[data-widget]' + filter) : undefined;
            if (element) {
                return element._widget_instance ? element._widget_instance : this.widgets[element.getAttribute('data-widget')];
            }
        }
    }]);

    return WidgetManager;
}(EventEmitter);

var widgetManager = new WidgetManager();

module.exports = widgetManager;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/managers/widgets.js","/src/browser/js/app/managers")
},{"../events/event-emitter":36,"../ipc/":41,"_process":25,"buffer":3,"timers":28}],48:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var widgetManager = require('./managers/widgets'),
    EventEmitter = require('./events/event-emitter'),
    ipc = require('./ipc/');

var Osc = function (_EventEmitter) {
    _inherits(Osc, _EventEmitter);

    function Osc() {
        _classCallCheck(this, Osc);

        var _this = _possibleConstructorReturn(this, (Osc.__proto__ || Object.getPrototypeOf(Osc)).call(this));

        _this.syncOnly = false;
        _this.remoteControl = {};

        return _this;
    }

    _createClass(Osc, [{
        key: 'send',
        value: function send(data) {

            if (this.syncOnly) {

                this.sync(data);
            } else {

                ipc.send('sendOsc', data);
            }
        }
    }, {
        key: 'sync',
        value: function sync(data) {

            ipc.send('syncOsc', data);
        }
    }, {
        key: 'receive',
        value: function receive(data) {

            if (this.remoteControl.exists(data.address)) this.remoteControl.exec(data.address, data.args);

            var _widgetManager$getWid = widgetManager.getWidgetByAddressAndArgs(data.address, data.args),
                _widgetManager$getWid2 = _slicedToArray(_widgetManager$getWid, 2),
                widgets = _widgetManager$getWid2[0],
                restArgs = _widgetManager$getWid2[1];

            for (var i in widgets) {
                var widgetTarget = widgets[i].getProp('target');
                // if the message target is provided (when message comes from another client connected to the same server)
                // then we only update the widgets that have the same target
                if (!data.target || !widgetTarget || String(widgetTarget) === String(data.target)) {
                    // update matching widgets
                    if (widgets[i] && widgets[i].setValue) widgets[i].setValue(restArgs, { send: false, sync: true, fromExternal: !data.target });
                }
            }

            this.trigger(data.address + '.*', [data.args]);
        }
    }]);

    return Osc;
}(EventEmitter);

var osc = new Osc();

module.exports = osc;

osc.remoteControl = require('./remote-control');

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/osc.js","/src/browser/js/app")
},{"./events/event-emitter":36,"./ipc/":41,"./managers/widgets":47,"./remote-control":50,"_process":25,"buffer":3,"timers":28}],49:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var widgetManager = require('./managers/widgets'),
    stateManager = require('./managers/state');

var Parser = function () {
    function Parser() {
        _classCallCheck(this, Parser);

        this.iterators = {};
        this.widgets = {};
    }

    _createClass(Parser, [{
        key: 'getIterator',
        value: function getIterator(id) {

            this.iterators[id] = (this.iterators[id] || 0) + 1;
            return this.iterators[id];
        }
    }, {
        key: 'reset',
        value: function reset() {

            this.iterators = {};
            widgetManager.reset();
        }
    }, {
        key: 'parse',
        value: function parse(data, parentNode, parentWidget, tab, reCreateOptions) {

            for (var i in data) {

                var props = data[i];

                // Set default widget type
                props.type = tab ? 'tab' : props.type || 'fader';

                // Backward compatibility patches
                if (props.path) props.address = props.path;
                if (props.noPip) props.pips = !props.noPip;
                if (props.noSync) {
                    props.bypass = props.noSync;
                    delete props.noSync;
                }
                // Safe copy widget's options
                var defaults = this.widgets[props.type].defaults()._props();

                // Set widget's undefined options to default
                for (var _i in defaults) {
                    if (_i.indexOf('_') != 0 && props[_i] === undefined) props[_i] = defaults[_i];
                }

                // Genrate widget's id, based on its type
                if (props.id == 'auto' || !props.id) {
                    var id;
                    while (!id || widgetManager.getWidgetById(id).length) {
                        id = props.type + '_' + this.getIterator(props.type);
                    }
                    props.id = id;
                }

                // Generate default address
                props.address = props.address == 'auto' ? '/' + props.id : props.address;

                for (var j in props) {
                    if (defaults[j] === undefined || j[0] === '_') delete props[j];
                }

                // create widget
                var widget = new this.widgets[props.type]({ props: props, container: true, parent: parentWidget, parentNode: parentNode, reCreateOptions: reCreateOptions });

                widgetManager.addWidget(widget);

                widget.created();

                // set widget's initial state
                var defaultValue = widget.getProp('default'),
                    currentValue = widget.getProp('value');

                if (currentValue !== '' && currentValue !== undefined) {

                    stateManager.pushValueNewProp(widget.getProp('id'), currentValue);
                } else if (defaultValue !== '' && defaultValue !== undefined) {

                    widget.setValue(defaultValue);
                }

                // Append the widget to its parent
                parentNode.appendChild(widget.container);
            }

            // Editor needs to get the container object
            if (data && data.length == 1) return widget;
        }
    }]);

    return Parser;
}();

var parser = new Parser();

module.exports = parser;

parser.widgets = require('./widgets/').widgets;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/parser.js","/src/browser/js/app")
},{"./managers/state":46,"./managers/widgets":47,"./widgets/":69,"_process":25,"buffer":3,"timers":28}],50:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }

var _require = require('./editor/data-workers'),
    updateWidget = _require.updateWidget,
    editor = require('./editor'),
    widgetManager = require('./managers/widgets'),
    deepExtend = require('deep-extend');

var callbacks = {
    '/EDIT': function EDIT(args) {

        if (READ_ONLY) return;

        var _args = _slicedToArray(args, 2),
            id = _args[0],
            json = _args[1],
            newdata = typeof json == 'string' ? JSON.parseFlex(json) : json,
            widgets = widgetManager.getWidgetById(id);

        if (!widgets.length) return;

        for (var i = widgets.length - 1; i >= 0; i--) {

            var widget = widgets[i],
                data = widget.props;

            for (var k in newdata) {
                data[k] = newdata[k];
            }

            updateWidget(widget, { remote: true });
        }

        editor.pushHistory();
    },
    '/EDIT/MERGE': function EDITMERGE(args) {

        if (READ_ONLY) return;

        var _args2 = _slicedToArray(args, 2),
            id = _args2[0],
            json = _args2[1],
            newdata = typeof json == 'string' ? JSON.parseFlex(json) : json,
            widgets = widgetManager.getWidgetById(id);

        if (!widgets.length) return;

        for (var i = widgets.length - 1; i >= 0; i--) {

            var widget = widgets[i],
                data = widget.props;

            deepExtend(data, newdata);

            updateWidget(widget, { remote: true });
        }

        editor.pushHistory();
    },
    '/EDIT/UNDO': function EDITUNDO(args) {

        if (READ_ONLY) return;

        editor.undo();
    },
    '/EDIT/REDO': function EDITREDO(args) {

        if (READ_ONLY) return;

        editor.redo();
    },
    '/EDIT/GET': function EDITGET(args) {
        var _args3 = _toArray(args),
            target = _args3[0],
            idOrAddress = _args3[1],
            preArgs = _args3.slice(2),
            widgets = [];

        if (idOrAddress[0] == '/') {

            widgets = widgetManager.getWidgetByAddress(widgetManager.createAddressRef(null, preArgs, idOrAddress));
        } else {

            widgets = widgetManager.getWidgetById(idOrAddress);
        }

        for (var i = widgets.length - 1; i >= 0; i--) {

            return widgets[i].sendValue({
                target: [target],
                address: '/EDIT/GET',
                preArgs: [idOrAddress].concat(_toConsumableArray(preArgs)),
                v: JSON.stringify(widgets[i].props),
                noSync: true
            }, { force: true });
        }
    },
    '/GET': function GET(args) {
        var _args4 = _toArray(args),
            target = _args4[0],
            idOrAddress = _args4[1],
            preArgs = _args4.slice(2),
            widgets = [];

        if (idOrAddress[0] == '/') {

            widgets = widgetManager.getWidgetByAddress(widgetManager.createAddressRef(null, preArgs, idOrAddress));
        } else {

            widgets = widgetManager.getWidgetById(idOrAddress);
        }

        for (var i = widgets.length - 1; i >= 0; i--) {

            return widgets[i].sendValue({
                target: [target],
                address: '/GET',
                preArgs: [idOrAddress].concat(_toConsumableArray(preArgs)),
                noSync: true
            }, { force: true });
        }
    },
    '/SET': function SET(args) {
        var _args5 = _toArray(args),
            idOrAddress = _args5[0],
            preArgsOrValue = _args5.slice(1),
            widgets = [],
            value = null;

        if (idOrAddress[0] == '/') {
            var _widgetManager$getWid = widgetManager.getWidgetByAddressAndArgs(idOrAddress, preArgsOrValue);

            var _widgetManager$getWid2 = _slicedToArray(_widgetManager$getWid, 2);

            widgets = _widgetManager$getWid2[0];
            value = _widgetManager$getWid2[1];
        } else {

            widgets = widgetManager.getWidgetById(idOrAddress);
            value = preArgsOrValue;
            if (value.length == 0) value = null;else if (value.length == 1) value = value[0];
        }

        for (var i = widgets.length - 1; i >= 0; i--) {

            return widgets[i].setValue(value, {
                sync: true,
                send: true
            });
        }
    },
    '/TABS': function TABS(args) {

        if (!Array.isArray(args)) args = [args];

        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
            for (var _iterator = args[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var id = _step.value;

                var ws = widgetManager.getWidgetById(id);
                var _iteratorNormalCompletion2 = true;
                var _didIteratorError2 = false;
                var _iteratorError2 = undefined;

                try {
                    for (var _iterator2 = ws[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                        var w = _step2.value;

                        DOM.each(document, '.tablink[data-widget="' + w.hash + '"]', function (el) {
                            DOM.dispatchEvent(el, 'fast-click', {});
                        });
                    }
                } catch (err) {
                    _didIteratorError2 = true;
                    _iteratorError2 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion2 && _iterator2.return) {
                            _iterator2.return();
                        }
                    } finally {
                        if (_didIteratorError2) {
                            throw _iteratorError2;
                        }
                    }
                }
            }
        } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion && _iterator.return) {
                    _iterator.return();
                }
            } finally {
                if (_didIteratorError) {
                    throw _iteratorError;
                }
            }
        }
    }

    // backward-compatibility
};callbacks['/EDIT_SOFT'] = callbacks['/EDIT/MERGE'];

module.exports = {
    exec: function exec(name, args) {
        if (callbacks[name]) {
            callbacks[name](args);
        }
    },
    exists: function exists(name) {
        return name in callbacks;
    }
};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/remote-control.js","/src/browser/js/app")
},{"./editor":34,"./editor/data-workers":32,"./managers/widgets":47,"_process":25,"buffer":3,"deep-extend":6,"timers":28}],51:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var screenfull = require('screenfull'),
    _require = require('./utils'),
    Popup = _require.Popup,
    locales = require('../locales');


var fullscreen;

if (screenfull.enabled) {

    fullscreen = screenfull;
} else {
    var IOSFullScreen = function () {
        function IOSFullScreen() {
            _classCallCheck(this, IOSFullScreen);

            this.enabled = !navigator.standalone;
            this.isFullScreen = navigator.standalone;
        }

        _createClass(IOSFullScreen, [{
            key: 'toggle',
            value: function toggle() {

                new Popup({
                    title: locales('fs_unnavailable'),
                    content: locales('fs_addtohome'),
                    closable: true
                });
            }
        }, {
            key: 'on',
            value: function on() {}
        }]);

        return IOSFullScreen;
    }();

    fullscreen = new IOSFullScreen();
}

module.exports = fullscreen;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/ui/fullscreen.js","/src/browser/js/app/ui")
},{"../locales":44,"./utils":54,"_process":25,"buffer":3,"screenfull":27,"timers":28}],52:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Lobby = function () {
    function Lobby() {
        _classCallCheck(this, Lobby);

        this.state = 0;
    }

    _createClass(Lobby, [{
        key: 'create',
        value: function create() {

            this.html = DOM.create('\n            <div id="lobby">\n                <div class="main">\n                    <div class="header">\n                        ' + PACKAGE.productName + '\n                    </div>\n                    <div class="list"></div>\n                    <div class="footer"></div>\n                </div>\n            </div>\n        ');

            this.main = DOM.get(this.html, '.main')[0];
            this.list = DOM.get(this.html, '.list')[0];
            this.footer = DOM.get(this.html, '.footer')[0];
        }
    }, {
        key: 'open',
        value: function open() {
            var _this = this;

            if (this.state) return;
            this.state = 1;
            document.body.appendChild(this.html);
            setTimeout(function () {
                _this.main.classList.add('show');
            });
        }
    }, {
        key: 'close',
        value: function close() {
            if (!this.state) return;
            this.state = 0;
            this.main.classList.remove('show');
            document.body.removeChild(this.html);
        }
    }]);

    return Lobby;
}();

var lobby = new Lobby();

module.exports = lobby;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/ui/lobby.js","/src/browser/js/app/ui")
},{"_process":25,"buffer":3,"timers":28}],53:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var state = require('../managers/state'),
    session = require('../managers/session'),
    editor = require('../editor/'),
    _require = require('./utils'),
    icon = _require.icon,
    fullscreen = require('./fullscreen'),
    _require2 = require('../events/drag'),
    enableTraversingGestures = _require2.enableTraversingGestures,
    disableTraversingGestures = _require2.disableTraversingGestures,
    locales = require('../locales');


var sidepanelData = [{
    actions: [{
        title: locales('sidepanel_fs') + (ELECTRON_FULLSCREEN ? ' (F11)' : ''),
        action: function action() {
            if (fullscreen.enabled) fullscreen.toggle();
        },
        class: 'fullscreenToggle' + (!fullscreen.enabled || ELECTRON_FULLSCREEN ? ' disabled' : '')
    }]
}, {
    title: icon('sliders-h') + '&nbsp; ' + locales('sidepanel_state'),
    actions: [{
        title: locales('state_store'),
        action: function action() {
            state.quickSave();
            DOM.get('.quickload')[0].classList.remove('disabled');
        }
    }, {
        title: locales('state_recall'),
        action: state.quickLoad.bind(state),
        class: 'disabled quickload'
    }, {
        title: locales('state_send'),
        action: state.send.bind(state)
    }, {
        title: locales('state_import'),
        action: state.load.bind(state)
    }, {
        title: locales('state_export'),
        action: state.save.bind(state)
    }]
}, {
    title: icon('magic') + '&nbsp; ' + locales('sidepanel_traversing'),
    actions: [{
        title: locales('traversing_on'),
        action: function action() {
            DOM.each(document, '.traversingEnable, .traversingDisable', function (el) {
                el.classList.toggle('on');
            });
            enableTraversingGestures(document.getElementById('container'));
        },
        class: 'traversingEnable'
    }, {
        title: locales('traversing_off'),
        action: function action() {
            DOM.each(document, '.traversingEnable, .traversingDisable', function (el) {
                el.classList.toggle('on');
            });
            disableTraversingGestures(document.getElementById('container'));
        },
        class: 'traversingDisable on'
    }]
}, {
    title: icon('edit') + '&nbsp; ' + locales('sidepanel_editor'),
    class: 'editor-menu',
    actions: [{
        title: locales('editor_on'),
        action: editor.enable.bind(editor),
        class: 'enable-editor'
    }, {
        title: locales('editor_off'),
        action: editor.disable.bind(editor),
        class: 'on disable-editor'
    }, {
        title: locales('editor_root'),
        class: 'editor-root disabled'
    }, {
        title: locales('editor_load'),
        action: session.browse.bind(session)
    }, {
        title: locales('editor_save'),
        action: session.save.bind(session)
    }]
}];

var options = DOM.create('<ul id="options"></ul>');

for (var i in sidepanelData) {

    var data = sidepanelData[i],
        item = DOM.create('\n            <li>\n                <div class="' + (data.class || '') + '">\n                    <div class="actions">\n                        ' + (data.title ? '<div class="title">' + data.title + '</div>' : '') + '\n                    </div>\n                </div>\n            </li>\n        '),
        wrapper = DOM.get(item, '.actions')[0];

    for (var j in data.actions) {

        var actionData = data.actions[j],
            element = DOM.create('<a class="btn ' + (actionData.class || '') + '">' + actionData.title + '</a>');

        if (actionData.action) element.addEventListener('click', actionData.action);

        wrapper.appendChild(element);
    }

    options.appendChild(item);
}

var sidepanel = document.getElementById('sidepanel');

sidepanel.appendChild(DOM.create('\n    <div class="navigation"><ul><li><a>' + PACKAGE.productName.toUpperCase() + '</a></li></ul></div>\n'));

sidepanel.appendChild(options);

sidepanel.appendChild(DOM.create('<div id="editor"></div>'));

// Fullscreen

var fsToggle = DOM.get(sidepanel, '.fullscreenToggle')[0];

if (fullscreen.enabled) {
    fullscreen.on('change', function () {
        fsToggle.classList.toggle('on', fullscreen.isFullScreen);
    });
}

// open / close / toggle

var sidepaneLock = false;

function sidepanelOpen() {

    sidepaneLock = true;

    DOM.get('#open-toggle, #sidepanel').forEach(function (el) {
        el.classList.add('sidepanel-open');
    });

    setTimeout(function () {
        DOM.get('#container')[0].classList.add('sidepanel-open');
        setTimeout(function () {
            DOM.dispatchEvent(window, 'resize');
            sidepaneLock = false;
        }, 25);
    }, 250);
}

function sidepanelClose() {

    if (sidepaneLock) return;

    DOM.get('#open-toggle, #sidepanel, #container').forEach(function (el) {
        el.classList.remove('sidepanel-open');
    });

    setTimeout(function () {
        DOM.dispatchEvent(window, 'resize');
    }, 25);
}

function sidepanelToggle() {

    if (sidepanel.classList.contains('sidepanel-open')) {
        sidepanelClose();
    } else {
        sidepanelOpen();
    }
}

DOM.get('#container')[0].addEventListener('fast-click', function (e) {

    if (e.target.id == 'open-toggle') {
        e.stopPropagation();
        e.detail.preventDefault = true;
        sidepanelToggle();
    }
});

document.addEventListener('keydown', function (e) {
    // F10
    if (e.keyCode == 121) sidepanelToggle();
});

// Sidepanel resize

var resizeHandle = DOM.create('<div id="sidepanel-handle">' + icon('bars') + '</div>'),
    sidepanelWidth;

sidepanel.appendChild(resizeHandle);

$(resizeHandle).draggable({
    cursor: 'col-resize',
    start: function start() {
        sidepanelWidth = parseInt(sidepanel.offsetWidth) / PXSCALE;
        sidepanel.classList.add('resizing');
    },
    drag: function drag(event, ui) {
        var delta = (ui.originalPosition.left - ui.position.left) / PXSCALE,
            newWidth = Math.max(sidepanelWidth + delta, 300);
        if (!isNaN(sidepanelWidth)) {
            document.documentElement.style.setProperty('--sidepanel-size', newWidth + 'rem');
        }
    },
    stop: function stop() {
        sidepanel.classList.remove('resizing');
    }
});

module.exports = {
    open: sidepanelOpen,
    close: sidepanelClose,
    toggle: sidepanelToggle
};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/ui/sidepanel.js","/src/browser/js/app/ui")
},{"../editor/":34,"../events/drag":35,"../locales":44,"../managers/session":45,"../managers/state":46,"./fullscreen":51,"./utils":54,"_process":25,"buffer":3,"timers":28}],54:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var popupSingleton = null,
    uploadSingleton = null,
    locales = require('../locales');

module.exports = {

    Popup: function () {
        function Popup(options) {
            var _this = this;

            _classCallCheck(this, Popup);

            if (options.closable) {

                if (popupSingleton) {
                    popupSingleton.close();
                    popupSingleton = null;
                }

                popupSingleton = this;
            }

            this.closable = options.closable;
            this.escKey = options.closable || options.escKey;
            this.enterKey = options.enterKey;
            this.content = options.content;
            this.title = options.title;
            this.state = 0;

            this.html = DOM.create('\n                <div class="popup show">\n                    <div class="popup-wrapper">\n                        <div class="popup-title ' + (this.closable ? 'closable' : '') + '">' + this.title + (this.closable ? '<span class="closer">' + module.exports.icon('times') + '</span>' : '') + '</div>\n                        <div class="popup-content">\n                            ' + this.content + '\n                        </div>\n                    </div>\n                </div>\n            ');

            if (this.closable) {
                var closer = DOM.get(this.html, '.popup-title .closer')[0];
                this.html.addEventListener('fast-click', function (e) {
                    if (e.target === _this.html || e.target === closer) {
                        e.detail.preventDefault = true;
                        _this.close();
                    }
                });
            }

            if (this.escKey) {
                this.escKeyHandler = function (e) {
                    if (e.keyCode == 27) _this.close();
                }.bind(this);
            }

            if (this.enterKey) {
                this.enterKeyHandler = function (e) {
                    if (e.keyCode == 13) _this.enterKey.call(_this, e);
                }.bind(this);
            }

            this.open();
        }

        _createClass(Popup, [{
            key: 'close',
            value: function close() {
                if (!this.state) return;
                this.state = 0;

                if (this.escKey) document.removeEventListener('keydown', this.escKeyHandler);
                if (this.enterKey) document.removeEventListener('keydown', this.enterKeyHandler);
                document.body.removeChild(this.html);
            }
        }, {
            key: 'open',
            value: function open() {
                if (this.state) return;
                this.state = 1;

                if (this.escKey) document.addEventListener('keydown', this.escKeyHandler);
                if (this.enterKey) document.addEventListener('keydown', this.enterKeyHandler);
                document.body.appendChild(this.html);
            }
        }]);

        return Popup;
    }(),

    loading: function loading(title) {
        return new module.exports.Popup({
            title: title,
            content: '<p><div class="spinner"></div></p>',
            closable: false
        });
    },
    icon: function icon(i) {
        return '<i class="fa fa-fw fa-' + i + '"></i>';
    },
    iconify: function iconify(string) {
        return String(string).replace(/\^[^\s]*/g, function (x) {
            return module.exports.icon(x.substring(1));
        });
    },
    upload: function upload(types, ok, error) {

        if (uploadSingleton) document.body.removeChild(uploadSingleton);

        uploadSingleton = DOM.create('<input type="file" accept="' + types + '" style="position:absolute;opacity:0;pointer-events:none;"/>');
        document.body.appendChild(uploadSingleton);

        uploadSingleton.addEventListener('change', function (e) {

            var reader = new FileReader(),
                file = e.target.files[0],
                loader = module.exports.loading(locales('loading_upload'));

            reader.onerror = reader.onabort = function () {
                loader.close();
                error();
            };

            reader.onload = function (e) {
                loader.close();
                ok(file.path, e.target.result);
            };

            reader.readAsText(file, 'utf-8');
        });

        uploadSingleton.click();
    }

};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/ui/utils.js","/src/browser/js/app/ui")
},{"../locales":44,"_process":25,"buffer":3,"timers":28}],55:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

module.exports = {

    deepCopy: function deepCopy(obj, precision) {

        var copy = obj;

        if (obj === null) {
            return obj;
        }

        if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object') {
            copy = Array.isArray(obj) ? [] : {};
            for (var key in obj) {
                copy[key] = module.exports.deepCopy(obj[key], precision);
            }
        } else if (typeof obj == 'number') {
            return precision === undefined ? copy : parseFloat(copy.toFixed(precision));
        }

        return copy;
    },

    deepEqual: function deepEqual(a, b) {

        // about 2,75 x faster than JSON.stringify(a) === JSON.stringify(b)

        var ta = typeof a === 'undefined' ? 'undefined' : _typeof(a),
            tb = typeof b === 'undefined' ? 'undefined' : _typeof(b);

        if (ta !== tb) {
            return false;
        } else if (ta === 'object') {
            return JSON.stringify(a) === JSON.stringify(b);
        } else {
            return a === b;
        }
    }

};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/utils.js","/src/browser/js/app")
},{"_process":25,"buffer":3,"timers":28}],56:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    _require = require('../../ui/utils'),
    iconify = _require.iconify;

var Dropdown = function (_Widget) {
    _inherits(Dropdown, _Widget);

    _createClass(Dropdown, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Dropdown.__proto__ || Object.getPrototypeOf(Dropdown), 'defaults', this).call(this, {

                _dropdown: 'dropdown',

                values: { type: 'array|object', value: { 'Value 1': 1, 'Value 2': 2 }, help: ['`Array` of possible values to switch between : `[1,2,3]`', '`Object` of label:value pairs. Numeric labels must be prepended or appended with a white space (or any other non-numeric character) otherwise the order of the values won\'t be kept', 'An empty option will always be prepended to values (sends an osc message without any value); it can be hidden by adding `option:first-child{display:none}` to the widget\'s `css`'] }

            });
        }
    }]);

    function Dropdown(options) {
        _classCallCheck(this, Dropdown);

        var _this = _possibleConstructorReturn(this, (Dropdown.__proto__ || Object.getPrototypeOf(Dropdown)).call(this, _extends({}, options, { html: '<div class="select"></div>' })));

        _this.select = _this.widget.appendChild(DOM.create('<select class="no-keybinding"></select>'));

        _this.values = [];
        _this.keys = [];

        _this.parseValues();

        _this.select.addEventListener('change', function () {
            _this.setValue(_this.values[_this.select.selectedIndex - 1], { sync: true, send: true, fromLocal: true });
        });

        _this.value = undefined;
        _this.select.selectedIndex = -1;
        _this.container.classList.add('noselect');

        return _this;
    }

    _createClass(Dropdown, [{
        key: 'parseValues',
        value: function parseValues() {

            var i = 0,
                values = this.getProp('values'),
                html = '';

            if (!Array.isArray(values) && !((typeof values === 'undefined' ? 'undefined' : _typeof(values)) === 'object' && values !== null)) {
                values = values !== '' ? [values] : [];
            }

            html += '<option value=""></option>';

            this.values = [];

            for (var k in values) {
                this.values.push(values[k]);
                html += '<option value="' + i + '">' + iconify(parseFloat(k) != k ? k : values[k]) + '</option>';
                i++;
            }

            this.select.innerHTML = html;
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            var i = this.values.indexOf(v);

            this.value = this.values[i];

            if (!options.fromLocal) this.select.selectedIndex = i + 1;

            if (options.send) this.sendValue();
            if (options.sync) this.changed(options);
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            var ret = _get(Dropdown.prototype.__proto__ || Object.getPrototypeOf(Dropdown.prototype), 'onPropChanged', this).apply(this, arguments);

            switch (propName) {

                case 'values':
                    this.parseValues();
                    this.setValue(this.value);
                    return;

            }

            return ret;
        }
    }]);

    return Dropdown;
}(Widget);

Dropdown.dynamicProps = Dropdown.prototype.constructor.dynamicProps.concat('values');

module.exports = Dropdown;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/buttons/dropdown.js","/src/browser/js/app/widgets/buttons")
},{"../../ui/utils":54,"../common/widget":62,"_process":25,"buffer":3,"timers":28}],57:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    osc = require('../../osc');

var Push = function (_Widget) {
    _inherits(Push, _Widget);

    _createClass(Push, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Push.__proto__ || Object.getPrototypeOf(Push), 'defaults', this).call(this, {

                _push: 'push',

                on: { type: '*', value: 1, help: ['Set to `null` to send send no argument in the osc message', 'Can be an `object` if the type needs to be specified (see preArgs)'] },
                off: { type: '*', value: 0, help: ['Set to `null` to send send no argument in the osc message', 'Can be an `object` if the type needs to be specified (see preArgs)'] },
                norelease: { type: 'boolean', value: false, help: 'Set to `true` to prevent sending any osc message when releasing the button' }

            }, ['_value', 'default', 'value']);
        }
    }]);

    function Push(options) {
        _classCallCheck(this, Push);

        var _this = _possibleConstructorReturn(this, (Push.__proto__ || Object.getPrototypeOf(Push)).call(this, _extends({}, options, { html: '<div class="toggle"></div>' })));

        _this.state = 0;
        _this.active = 0;
        _this.lastChanged = 'state';

        _this.on('draginit', function () {
            if (_this.active) return;
            _this.setValuePrivate(_this.getProp('on'), { send: true, sync: true });
        }, { element: _this.widget });

        _this.on('dragend', function () {
            _this.setValuePrivate(_this.getProp('off'), { send: true, sync: true });
        }, { element: _this.widget });

        _this.value = _this.getProp('off');

        return _this;
    }

    _createClass(Push, [{
        key: 'updateValue',
        value: function updateValue() {

            this.value = this[this.lastChanged] ? this.getProp('on') != null && this.getProp('on').value !== undefined ? this.getProp('on').value : this.getProp('on') : this.getProp('off') != null && this.getProp('off').value !== undefined ? this.getProp('off').value : this.getProp('off');
        }
    }, {
        key: 'setValuePrivate',
        value: function setValuePrivate(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) == 'object' && v !== null) v = v.value;
            if (v === this.getProp('on') || this.getProp('on') != null && v === this.getProp('on').value && v !== undefined) {
                this.widget.classList.add('active');
                this.container.classList.add('active');
                this.active = 1;
                this.lastChanged = 'active';
                this.updateValue();
                if (options.send) this.sendValue();
                if (options.sync) this.changed(options);
            } else if (v === this.getProp('off') || this.getProp('off') != null && v === this.getProp('off').value && v !== undefined) {
                this.widget.classList.remove('active');
                this.container.classList.remove('active');
                this.active = 0;
                this.lastChanged = 'active';
                this.updateValue();
                if (options.send) this.sendValue(null, { syncOnly: this.getProp('norelease') });
                if (options.sync) this.changed(options);
            }
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (!options.fromExternal) {
                this.setValuePrivate(v, options);
                return;
            }
            if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) == 'object' && v !== null) v = v.value;
            if (v === this.getProp('on') || this.getProp('on') != null && v === this.getProp('on').value && v !== undefined) {
                this.widget.classList.add('on');
                this.container.classList.add('on');
                this.state = 1;
                if (options.send) this.sendValue();
                this.lastChanged = 'state';
                if (options.sync) this.changed(options);
            } else if (v === this.getProp('off') || this.getProp('off') != null && v === this.getProp('off').value && v !== undefined) {
                this.widget.classList.remove('on');
                this.container.classList.remove('on');
                this.state = 0;
                if (options.send) this.sendValue();
                this.lastChanged = 'state';
                if (options.sync) this.changed(options);
            }
        }
    }, {
        key: 'sendValue',
        value: function sendValue(overrides) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (!options.syncOnly) {

                _get(Push.prototype.__proto__ || Object.getPrototypeOf(Push.prototype), 'sendValue', this).call(this, overrides, options);
            } else {

                osc.sync({
                    h: this.hash,
                    v: this.value
                });
            }
        }
    }]);

    return Push;
}(Widget);

Push.dynamicProps = Push.prototype.constructor.dynamicProps.concat('on', 'off', 'norelease');

module.exports = Push;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/buttons/push.js","/src/browser/js/app/widgets/buttons")
},{"../../osc":48,"../common/widget":62,"_process":25,"buffer":3,"timers":28}],58:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    _require = require('../../ui/utils'),
    iconify = _require.iconify;


module.exports = function (_Widget) {
    _inherits(Switch, _Widget);

    _createClass(Switch, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Switch.__proto__ || Object.getPrototypeOf(Switch), 'defaults', this).call(this, {

                _switch: 'switch',

                horizontal: { type: 'boolean', value: false, help: 'Set to `true` to display values horizontally' },
                showValues: { type: 'boolean', value: false, help: 'If values is an object, set to `true` to display both values and labels instead of labels only' },
                values: { type: 'array|object', value: { 'Value 1': 1, 'Value 2': 2 }, help: ['`Array` of possible values to switch between : `[1,2,3]`', '`Object` of `"label":value` pairs. Numeric labels must be prepended or appended with a white space (or any other non-numeric character) otherwise the order of the values won\'t be kept'] }

            });
        }
    }]);

    function Switch(options) {
        _classCallCheck(this, Switch);

        var _this = _possibleConstructorReturn(this, (Switch.__proto__ || Object.getPrototypeOf(Switch)).call(this, _extends({}, options, { html: '<div class="switch"></div>' })));

        if (_this.getProp('horizontal')) _this.widget.classList.add('horizontal');

        _this.values = [];
        _this.stringValues = [];

        var values = _this.getProp('values');

        if (!Array.isArray(values) && !((typeof values === 'undefined' ? 'undefined' : _typeof(values)) === 'object' && values !== null)) {
            values = [values];
        }

        var isArray = Array.isArray(values);

        for (var k in values) {

            _this.values.push(values[k]);

            if (_typeof(values[k]) == 'object') {
                _this.stringValues.push(JSON.stringify(values[k]));
            } else {
                _this.stringValues.push(0);
            }

            var label = isArray ? values[k] : k;
            if (_this.getProp('showValues') && !isArray) label = label + ': ' + (_this.stringValues[_this.stringValues.length - 1] || values[k]);

            _this.widget.appendChild(DOM.create('\n                <div class="value"> ' + iconify(label) + '</div>\n            '));
        }

        _this.value = undefined;

        _this.on('draginit', function (e) {

            var index = 0,
                node = e.target;

            while (node = node.previousSibling) {
                if (node.nodeType != 3) {
                    index++;
                }
            }

            var value = _this.values[index];

            if (value != _this.value || _this.value === undefined) _this.setValue(value, { sync: true, send: true });
        }, { element: _this.widget });

        return _this;
    }

    _createClass(Switch, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            var i = (typeof v === 'undefined' ? 'undefined' : _typeof(v)) == 'object' ? this.stringValues.indexOf(JSON.stringify(v)) : this.values.indexOf(v);

            DOM.each(this.widget, '.on', function (el) {
                el.classList.remove('on');
            });

            if (i != -1) {
                this.value = this.values[i];
                DOM.get(this.widget, '.value')[i].classList.add('on');
                if (options.send) this.sendValue(this.value);
                if (options.sync) this.changed(options);
            } else {
                this.value = undefined;
                if (options.sync) this.changed(options);
            }
        }
    }]);

    return Switch;
}(Widget);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/buttons/switch.js","/src/browser/js/app/widgets/buttons")
},{"../../ui/utils":54,"../common/widget":62,"_process":25,"buffer":3,"timers":28}],59:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    doubletab = require('../mixins/double_tap');

var Toggle = function (_Widget) {
    _inherits(Toggle, _Widget);

    _createClass(Toggle, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Toggle.__proto__ || Object.getPrototypeOf(Toggle), 'defaults', this).call(this, {

                _toggle: 'toggle',

                doubleTap: { type: 'boolean', value: false, help: 'Set to `true` to make the button require a double tap to be toggled instead of a single tap' },
                led: { type: 'boolean', value: false, help: 'Set to `true` to display the toggle\'s state with a led' },
                on: { type: '*', value: 1, help: ['Set to `null` to send send no argument in the osc message', 'Can be an `object` if the type needs to be specified (see preArgs)'] },
                off: { type: '*', value: 0, help: ['Set to `null` to send send no argument in the osc message', 'Can be an `object` if the type needs to be specified (see preArgs)'] }

            });
        }
    }]);

    function Toggle(options) {
        _classCallCheck(this, Toggle);

        var _this = _possibleConstructorReturn(this, (Toggle.__proto__ || Object.getPrototypeOf(Toggle)).call(this, _extends({}, options, { html: '<div class="toggle"></div>' })));

        _this.state = 0;
        _this.active = false;

        if (_this.getProp('led')) _this.container.classList.add('led');

        if (_this.getProp('doubleTap')) {

            doubletab(_this.widget, function () {
                var newVal = _this.state ? _this.getProp('off') : _this.getProp('on');
                _this.setValue(newVal, { sync: true, send: true });
            });
        } else {

            _this.on('draginit', function () {
                if (_this.active) return;
                _this.active = true;
                var newVal = _this.state ? _this.getProp('off') : _this.getProp('on');
                _this.setValue(newVal, { sync: true, send: true });
            }, { element: _this.widget });

            _this.on('dragend', function () {
                _this.active = false;
            }, { element: _this.widget });
        }

        _this.value = _this.getProp('off');

        return _this;
    }

    _createClass(Toggle, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) == 'object' && v !== null) v = v.value;
            if (v === this.getProp('on') || this.getProp('on') != null && v === this.getProp('on').value && v !== undefined) {
                this.widget.classList.add('on');
                this.container.classList.add('on');
                this.state = 1;
                this.value = this.getProp('on');
                if (options.send) this.sendValue();
            } else if (v === this.getProp('off') || this.getProp('off') != null && v === this.getProp('off').value && v !== undefined) {
                this.widget.classList.remove('on');
                this.container.classList.remove('on');
                this.state = 0;
                this.value = this.getProp('off');
                if (options.send) this.sendValue();
            }

            if (options.sync) this.changed(options);
        }
    }]);

    return Toggle;
}(Widget);

Toggle.dynamicProps = Toggle.prototype.constructor.dynamicProps.concat('on', 'off');

module.exports = Toggle;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/buttons/toggle.js","/src/browser/js/app/widgets/buttons")
},{"../common/widget":62,"../mixins/double_tap":81,"_process":25,"buffer":3,"timers":28}],60:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Widget = require('./widget');

var CanvasQueue = function () {
    function CanvasQueue() {
        _classCallCheck(this, CanvasQueue);

        this.queue = {};
        this.flushed = 0;
        this.running = false;
        this.frameLength = 1000 / CANVAS_FRAMERATE;
        this.lastFrame = 0;
        this.bindedLoop = this.loop.bind(this);
    }

    _createClass(CanvasQueue, [{
        key: 'push',
        value: function push(widget) {

            this.queue[widget.hash] = widget;
            this.flushed = 0;

            if (!this.running) {
                this.running = true;
                requestAnimationFrame(this.bindedLoop);
            }
        }
    }, {
        key: 'flush',
        value: function flush() {

            for (var h in this.queue) {
                this.queue[h].draw();
            }

            this.queue = {};
            this.flushed++;
        }
    }, {
        key: 'loop',
        value: function loop(timestamp) {

            if (this.flushed >= 10) {
                this.running = false;
                return;
            }

            requestAnimationFrame(this.bindedLoop);

            var delta = timestamp - this.lastFrame;

            if (delta > this.frameLength) {
                this.lastFrame = timestamp - delta % this.frameLength;
                this.flush();
            }
        }
    }]);

    return CanvasQueue;
}();

var canvasQueue = new CanvasQueue();

var Canvas = function (_Widget) {
    _inherits(Canvas, _Widget);

    function Canvas(options) {
        _classCallCheck(this, Canvas);

        var _this = _possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this, options));

        _this.canvas = DOM.get(_this.widget, 'canvas')[0];
        _this.ctx = _this.canvas.getContext('2d');

        _this.height = undefined;
        _this.width = undefined;
        _this.scaling = 1;

        _this.clearRect = [];

        _this.visible = false;

        _this.colors = {};
        _this.textColor = getComputedStyle(document.documentElement).getPropertyValue('--color-text-fade');

        _this.on('resize', _this.resizeHandleProxy.bind(_this), { element: _this.canvas });

        _this.ctx.arc = function (x, y, r, s, e, c) {

            CanvasRenderingContext2D.prototype.arc.call(_this.ctx, x, y, Math.max(0, r), s, e, c);
        };

        return _this;
    }

    _createClass(Canvas, [{
        key: 'resizeHandleProxy',
        value: function resizeHandleProxy() {

            this.resizeHandle.apply(this, arguments);
        }
    }, {
        key: 'resizeHandle',
        value: function resizeHandle(event) {
            var width = event.width,
                height = event.height,
                style = event.style,
                ratio = CANVAS_SCALING * this.scaling;


            this.height = height;
            this.width = width;

            this.canvas.setAttribute('width', width * ratio);
            this.canvas.setAttribute('height', height * ratio);

            this.clearRect = [];

            if (ratio != 1) {
                this.ctx.setTransform(1, 0, 0, 1, 0, 0);
                this.ctx.scale(ratio, ratio);
            }

            this.cacheCanvasStyle(style);

            if (!this.visible) this.visible = true;

            requestAnimationFrame(this.draw.bind(this));
        }
    }, {
        key: 'cacheCanvasStyle',
        value: function cacheCanvasStyle(style) {

            style = style || window.getComputedStyle(this.canvas);

            this.colors.custom = style.getPropertyValue('--color-custom');
            this.colors.track = style.getPropertyValue('--color-track');
            this.colors.text = style.getPropertyValue('--color-text');
            this.colors.raised = style.getPropertyValue('--color-raised');
            this.colors.bg = style.getPropertyValue('--color-bg');
            this.colors.fg = style.getPropertyValue('--color-fg');
            this.colors.faded = style.getPropertyValue('--color-faded');
            this.colors.light = style.getPropertyValue('--color-light');

            this.fontFamily = style.getPropertyValue('font-family');
            this.textAlign = style.getPropertyValue('text-align');
            this.fontSize = parseFloat(style.getPropertyValue('font-size'));
            this.fontWeight = parseFloat(style.getPropertyValue('font-weight'));

            this.ctx.font = this.fontWeight + ' ' + this.fontSize + 'px ' + this.fontFamily;
            this.ctx.textBaseline = 'middle';
            this.ctx.textAlign = this.textAlign;
        }
    }, {
        key: 'clear',
        value: function clear() {
            var _ctx2;

            if (!this.clearRect.length) {
                this.ctx.clearRect(0, 0, this.width, this.height);
                return;
            }

            if (_typeof(this.clearRect[0]) == 'object') {
                for (var i in this.clearRect) {
                    var _ctx;

                    (_ctx = this.ctx).clearRect.apply(_ctx, _toConsumableArray(this.clearRect[i]));
                }
                return;
            }

            (_ctx2 = this.ctx).clearRect.apply(_ctx2, _toConsumableArray(this.clearRect));
        }
    }, {
        key: 'batchDraw',
        value: function batchDraw() {

            if (this.visible) canvasQueue.push(this);
        }
    }, {
        key: 'draw',
        value: function draw() {
            throw new Error('Calling unimplemented draw() method');
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            var ret = _get(Canvas.prototype.__proto__ || Object.getPrototypeOf(Canvas.prototype), 'onPropChanged', this).apply(this, arguments);

            switch (propName) {

                case 'color':
                    this.cacheCanvasStyle();
                    this.batchDraw();
                    return;

            }

            return ret;
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            this.off('resize');
            _get(Canvas.prototype.__proto__ || Object.getPrototypeOf(Canvas.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Canvas;
}(Widget);

Canvas.dynamicProps = Canvas.prototype.constructor.dynamicProps.concat('on', 'off');

module.exports = Canvas;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/common/canvas.js","/src/browser/js/app/widgets/common")
},{"./widget":62,"_process":25,"buffer":3,"timers":28}],61:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var osc = require('../../osc');

module.exports = function () {
    function OscReceiver(address, value, parent, propName) {
        _classCallCheck(this, OscReceiver);

        try {
            this.value = JSON.parse(value);
        } catch (err) {
            this.value = value;
        }

        this.parent = parent;
        this.propName = propName;
        this.bindedCallback = this.callback.bind(this);
        this.setAddress(address);
    }

    _createClass(OscReceiver, [{
        key: 'setAddress',
        value: function setAddress(address) {

            if (this.address !== address) {

                if (this.address) osc.off(this.address + '.' + this.parent.hash, this.bindedCallback);

                this.address = address;
                osc.on(this.address + '.' + this.parent.hash, this.bindedCallback);
            }
        }
    }, {
        key: 'callback',
        value: function callback(args) {

            if ((typeof args === 'undefined' ? 'undefined' : _typeof(args)) !== 'object') args = [args];
            var preArgs = this.parent.getProp('preArgs') || [];
            if (!Array.isArray(preArgs) && preArgs !== '') preArgs = [preArgs];
            if (args.length >= preArgs.length) {
                for (var i in preArgs) {
                    if (preArgs[i] !== args[i]) return;
                }
                var val = args.slice(preArgs.length);
                if (val.length < 2) val = val[0];
                try {
                    this.value = JSON.parse(val);
                } catch (err) {
                    this.value = val;
                }
                this.parent.updateProps([this.propName], this.parent);
            }
        }
    }]);

    return OscReceiver;
}();

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/common/osc-receiver.js","/src/browser/js/app/widgets/common")
},{"../../osc":48,"_process":25,"buffer":3,"timers":28}],62:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var EventEmitter = require('../../events/event-emitter'),
    osc = require('../../osc'),
    nanoid = require('nanoid/generate'),
    widgetManager = require('../../managers/widgets'),
    _require = require('../utils'),
    math = _require.math,
    scopeCss = require('scope-css'),
    _require2 = require('../../ui/utils'),
    iconify = _require2.iconify,
    resize = require('../../events/resize'),
    OscReceiver = require('./osc-receiver'),
    _require3 = require('../../utils'),
    deepCopy = _require3.deepCopy,
    deepEqual = _require3.deepEqual,
    updateWidget = function updateWidget() {};


var OSCProps = ['precision', 'address', 'preArgs', 'target', 'bypass'];

var dummyDOM;

DOM.ready(function () {
    dummyDOM = DOM.create('<div></div>');
});

setTimeout(function () {
    updateWidget = require('../../editor/data-workers').updateWidget;
});

var Widget = function (_EventEmitter) {
    _inherits(Widget, _EventEmitter);

    _createClass(Widget, null, [{
        key: 'defaults',
        value: function defaults() {
            var insert = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
            var except = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
            var push = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};


            var defaults = {

                type: { type: 'string', value: 'auto', help: '' },
                id: { type: 'string', value: 'auto', help: 'Widgets sharing the same `id` will act as clones and update each other\'s value(s) without sending extra osc messages.' },
                linkId: { type: 'string|array', value: '', help: ['Widgets sharing the same `linkId` update each other\'s value(s) AND send their respective osc messages.', 'When prefixed with >>, the `linkId` will make the widget act as a master (sending but not receiving)', 'When prefixed with <<, the `linkId` will make the widget act as a slave (receiving but not sending)'] },

                _geometry: 'geometry',

                left: { type: 'number|string', value: 'auto', help: ['When both top and left are set to auto, the widget is positioned according to the normal flow of the page (from left to right, by order of creation).', 'Otherwise, the widget will be absolutely positioned'] },
                top: { type: 'number|percentage', value: 'auto', help: ['When both top and left are set to auto, the widget is positioned according to the normal flow of the page (from left to right, by order of creation).', 'Otherwise, the widget will be absolutely positioned'] },
                width: { type: 'number|percentage', value: 'auto', help: '' },
                height: { type: 'number|percentage', value: 'auto', help: '' },

                _style: 'style',

                label: { type: 'string|boolean', value: 'auto', help: ['Set to `false` to hide completely', 'Insert icons using the prefix ^ followed by the icon\'s name : ^play, ^pause, etc'] },
                color: { type: 'string', value: 'auto', help: 'CSS color code. Set to "auto" to inherit from parent widget.' },
                css: { type: 'string', value: '', help: 'CSS rules' },

                _value: 'value',

                default: { type: '*', value: '', help: 'If set, the widget will be initialized with this value when the session is loaded.' },
                value: { type: '*', value: '', help: 'Define the widget\'s value depending on other widget\'s values / properties using property inheritance and property maths' },

                _osc: 'osc',

                precision: { type: 'integer|string', value: 2, help: ['Defines the number of decimals to display and to send.', 'Set to `0` to send integers only.', 'Data type can be specified by appending a valid osc type tag to the precision value, for example : `3d` will make the widget send double precision numbers rounded to three decimals'] },
                address: { type: 'string', value: 'auto', help: 'OSC address for sending messages, it must start with a /' },
                preArgs: { type: '*|array', value: '', help: ['A value or array of values that will be prepended to the OSC messages.', 'Values can be defined as objects if the osc type tag needs to be specified: `{type: "i", value: 1}`'] },
                target: { type: 'string|array|null', value: '', help: ['- A `string` or `array` of strings formatted as follow: `ip:port` or `["ip:port"]`', '- If midi is enabled, targets can be `midi:device_name`', '- The special item `"self"` can be used to refer to the emitting client directly.', '- If no target is set, messages can still be sent if the server has default targets', '- The server\'s default targets can be bypassed by setting one of the items to `null`'] },
                bypass: { type: 'boolean', value: false, help: 'Set to `true` to prevent the widget from sending any osc message' }

                // okay that's bad, but keys happen to be ordered anyway...

            };var alterDefaults = {};

            for (var k in defaults) {
                if (k === '_value') {
                    for (var l in insert) {
                        alterDefaults[l] = insert[l];
                    }
                }
                if (except.indexOf(k) < 0) alterDefaults[k] = defaults[k];
            }

            for (var m in push) {
                alterDefaults[m] = push[m];
            }

            alterDefaults._props = function () {
                var props = {};
                for (var k in this) {
                    if (k[0] !== '_') {
                        props[k] = this[k].value;
                    }
                }
                return props;
            };

            return alterDefaults;
        }
    }]);

    function Widget() {
        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

        _classCallCheck(this, Widget);

        var _this = _possibleConstructorReturn(this, (Widget.__proto__ || Object.getPrototypeOf(Widget)).call(this));

        _this.widget = DOM.create(options.html);
        _this.props = options.props;
        _this.errors = {};
        _this.parsers = {};
        _this.parent = options.root ? widgetManager : options.parent;
        _this.parentNode = options.parentNode;
        _this.hash = nanoid('abcdefghijklmnopqrstuvwxyABCDEFGHIJKLMNOPQRSTUVWXYZ', 10);
        _this.childrenHashes = [];
        _this.reCreateOptions = options.reCreateOptions;

        // strip parent ? no position
        if (_this.parent && _this.parent.props && _this.parent.props.type == 'strip') {
            delete _this.props.top;
            delete _this.props.left;
            delete _this.props[_this.parent.getProp('horizontal') ? 'height' : 'width'];
        }

        // @{props} links lists
        _this.linkedProps = {};
        _this.linkedPropsValue = {};

        // OSC{/path} receivers
        _this.oscReceivers = {};

        // cache props (resolve @{props})
        _this.cachedProps = {};

        for (var k in _this.props) {
            if (k != 'widgets' && k != 'tabs') {
                _this.cachedProps[k] = _this.resolveProp(k, undefined, true);
            } else {
                _this.cachedProps[k] = _this.props[k];
            }
        }

        if (_this.getProp('id') == 'root' && !options.root) {
            _this.cachedProps.id = '_root';
            _this.errors.id = 'There can only be one root';
        }

        if (Object.keys(_this.linkedProps).length) {

            widgetManager.on('widget-created.' + _this.hash, function (e) {
                var id = e.id,
                    widget = e.widget,
                    options = e.options;

                if (widget == _this.parent) return;
                if (widget == _this) id = 'this';
                if (_this.linkedProps[id]) {
                    _this.updateProps(_this.linkedProps[id], widget, options);
                }
            });

            widgetManager.on('prop-changed.' + _this.hash, function (e) {
                var id = e.id,
                    widget = e.widget,
                    options = e.options;

                if (widget == _this) id = 'this';
                if (widget == _this.parent) id = 'parent';
                if (_this.linkedProps[id]) {
                    _this.updateProps(_this.linkedProps[id], widget, options, e.props);
                }
            });
        }

        if (Object.keys(_this.linkedPropsValue).length) {

            widgetManager.on('change.' + _this.hash, function (e) {
                var id = e.id,
                    widget = e.widget,
                    options = e.options;

                if (widget == _this) id = 'this';
                if (widget == _this.parent) id = 'parent';
                if (_this.linkedPropsValue[id]) {
                    _this.updateProps(_this.linkedPropsValue[id], widget, options, ['value']);
                }
            });
        }

        var selfLinkedOSCProps = (_this.linkedPropsValue['this'] || []).filter(function (i) {
            return OSCProps.indexOf(i) > -1;
        });
        _this.selfLinkedOSCProps = selfLinkedOSCProps.length ? selfLinkedOSCProps : false;

        _this.disabledProps = [];

        // cache precision
        if (_this.props.precision != undefined) {
            _this.precision = Math.min(20, Math.max(_this.getProp('precision', undefined, false), 0));
        }

        _this.on('widget-created', function (e) {

            if (e.widget == _this) return;

            _this.childrenHashes.push(e.widget.hash);
        });

        if (options.container) {

            _this.container = DOM.create('\n                <div class="widget ' + options.props.type + '-container" id="' + _this.hash + '" data-widget="' + _this.hash + '"></div>\n            ');
            _this.label = DOM.create('<div class="label"></div>');
            _this.container.appendChild(_this.label);
            _this.container.appendChild(_this.widget);
            _this.container._widget_instance = _this;
            _this.setContainerStyles();
        } else {
            _this.container = dummyDOM;
        }

        return _this;
    }

    _createClass(Widget, [{
        key: 'contains',
        value: function contains(widget) {

            if (this.childrenHashes.includes(widget.hash)) {
                return true;
            }

            var parent = widget.parent;
            while (parent && parent !== widgetManager) {
                if (parent === this) return true;
                parent = parent.parent;
            }
        }
    }, {
        key: 'created',
        value: function created() {

            this.trigger('widget-created.*', [{
                id: this.getProp('id'),
                widget: this,
                options: this.reCreateOptions
            }]);
        }
    }, {
        key: 'changed',
        value: function changed(options) {

            this.trigger('change.*', [{
                widget: this,
                options: options,
                id: this.getProp('id'),
                linkId: this.getProp('linkId')
            }]);
        }
    }, {
        key: 'sendValue',
        value: function sendValue(overrides) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (this.selfLinkedOSCProps) {
                this.updateProps(this.selfLinkedOSCProps, this);
            }

            if (this.getProp('bypass') && !options.force) return;

            var data = {
                h: this.hash,
                v: this.value
            };

            if (overrides) {
                for (var k in overrides) {
                    data[k] = overrides[k];
                }
            }

            if (options.syncOnly) {

                osc.sync(data);
            } else {

                osc.send(data);
            }
        }
    }, {
        key: 'setValue',
        value: function setValue() {}
    }, {
        key: 'getValue',
        value: function getValue(withPrecision) {

            return deepCopy(this.value, withPrecision ? this.precision : undefined);
        }
    }, {
        key: 'getSplit',
        value: function getSplit() {}
    }, {
        key: 'resolveProp',
        value: function resolveProp(propName, propValue) {
            var storeLinks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
            var originalWidget = arguments[3];

            var _this2 = this;

            var originalPropName = arguments[4];
            var context = arguments[5];


            propValue = propValue !== undefined ? propValue : deepCopy(this.props[propName]);
            originalWidget = originalWidget || this;
            originalPropName = originalPropName || propName;

            var variables = {},
                mathscope = context || {},
                varnumber = 0;

            if (typeof propValue == 'string') {

                propValue = propValue.replace(/@\{[^{]*?(@\{.*?\})?[^{]*?\}/g, function (m, nested) {

                    if (nested) {
                        m = m.replace(nested, _this2.resolveProp(propName, nested, false, _this2));
                    }

                    var id = m.substr(2, m.length - 3).split('.'),
                        k = void 0,
                        subk = void 0;

                    if (id.length > 1) {

                        k = id.pop();
                        subk = undefined;

                        if (id.length > 1) {
                            subk = k;
                            k = id.pop();
                        }

                        id = id.join('.');
                    } else {

                        id = id[0];
                        k = 'value';
                    }

                    // backward compat
                    if (k === '_value') k = 'value';

                    var widgets = id == 'parent' && _this2.parent ? [_this2.parent] : id == 'this' ? [_this2] : widgetManager.getWidgetById(id);

                    if (!widgets.length) {
                        var parent = _this2.parent;
                        while (parent && parent != widgetManager) {
                            if (parent.getProp('id') == id) {
                                widgets.push(parent);
                                break;
                            }
                            parent = parent.parent;
                        }
                    }

                    if (storeLinks) {

                        if (k == 'value') {

                            if (!_this2.linkedPropsValue[id]) _this2.linkedPropsValue[id] = [];
                            if (_this2.linkedPropsValue[id].indexOf(propName) == -1) _this2.linkedPropsValue[id].push(propName);
                        } else {

                            if (!_this2.linkedProps[id]) _this2.linkedProps[id] = [];
                            if (_this2.linkedProps[id].indexOf(propName) == -1) _this2.linkedProps[id].push(propName);
                        }
                    }

                    for (var i in widgets) {

                        if (widgets[i] === widgetManager) continue;

                        if (widgets[i].props[k] !== undefined || k === 'value') {

                            if (k !== 'value' && originalPropName == k && widgets[i].props.id == originalWidget.props.id) {
                                return undefined;
                            }

                            var r = k == 'value' ? widgets[i].getValue(true) : widgets[i].resolveProp(k, undefined, storeLinks, originalWidget, originalPropName);

                            if (subk !== undefined && r !== undefined) r = r[subk];

                            var varname = 'VAR_' + varnumber;
                            varnumber++;

                            variables[varname] = r;
                            mathscope[varname] = r;

                            return varname;
                        }
                    }
                });

                propValue = propValue.replace(/OSC\{([^}]+)\}/g, function (m) {
                    var _m$substr$split$map = m.substr(4, m.length - 5).split(',').map(function (x) {
                        return x.trim();
                    }),
                        _m$substr$split$map2 = _slicedToArray(_m$substr$split$map, 2),
                        address = _m$substr$split$map2[0],
                        value = _m$substr$split$map2[1],
                        resolvedAddress = address.replace(/VAR_[0-9]+/g, function (m) {
                        return typeof variables[m] === 'string' ? variables[m] : JSON.stringify(variables[m]);
                    });

                    if (!_this2.oscReceivers[address]) {
                        _this2.oscReceivers[address] = new OscReceiver(resolvedAddress, value, _this2, propName);
                    } else {
                        _this2.oscReceivers[address].setAddress(resolvedAddress);
                    }

                    var r = _this2.oscReceivers[address].value;

                    var varname = 'VAR_' + varnumber;
                    varnumber++;

                    variables[varname] = r;
                    mathscope[varname] = r;

                    return varname;
                });

                try {
                    propValue = propValue.replace(/#\{(?:[^}\\]|\\.)+\}/g, function (m) {

                        // unescape brackets
                        m = m.replace(/\\(\{|\})/g, '$1');

                        // espace multiline strings
                        m = m.replace(/`([^`]*)`/g, function (m) {
                            return m.replace(/"/g, '\\"').replace(/\n/g, '\\n').replace(/`/g, '"');
                        });

                        if (!_this2.parsers[m]) _this2.parsers[m] = math.compile(m.substr(2, m.length - 3).trim());

                        var r = _this2.parsers[m].eval(mathscope);

                        if (r instanceof math.type.ResultSet && !r.entries.length) {
                            r = '';
                        } else if ((typeof r === 'undefined' ? 'undefined' : _typeof(r)) === 'object' && r !== null && r.valueOf) {
                            r = r.valueOf();
                            if (Array.isArray(r) && r.length == 1) r = r[0];
                        }

                        return typeof r != 'string' ? JSON.stringify(r) : r;
                    });
                } catch (err) {}

                for (var k in variables) {
                    var v = typeof variables[k] === 'string' ? variables[k] : JSON.stringify(variables[k]);
                    propValue = propValue.replace(new RegExp(k, 'g'), v);
                }

                try {
                    propValue = JSON.parse(propValue);
                } catch (err) {}
            } else if (propValue != null && (typeof propValue === 'undefined' ? 'undefined' : _typeof(propValue)) == 'object') {
                for (var _k in propValue) {
                    propValue[_k] = this.resolveProp(propName, propValue[_k], storeLinks, originalWidget, originalPropName, context);
                }
            }

            return propValue;
        }
    }, {
        key: 'getProp',
        value: function getProp(propName) {
            return this.cachedProps[propName];
        }
    }, {
        key: 'updateProps',
        value: function updateProps(propNames, widget, options) {
            var updatedProps = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];


            if (propNames.includes('value')) {
                propNames.splice(propNames.indexOf('value'), 1);
                propNames.push('value');
            }

            var reCreate = false,
                changedProps = [];

            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = propNames[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var propName = _step.value;


                    if (widget === this && updatedProps.includes(propName)) continue;

                    var propValue = this.resolveProp(propName, undefined, false),
                        oldPropValue = this.getProp(propName);

                    if (!deepEqual(oldPropValue, propValue)) {

                        if (!this.constructor.dynamicProps.includes(propName)) {

                            reCreate = true;
                        } else {

                            this.cachedProps[propName] = propValue;
                            changedProps.push({ propName: propName, oldPropValue: oldPropValue });
                        }
                    }
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            if (reCreate && this.childrenHashes.indexOf(widget.hash) == -1 && !(widget === this && updatedProps.length === 1 && updatedProps[0] === 'value')) {

                this.reCreateWidget(options);
                return true;
            } else if (changedProps.length) {

                for (var i in changedProps) {
                    this.onPropChanged(changedProps[i].propName, options, changedProps[i].oldPropValue);
                }

                widgetManager.trigger('prop-changed.*', [{
                    id: this.getProp('id'),
                    props: changedProps,
                    widget: this,
                    options: options
                }]);
            }
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            switch (propName) {

                case 'value':
                    this.setValue(this.getProp('value'), { sync: true, send: options && options.send });
                    return;

                case 'top':
                case 'left':
                case 'height':
                case 'width':
                    this.setContainerStyles(['geometry']);
                    resize.check(this.container);
                    return;

                case 'label':
                    this.setContainerStyles(['label']);
                    return;

                case 'css':
                    this.setContainerStyles(['css']);
                    this.onPropChanged('color');
                    var re = /width|height|display/;
                    if (re.test(oldPropValue) || re.test(this.getProp('css'))) {
                        resize.check(this.container);
                    }
                    return;

                case 'color':
                    this.setContainerStyles(['color']);
                    return;

                case 'precision':
                case 'address':
                case 'preArgs':
                case 'target':
                case 'noSync':
                    if (propName == 'precision') this.precision = Math.min(20, Math.max(this.getProp('precision', undefined, false), 0));
                    var data = {},
                        oldData = {
                        preArgs: propName == 'preArgs' ? oldPropValue : this.getProp('preArgs'),
                        address: propName == 'address' ? oldPropValue : this.getProp('address')
                    };
                    data[propName] = this.getProp(propName);
                    if (propName === 'address' && this.getSplit()) {
                        data['split'] = this.getSplit();
                    }
                    widgetManager.registerWidget(this, data, oldData);
                    return;

            }
        }
    }, {
        key: 'setContainerStyles',
        value: function setContainerStyles() {
            var styles = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['geometry', 'label', 'css', 'color'];


            if (styles.includes('geometry')) {

                // geometry
                var _arr = ['width', 'height', 'top', 'left'];
                for (var _i = 0; _i < _arr.length; _i++) {
                    var d = _arr[_i];
                    var val = this.getProp(d),
                        geometry = void 0;

                    if (val !== undefined) {
                        if (parseFloat(val) < 0) val = 0;
                        geometry = parseFloat(val) == val ? parseFloat(val) + 'rem' : val;
                    }

                    if (geometry && geometry != 'auto') {
                        this.container.style[d] = geometry;
                        if (d == 'width') this.container.style.minWidth = geometry;
                        if (d == 'height') this.container.style.minHeight = geometry;
                        if (d == 'top' || d == 'left') this.container.classList.add('absolute-position');
                    }
                }
            }

            if (styles.includes('label')) {

                // label
                if (this.getProp('label') === false) {
                    this.container.classList.add('nolabel');
                } else {
                    var label = this.getProp('label') == 'auto' ? this.getProp('id') : iconify(this.getProp('label'));

                    this.label.innerHTML = label;
                }
            }

            if (styles.includes('css')) {

                // css
                var css = String(this.getProp('css')),
                    prefix = '#' + this.hash,
                    scopedCss = scopeCss(css, prefix),
                    unScopedCss = '';

                try {

                    dummyDOM.style = css;
                    unScopedCss = dummyDOM.getAttribute('style') || '';
                } catch (err) {

                    // fallback for browser that don't allow assigning "style" property
                    css.replace(/\{[^}]*\}/g, '').replace(/^[^@#.]*:.*/gm, function (m) {
                        unScopedCss += m[m.length - 1] === ';' ? m : m + ';';
                    });
                }

                if (scopedCss.indexOf('@keyframes') > -1) scopedCss = scopedCss.replace(new RegExp(prefix + '\\s+([0-9]+%|to|from)', 'g'), ' $1');
                if (scopedCss.indexOf('&') > -1) scopedCss = scopedCss.replace(new RegExp(prefix + '\\s&', 'g'), prefix);

                var style = DOM.create('<style>' + (unScopedCss ? prefix + '{' + unScopedCss + '}\n' : '') + scopedCss + '</style>'),
                    oldStyle = DOM.get(this.container, '> style')[0];

                if (oldStyle) {
                    this.container.replaceChild(style, oldStyle);
                } else if (scopedCss.length || unScopedCss.length) {
                    this.container.insertBefore(style, this.widget);
                }
            }

            if (styles.includes('color')) {

                // color
                this.container.style.setProperty('--color-custom', this.getProp('color') && this.getProp('color') != 'auto' ? this.getProp('color') : '');
            }
        }
    }, {
        key: 'reCreateWidget',
        value: function reCreateWidget(options) {

            updateWidget(this, { remote: true, reCreateOptions: options });
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            widgetManager.off('widget-created.' + this.hash);
            widgetManager.off('prop-changed.' + this.hash);
            widgetManager.off('change.' + this.hash);
            osc.off(new RegExp('.*\\.' + this.hash));
        }
    }]);

    return Widget;
}(EventEmitter);

Widget.dynamicProps = ['top', 'left', 'height', 'width', 'label', 'css', 'value', 'color', 'precision', 'address', 'preArgs', 'target', 'bypass'];

module.exports = Widget;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/common/widget.js","/src/browser/js/app/widgets/common")
},{"../../editor/data-workers":32,"../../events/event-emitter":36,"../../events/resize":37,"../../managers/widgets":47,"../../osc":48,"../../ui/utils":54,"../../utils":55,"../utils":108,"./osc-receiver":61,"_process":25,"buffer":3,"nanoid/generate":20,"scope-css":26,"timers":28}],63:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    widgetManager = require('../../managers/widgets'),
    resize = require('../../events/resize'),
    parser = require('../../parser'),
    _require = require('../../utils'),
    deepCopy = _require.deepCopy;


var excludedCloneClasses = ['widget', 'absolute-position', 'ui-resizable', 'ui-draggable', 'not-editable'];

var Clone = function (_Widget) {
    _inherits(Clone, _Widget);

    _createClass(Clone, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Clone.__proto__ || Object.getPrototypeOf(Clone), 'defaults', this).call(this, {

                _clone: 'clone',

                widgetId: { type: 'string', value: '', help: '`id` of the widget to clone' },

                _overrides: 'overrides',

                props: { type: 'object', value: {}, help: 'Cloned widget\'s properties to override' }

            }, ['label', 'color', 'linkId', '_value', 'default', 'value', '_osc', 'precison', 'address', 'preArgs', 'target', 'bypass']);
        }
    }]);

    function Clone(options) {
        _classCallCheck(this, Clone);

        options.props.label = '';
        options.props.variables = '@{parent.variables}';

        var _this = _possibleConstructorReturn(this, (Clone.__proto__ || Object.getPrototypeOf(Clone)).call(this, _extends({}, options, { html: '<div class="clone"></div>' })));

        _this.cloneLock = false;
        _this.cloneTarget = null;
        _this.cloneClass = [];

        _this.container.classList.add('empty');

        _this.getCloneTarget();
        if (_this.cloneTarget) _this.createClone();

        widgetManager.on('widget-created.' + _this.hash, function (e) {
            var id = e.id,
                widget = e.widget;

            if (_this.cloneTarget === null && id === _this.getProp('widgetId') && _this.isValidCloneTarget(widget)) {
                _this.cloneTarget = widget;
                _this.createClone();
                resize.check(_this.container);
            }
        });

        widgetManager.on('widget-removed.' + _this.hash, function (e) {
            if (_this.cloneTarget === e.widget) {
                _this.cloneTarget = null;
                _this.cleanClone();
            }
        });

        return _this;
    }

    _createClass(Clone, [{
        key: 'getCloneTarget',
        value: function getCloneTarget() {

            var widgets = widgetManager.getWidgetById(this.getProp('widgetId'));
            for (var i in widgets) {
                if (this.isValidCloneTarget(widgets[i])) {

                    this.cloneTarget = widgets[i];
                    break;
                }
            }
        }
    }, {
        key: 'isValidCloneTarget',
        value: function isValidCloneTarget(widget) {

            return !(widget.contains(this) || this.contains(widget));
        }
    }, {
        key: 'cleanClone',
        value: function cleanClone() {
            var _container$classList;

            if (!this.childrenHashes.length) return;

            widgetManager.removeWidgets(this.childrenHashes);
            this.widget.innerHTML = '';
            this.childrenHashes = [];
            (_container$classList = this.container.classList).remove.apply(_container$classList, _toConsumableArray(this.cloneClass));
            this.container.classList.add('clone-container', 'empty');
            this.cloneClass = [];
            if (this.cloneTarget) this.cloneTarget.off('widget-created.' + this.hash);
        }
    }, {
        key: 'createClone',
        value: function createClone() {
            var _container$classList2,
                _this2 = this;

            if (this.cloneLock) return;
            this.cloneLock = true;

            this.cleanClone();

            this.cloneClass = [].concat(_toConsumableArray(this.cloneTarget.container.classList)).filter(function (i) {
                return excludedCloneClasses.indexOf(i) === -1;
            });
            this.container.classList.remove('empty');
            (_container$classList2 = this.container.classList).add.apply(_container$classList2, _toConsumableArray(this.cloneClass));

            var clone = parser.parse([_extends({}, deepCopy(this.cloneTarget.props), this.getProp('props'))], this.widget, this);

            if (clone.getProp('id') === this.cloneTarget.getProp('id')) {
                widgetManager.trigger('change.*', [{
                    widget: this.cloneTarget,
                    id: this.cloneTarget.getProp('id'),
                    linkId: this.cloneTarget.getProp('linkId'),
                    options: {}
                }]);
            }

            DOM.each(this.widget, '.widget', function (el) {
                el.classList.add('not-editable');
            });

            this.cloneTarget.once('widget-created.' + this.hash, function (e) {
                _this2.createClone(_this2.cloneTarget);
                resize.check(_this2.container);
            });

            this.cloneLock = false;
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Clone.prototype.__proto__ || Object.getPrototypeOf(Clone.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'widgetId':
                    this.cleanClone();
                    this.cloneTarget = null;
                    this.getCloneTarget();
                    if (this.cloneTarget) this.createClone();
                    return;

            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {

            if (this.cloneTarget) this.cloneTarget.off('widget-created.' + this.hash);
            widgetManager.off('widget-removed.' + this.hash);
            _get(Clone.prototype.__proto__ || Object.getPrototypeOf(Clone.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Clone;
}(Widget);

Clone.dynamicProps = Clone.prototype.constructor.dynamicProps.concat('widgetId');

module.exports = Clone;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/containers/clone.js","/src/browser/js/app/widgets/containers")
},{"../../events/resize":37,"../../managers/widgets":47,"../../parser":49,"../../utils":55,"../common/widget":62,"_process":25,"buffer":3,"timers":28}],64:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Panel = require('./panel'),
    Widget = require('../common/widget'),
    _require = require('../../ui/utils'),
    icon = _require.icon,
    iconify = _require.iconify,
    resize = require('../../events/resize'),
    doubletab = require('../mixins/double_tap');


module.exports = function (_Panel) {
    _inherits(Modal, _Panel);

    _createClass(Modal, null, [{
        key: 'defaults',
        value: function defaults() {

            return Widget.defaults({

                _modal: 'modal',

                doubleTap: { type: 'boolean', value: false, help: 'Set to `true` to make the modal require a double tap to open instead of a single tap' },
                popupLabel: { type: 'string', value: '', help: 'Alternative label for the modal popup' },
                popupWidth: { type: 'number|percentage', value: '80%', help: 'Modal popup\'s size' },
                popupHeight: { type: 'number|percentage', value: '80%', help: 'Modal popup\'s size' },
                popupLeft: { type: 'number|percentage', value: 'auto', help: 'Modal popup\'s position' },
                popupTop: { type: 'number|percentage', value: 'auto', help: 'Modal popup\'s position' }

            }, [], {

                _chidlren: 'children',

                variables: { type: '*', value: '@{parent.variables}', help: 'Defines one or more arbitrary variables that can be inherited by children widgets' },
                widgets: { type: 'array', value: [], help: 'Each element of the array must be a widget object' }

            });
        }
    }]);

    function Modal(options) {
        _classCallCheck(this, Modal);

        options.props.scroll = true;

        var _this = _possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).call(this, options));

        _this.disabledProps = [];

        _this.popup = DOM.create('\n            <div class="popup">\n                <div class="popup-wrapper">\n                    <div class="popup-title closable"><span class="popup-label"></span><span class="closer">' + icon('times') + '</span></div>\n                    <div class="popup-content"></div>\n                </div>\n            </div>\n        ');

        _this.container.appendChild(_this.popup);

        // convert dimensions / coordinates to rem
        var geometry = {};
        var _arr = ['Width', 'Height', 'Left', 'Top'];
        for (var _i = 0; _i < _arr.length; _i++) {
            var g = _arr[_i];
            geometry[g] = parseFloat(_this.getProp('popup' + g)) == _this.getProp('popup' + g) ? parseFloat(_this.getProp('popup' + g)) + 'rem' : _this.getProp('popup' + g);
        }

        _this.popup.style.setProperty('--width', geometry.Width);
        _this.popup.style.setProperty('--height', geometry.Height);

        if (geometry.Left !== 'auto') {
            _this.popup.style.setProperty('--left', geometry.Left);
            _this.popup.classList.add('x-positionned');
        }

        if (geometry.Top !== 'auto') {
            _this.popup.style.setProperty('--top', geometry.Top);
            _this.popup.classList.add('y-positionned');
        }

        _this.light = _this.container.appendChild(DOM.create('<div class="toggle"></div>'));

        if (_this.getProp('doubleTap')) {
            doubletab(_this.light, function () {
                _this.setValue(1, { sync: true, send: true });
            });
        } else {
            _this.light.addEventListener('fast-click', function (e) {
                if (e.capturedByEditor === true) return;
                _this.setValue(1, { sync: true, send: true });
            });
        }

        var closer = DOM.get(_this.popup, '.closer')[0];
        _this.popup.addEventListener('fast-click', function (e) {
            if ((e.target === _this.popup || e.target === closer) && _this.value == 1) {
                e.detail.preventDefault = true;
                _this.setValue(0, { sync: true, send: true });
            }
        });

        _this.escapeKeyHandler = function (e) {
            if (e.keyCode == 27) _this.setValue(0, { sync: true, send: true });
        }.bind(_this);

        _this.parentScroll = [0, 0];
        _this.value = 0;
        _this.init = false;

        return _this;
    }

    _createClass(Modal, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (this.init === undefined) return;

            this.value = v ? 1 : 0;

            if (!this.init && this.value) {
                var label = this.getProp('popupLabel') ? iconify(this.getProp('popupLabel')) : DOM.get(this.container, '> .label')[0].innerHTML;
                DOM.get(this.popup, '.popup-title .popup-label')[0].innerHTML = label;
                DOM.get(this.popup, '.popup-content')[0].appendChild(this.widget);
                this.init = true;
            }

            this.popup.classList.toggle('show', this.value);
            this.container.classList.toggle('on', this.value);
            this.light.classList.toggle('on', this.value);

            this.bindEscKey(this.value);

            if (this.value) {
                resize.check(this.widget, true);
            }

            if (this.init) this.fixParents();

            if (options.send) this.sendValue();
            if (options.sync) this.changed(options);
        }
    }, {
        key: 'bindEscKey',
        value: function bindEscKey(set) {

            if (set) {
                document.addEventListener('keydown', this.escapeKeyHandler);
            } else {
                document.removeEventListener('keydown', this.escapeKeyHandler);
            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            this.bindEscKey(false);
            this.setValue(0);
            _get(Modal.prototype.__proto__ || Object.getPrototypeOf(Modal.prototype), 'onRemove', this).call(this);
        }
    }, {
        key: 'fixParents',
        value: function fixParents() {

            var parent = this.parent,
                scrollFixed = false;

            while (parent && parent.props) {

                // scroll
                if (!scrollFixed && parent.getProp('type') == 'tab') {
                    if (this.value) {
                        this.parentScroll = [parent.widget.scrollLeft, parent.widget.scrollTop];
                    }
                    parent.widget.scrollLeft = this.value ? 0 : this.parentScroll[0];
                    parent.widget.scrollTop = this.value ? 0 : this.parentScroll[1];
                    parent.widget.style.overflow = this.value ? 'hidden' : '';
                    scrollFixed = true;
                }

                // stacking
                parent.container.style.zIndex = this.value ? 'initial' : '';

                parent = parent.parent;
            }
        }
    }]);

    return Modal;
}(Panel);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/containers/modal.js","/src/browser/js/app/widgets/containers")
},{"../../events/resize":37,"../../ui/utils":54,"../common/widget":62,"../mixins/double_tap":81,"./panel":65,"_process":25,"buffer":3,"timers":28}],65:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    widgetManager = require('../../managers/widgets'),
    parser = require('../../parser');

var Panel = function (_Widget) {
    _inherits(Panel, _Widget);

    _createClass(Panel, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Panel.__proto__ || Object.getPrototypeOf(Panel), 'defaults', this).call(this, {

                _panel: 'panel',

                scroll: { type: 'boolean', value: true, help: 'Set to `false` to disable scrollbars' },
                border: { type: 'boolean', value: true, help: 'By default, widgets in panels/strip have their border disabled, except for panels and strips. Set to `false` to apply this rule to the panel too' }

            }, [], {

                _children: 'children',

                variables: { type: '*', value: '@{parent.variables}', help: 'Defines one or more arbitrary variables that can be inherited by children widgets' },
                widgets: { type: 'array', value: [], help: 'Each element of the array must be a widget object. A panel cannot contain widgets and tabs simultaneously.' },
                tabs: { type: 'array', value: [], help: 'Each element of the array must be a tab object. A panel cannot contain widgets and tabs simultaneously' },

                value: { type: 'integer', value: '', help: ['Defines currently opened tab in the widget', 'A tab can be opened only by setting its parent\'s value'] }

            });
        }
    }]);

    function Panel(options) {
        _classCallCheck(this, Panel);

        var _this = _possibleConstructorReturn(this, (Panel.__proto__ || Object.getPrototypeOf(Panel)).call(this, _extends({}, options, { html: '<div class="panel"></div>' })));

        if (_this.getProp('scroll') === false) _this.widget.classList.add('noscroll');
        if (_this.getProp('border') === false) _this.container.classList.add('noborder');
        if (_this.getProp('tabs') && _this.getProp('tabs').length) _this.widget.classList.add('has-tabs');

        _this.value = -1;
        _this.tabs = [];

        if (_this.getProp('tabs') && _this.getProp('tabs').length) {

            _this.widget.appendChild(DOM.create('<div class="navigation"><ul class="tablist"></ul></div>'));
            _this.navigation = DOM.get(_this.widget, '.tablist')[0];

            _this.wrapper = _this.widget.appendChild(DOM.create('<div class="tabs-wrapper"></div>'));

            parser.parse(_this.getProp('tabs'), _this.wrapper, _this, true);
            _this.createNavigation();

            _this.navigation.addEventListener('fast-click', function (e) {
                if (!e.target.hasAttribute('data-widget')) return;
                var index = DOM.index(e.target);
                _this.setValue(index, { sync: true, send: _this.value != index });
            });

            _this.on('tab-created', function (e) {
                _this.createNavigation();
                e.stopPropagation = true;
            });

            _this.setValue(_this.getProp('value') || 0);
        } else if (_this.getProp('widgets') && _this.getProp('widgets').length) {

            parser.parse(_this.getProp('widgets'), _this.widget, _this);
        }

        if (_this.getProp('tabs') && !_this.getProp('tabs').length) {
            _this.disabledProps.push('precision', 'address', 'preArgs', 'target', 'bypass', 'value', 'default');
        }
        if (_this.getProp('widgets') && !_this.getProp('widgets').length) {
            _this.disabledProps.push('scroll');
        }

        return _this;
    }

    _createClass(Panel, [{
        key: 'createNavigation',
        value: function createNavigation() {
            var _this2 = this;

            this.navigation.innerHTML = '';
            this.tabs = [];

            var html = '';
            DOM.each(this.wrapper, '> .widget', function (tab) {

                var widget = widgetManager.getWidgetByElement(tab),
                    style = widget.getProp('color') == 'auto' ? '' : 'style="--color-custom:' + widget.getProp('color') + '"';

                _this2.tabs.push(widget);
                html += '<li class="tablink" data-widget="' + widget.hash + '" ' + style + '><a><span>' + DOM.get(tab, '> .label')[0].innerHTML + '</span></a></li>';
            });

            this.navigation.innerHTML = html;

            this.setValue(this.value);
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

            if (this.tabs.length && typeof v == 'number' && v >= 0 && v < this.tabs.length) {

                for (var i in this.tabs) {
                    if (i != v) this.tabs[i].hide();
                }

                this.value = v;

                this.tabs[v].show();
                DOM.each(this.navigation, 'li', function (el) {
                    el.classList.remove('on');
                })[v].classList.add('on');

                if (options.send) this.sendValue();
                if (options.sync) this.changed(options);
            }
        }
    }, {
        key: 'scroll',
        value: function scroll(s) {

            if (!s) {
                return [this.widget.scrollLeft, this.widget.scrollTop];
            } else {
                this.widget.scrollLeft = s[0];
                this.widget.scrollTop = s[1];
            }
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Panel.prototype.__proto__ || Object.getPrototypeOf(Panel.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'color':
                    for (var i = this.childrenHashes.length - 1; i >= 0; i--) {
                        var widget = widgetManager.widgets[this.childrenHashes[i]];
                        if (!widget) {
                            this.childrenHashes.splice(i, 1);
                            continue;
                        }
                        widget.onPropChanged('color');
                    }
                    return;

            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            this.off('resize');
            _get(Panel.prototype.__proto__ || Object.getPrototypeOf(Panel.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Panel;
}(Widget);

Panel.dynamicProps = Panel.prototype.constructor.dynamicProps.concat('variables');

module.exports = Panel;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/containers/panel.js","/src/browser/js/app/widgets/containers")
},{"../../managers/widgets":47,"../../parser":49,"../common/widget":62,"_process":25,"buffer":3,"timers":28}],66:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Panel = require('./panel'),
    Widget = require('../common/widget'),
    _require = require('../../ui/utils'),
    iconify = _require.iconify;


module.exports = function (_Panel) {
    _inherits(Root, _Panel);

    _createClass(Root, null, [{
        key: 'defaults',
        value: function defaults() {

            return Widget.defaults({}, ['label', '_geometry', 'left', 'top', 'width', 'height'], {

                _children: 'children',

                variables: { type: '*', value: {}, help: 'Defines one or more arbitrary variables that can be inherited by children widgets' },
                tabs: { type: 'array', value: [], help: 'Each element of the array must be a tab object' },
                id: { type: 'string', value: 'root', help: 'Widgets sharing the same id will act as clones and update each other\'s value(s) without sending extra osc messages' },

                value: { type: 'integer', value: '', help: ['Defines currently opened tab in the widget', 'A tab can be opened only by setting its parent\'s value'] }

            });
        }
    }]);

    function Root(options) {
        _classCallCheck(this, Root);

        options.root = true;
        options.props.id = 'root';
        options.props.scroll = true;
        options.props.label = false;

        var _this = _possibleConstructorReturn(this, (Root.__proto__ || Object.getPrototypeOf(Root)).call(this, options));

        _this.widget.classList.add('root');

        _this.disabledProps.push('id');

        DOM.each(_this.widget, '> .navigation', function (el) {
            el.classList.add('main');
        });

        return _this;
    }

    _createClass(Root, [{
        key: 'createNavigation',
        value: function createNavigation() {

            _get(Root.prototype.__proto__ || Object.getPrototypeOf(Root.prototype), 'createNavigation', this).call(this);

            this.navigation.appendChild(DOM.create('\n            <li class="not-editable">\n                <a id="open-toggle" class="' + (DOM.get('#sidepanel')[0].classList.contains('sidepanel-open') ? 'sidepanel-open' : '') + '">' + iconify('^bars') + '</a>\n            </li>\n        '));
        }
    }]);

    return Root;
}(Panel);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/containers/root.js","/src/browser/js/app/widgets/containers")
},{"../../ui/utils":54,"../common/widget":62,"./panel":65,"_process":25,"buffer":3,"timers":28}],67:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Panel = require('./panel'),
    Widget = require('../common/widget');

module.exports = function (_Panel) {
    _inherits(Strip, _Panel);

    _createClass(Strip, null, [{
        key: 'defaults',
        value: function defaults() {

            return Widget.defaults({

                _strip: 'strip',

                scroll: { type: 'boolean', value: true, help: 'Set to `false` to disable scrollbars' },
                horizontal: { type: 'boolean', value: false, help: 'Set to `true` to display widgets horizontally' },
                stretch: { type: 'boolean', value: true, help: 'Set to `true` to stretch widgets evenly' },
                border: { type: 'boolean', value: true, help: 'By default, widgets in panels/strip have their border disabled, except for panels and strips. Set to `false` to apply this rule to the panel too' },
                spacing: { type: 'integer|percentage', value: 0, help: 'Adds space between widgets. Percents are always relative to the strips width' }

            }, [], {

                _children: 'children',

                variables: { type: '*', value: '@{parent.variables}', help: 'Defines one or more arbitrary variables that can be inherited by children widgets' },
                widgets: { type: 'array', value: [], help: 'Each element of the array must be a widget object' }

            });
        }
    }]);

    function Strip(options) {
        _classCallCheck(this, Strip);

        var defaults = Panel.defaults()._props();
        for (var k in defaults) {
            if (!options.props.hasOwnProperty(k)) options.props[k] = defaults[k];
        }

        var _this = _possibleConstructorReturn(this, (Strip.__proto__ || Object.getPrototypeOf(Strip)).call(this, options));

        _this.disabledProps = [];

        if (_this.getProp('spacing')) {
            var spacing = _this.getProp('spacing');
            if (!isNaN(spacing)) spacing += 'rem';
            _this.widget.style.setProperty('--spacing', spacing);
        }

        _this.container.classList.add(_this.getProp('horizontal') ? 'horizontal' : 'vertical');
        if (_this.getProp('stretch')) _this.container.classList.add('stretch');

        return _this;
    }

    _createClass(Strip, [{
        key: 'setValue',
        value: function setValue() {}
    }, {
        key: 'getValue',
        value: function getValue() {}
    }]);

    return Strip;
}(Panel);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/containers/strip.js","/src/browser/js/app/widgets/containers")
},{"../common/widget":62,"./panel":65,"_process":25,"buffer":3,"timers":28}],68:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Panel = require('./panel'),
    Widget = require('../common/widget'),
    resize = require('../../events/resize');

module.exports = function (_Panel) {
    _inherits(Tab, _Panel);

    _createClass(Tab, null, [{
        key: 'defaults',
        value: function defaults() {

            return Widget.defaults({}, ['_geometry', 'left', 'top', 'width', 'height'], {

                _children: 'children',

                variables: { type: '*', value: '@{parent.variables}', help: 'Defines one or more arbitrary variables that can be inherited by children widgets' },
                widgets: { type: 'array', value: [], help: 'Each element of the array must be a widget object. A tab cannot contain widgets and tabs simultaneously' },
                tabs: { type: 'array', value: [], help: 'Each element of the array must be a tab object. A tab cannot contain widgets and tabs simultaneously' },

                value: { type: 'integer', value: '', help: ['Defines currently opened tab in the widget', 'A tab can be opened only by setting its parent\'s value'] }

            });
        }
    }]);

    function Tab(options) {
        _classCallCheck(this, Tab);

        options.props.scroll = true;

        var _this = _possibleConstructorReturn(this, (Tab.__proto__ || Object.getPrototypeOf(Tab)).call(this, options));

        _this.container.classList.add('show');
        _this.widget.classList.add('tab');

        _this.detached = false;

        return _this;
    }

    _createClass(Tab, [{
        key: 'hide',
        value: function hide() {
            if (this.detached) return;
            this.container.removeChild(this.widget);
            this.container.classList.remove('show');
            this.detached = true;
        }
    }, {
        key: 'show',
        value: function show() {
            if (!this.detached) return;
            this.container.appendChild(this.widget);
            this.container.classList.add('show');
            this.detached = false;
            resize.check(this.widget, true);
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Tab.prototype.__proto__ || Object.getPrototypeOf(Tab.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'label':
                case 'color':
                    if (this.parent.createNavigation) this.parent.createNavigation();
                    return;

            }
        }
    }]);

    return Tab;
}(Panel);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/containers/tab.js","/src/browser/js/app/widgets/containers")
},{"../../events/resize":37,"../common/widget":62,"./panel":65,"_process":25,"buffer":3,"timers":28}],69:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

module.exports.widgets = {
    // tabs
    tab: require('./containers/tab'),
    root: require('./containers/root'),

    // sliders
    fader: require('./sliders/fader'),
    knob: require('./sliders/knob'),
    encoder: require('./sliders/encoder'),
    range: require('./sliders/range'),

    // buttons
    toggle: require('./buttons/toggle'),
    push: require('./buttons/push'),
    switch: require('./buttons/switch'),
    dropdown: require('./buttons/dropdown'),

    // pads
    xy: require('./pads/xy'),
    rgb: require('./pads/rgb'),
    multixy: require('./pads/multixy'),

    // matrices
    matrix: require('./matrices/matrix'),
    multitoggle: require('./matrices/multitoggle'),
    multipush: require('./matrices/multipush'),
    multifader: require('./matrices/multifader'),
    keyboard: require('./matrices/keyboard'),

    // plots
    led: require('./plots/led'),
    rgbled: require('./plots/rgbled'),
    plot: require('./plots/plot'),
    eq: require('./plots/eq'),
    visualizer: require('./plots/visualizer'),
    meter: require('./plots/meter'),
    text: require('./plots/text'),
    image: require('./plots/image'),
    svg: require('./plots/svg'),
    frame: require('./plots/frame'),

    // containers
    strip: require('./containers/strip'),
    panel: require('./containers/panel'),
    modal: require('./containers/modal'),
    clone: require('./containers/clone'),

    // state switchers
    switcher: require('./switchers/switcher'),
    crossfader: require('./switchers/crossfader'),

    // inputs
    input: require('./inputs/input'),
    keys: require('./inputs/keys'),
    script: require('./inputs/script'),
    gyroscope: require('./inputs/gyroscope'),

    // maths
    // deprecated / hidden
    formula: require('./maths/formula')

};

module.exports.categories = {
    'Sliders': ['fader', 'knob', 'encoder', 'range'],
    'Buttons': ['toggle', 'push', 'switch', 'dropdown'],
    'Pads': ['xy', 'rgb', 'multixy'],
    'Matrices': ['matrix', 'multifader', 'multitoggle', 'multipush', 'keyboard'],
    'Plots': ['plot', 'eq', 'visualizer', 'led', 'rgbled', 'meter', 'text', 'image', 'svg', 'frame'],
    'Containers': ['panel', 'strip', 'modal', 'clone'],
    'Switchers': ['switcher', 'crossfader'],
    'Inputs': ['input', 'keys', 'script', 'gyroscope']
};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/index.js","/src/browser/js/app/widgets")
},{"./buttons/dropdown":56,"./buttons/push":57,"./buttons/switch":58,"./buttons/toggle":59,"./containers/clone":63,"./containers/modal":64,"./containers/panel":65,"./containers/root":66,"./containers/strip":67,"./containers/tab":68,"./inputs/gyroscope":70,"./inputs/input":71,"./inputs/keys":72,"./inputs/script":73,"./maths/formula":74,"./matrices/keyboard":76,"./matrices/matrix":77,"./matrices/multifader":78,"./matrices/multipush":79,"./matrices/multitoggle":80,"./pads/multixy":84,"./pads/rgb":86,"./pads/xy":87,"./plots/eq":90,"./plots/frame":91,"./plots/image":92,"./plots/led":93,"./plots/meter":94,"./plots/plot":95,"./plots/rgbled":96,"./plots/svg":97,"./plots/text":98,"./plots/visualizer":99,"./sliders/encoder":100,"./sliders/fader":101,"./sliders/knob":102,"./sliders/range":103,"./switchers/crossfader":106,"./switchers/switcher":107,"_process":25,"buffer":3,"timers":28}],70:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    GyroNorm = require('gyronorm/dist/gyronorm.complete.min.js'),
    _require = require('../../ui/utils'),
    iconify = _require.iconify,
    _require2 = require('../utils'),
    clip = _require2.clip;

var Gyroscope = function (_Widget) {
    _inherits(Gyroscope, _Widget);

    _createClass(Gyroscope, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Gyroscope.__proto__ || Object.getPrototypeOf(Gyroscope), 'defaults', this).call(this, {

                _gyroscope: 'gyroscope',

                frequency: { type: 'number', value: 30, help: 'Value update frequency (updates per seconds)' },
                normalize: { type: 'boolean', value: true, help: 'Normalize gravity related values' },
                compass: { type: 'boolean', value: false, help: 'Set to `true` to return the orientation values with respect to the actual north direction of the world instead of the head direction of the device' },
                screenAdjusted: { type: 'boolean', value: false, help: 'Set to `true` to return screen adjusted values' }

            });
        }
    }]);

    function Gyroscope(options) {
        _classCallCheck(this, Gyroscope);

        var html = '\n            <div class="gyroscope">\n                ' + iconify('^compass') + '\n            </div>\n        ';

        var _this = _possibleConstructorReturn(this, (Gyroscope.__proto__ || Object.getPrototypeOf(Gyroscope)).call(this, _extends({}, options, { html: html })));

        _this.sensor = new GyroNorm();
        _this.sensor.init({

            frequency: 1000 / clip(_this.getProp('frequency'), [0.01, 60]),
            gravityNormalized: _this.getProp('normalize'),
            orientationBase: _this.getProp('compass') ? GyroNorm.WORLD : GyroNorm.GAME,
            decimalCount: _this.getProp('precision'),
            screenAdjusted: _this.getProp('screenAdjusted'),
            logger: null

        }).then(function () {

            _this.sensor.start(function (data) {

                _this.setValue(data, { sync: true });

                // data.do.alpha       ( deviceorientation event alpha value )
                // data.do.beta        ( deviceorientation event beta value )
                // data.do.gamma       ( deviceorientation event gamma value )
                // data.do.absolute    ( deviceorientation event absolute value )

                // data.dm.x        ( devicemotion event acceleration x value )
                // data.dm.y        ( devicemotion event acceleration y value )
                // data.dm.z        ( devicemotion event acceleration z value )

                // data.dm.gx        ( devicemotion event accelerationIncludingGravity x value )
                // data.dm.gy        ( devicemotion event accelerationIncludingGravity y value )
                // data.dm.gz        ( devicemotion event accelerationIncludingGravity z value )

                // data.dm.alpha    ( devicemotion event rotationRate alpha value )
                // data.dm.beta     ( devicemotion event rotationRate beta value )
                // data.dm.gamma    ( devicemotion event rotationRate gamma value )

            });
        }).catch(function (e) {

            console.log(e);
        });

        return _this;
    }

    _createClass(Gyroscope, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            this.value = v;

            // if (options.send) this.sendValue()
            if (options.sync) this.changed(options);
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {

            this.sensor.end();

            _get(Gyroscope.prototype.__proto__ || Object.getPrototypeOf(Gyroscope.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Gyroscope;
}(Widget);

module.exports = Gyroscope;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/inputs/gyroscope.js","/src/browser/js/app/widgets/inputs")
},{"../../ui/utils":54,"../common/widget":62,"../utils":108,"_process":25,"buffer":3,"gyronorm/dist/gyronorm.complete.min.js":8,"timers":28}],71:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Canvas = require('../common/canvas'),
    _require = require('../../utils'),
    deepCopy = _require.deepCopy;


module.exports = function (_Canvas) {
    _inherits(Input, _Canvas);

    _createClass(Input, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Input.__proto__ || Object.getPrototypeOf(Input), 'defaults', this).call(this, {

                _input: 'input',

                vertical: { type: 'boolean', value: false, help: 'Set to `true` to display the text vertically' },
                align: { type: 'string', value: '', help: 'Set to `left` or `right` to change text alignment (otherwise center)' },
                unit: { type: 'string', value: '', help: 'Unit will be appended to the displayed widget\'s value (it doesn\'t affect osc messages)' },
                editable: { type: 'boolean', value: true, help: 'Set to `false` to make the input non-editable' }

            });
        }
    }]);

    function Input(options) {
        _classCallCheck(this, Input);

        var html = '\n            <div class="input">\n                <canvas></canvas>\n            </div>\n        ';

        var _this = _possibleConstructorReturn(this, (Input.__proto__ || Object.getPrototypeOf(Input)).call(this, _extends({}, options, { html: html })));

        _this.value = '';
        _this.stringValue = '';
        _this.focused = false;

        if (_this.getProp('vertical')) _this.widget.classList.add('vertical');
        if (_this.getProp('align') === 'left') _this.widget.classList.add('left');
        if (_this.getProp('align') === 'right') _this.widget.classList.add('right');

        if (_this.getProp('editable')) {
            _this.canvas.setAttribute('tabindex', 0);
            _this.canvas.addEventListener('focus', _this.focus.bind(_this));
            _this.input = DOM.create('<input class="no-keybinding"></input>');
            _this.input.addEventListener('blur', function (e) {
                _this.blur(false);
            });
            _this.input.addEventListener('keydown', function (e) {
                if (e.keyCode == 13) _this.blur();
                if (e.keyCode == 27) _this.blur(false);
            });
        } else {
            _this.widget.classList.add('not-editable');
        }

        return _this;
    }

    _createClass(Input, [{
        key: 'focus',
        value: function focus() {

            if (this.focused) return;
            this.focused = true;

            this.canvas.setAttribute('tabindex', '-1');
            this.input.value = this.stringValue;
            this.widget.insertBefore(this.input, this.canvas);
            this.input.focus();
        }
    }, {
        key: 'blur',
        value: function blur() {
            var change = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;


            if (!this.focused) return;
            this.focused = false;

            if (change) this.inputChange();

            this.canvas.setAttribute('tabindex', '0');
            this.widget.removeChild(this.input);
        }
    }, {
        key: 'inputChange',
        value: function inputChange() {

            this.setValue(this.input.value, { sync: true, send: true });
        }
    }, {
        key: 'resizeHandle',
        value: function resizeHandle(event) {

            _get(Input.prototype.__proto__ || Object.getPrototypeOf(Input.prototype), 'resizeHandle', this).call(this, event);

            if (this.getProp('vertical')) {

                var ratio = CANVAS_SCALING * this.scaling;

                this.ctx.setTransform(1, 0, 0, 1, 0, 0);
                this.ctx.rotate(-Math.PI / 2);
                this.ctx.translate(-this.height * ratio, 0);

                if (ratio != 1) this.ctx.scale(ratio, ratio);
            }
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            try {
                this.value = JSON.parse(v);
            } catch (err) {
                this.value = v;
            }

            this.stringValue = this.getStringValue();
            this.batchDraw();

            if (options.send && !options.fromSync) this.sendValue();
            if (options.sync) this.changed(options);
        }
    }, {
        key: 'draw',
        value: function draw() {

            var v = this.stringValue,
                width = this.getProp('vertical') ? this.height : this.width,
                height = !this.getProp('vertical') ? this.height : this.width;

            if (this.getProp('unit') && v.length) v += ' ' + this.getProp('unit');

            this.clear();

            this.ctx.fillStyle = this.colors.text;

            if (this.textAlign == 'center') {
                this.ctx.fillText(v, Math.round(width / 2), Math.round(height / 2));
            } else if (this.textAlign == 'right') {
                this.ctx.fillText(v, width, Math.round(height / 2));
            } else {
                this.ctx.fillText(v, 0, Math.round(height / 2));
            }

            this.clearRect = [0, 0, width, height];
        }
    }, {
        key: 'getStringValue',
        value: function getStringValue() {
            if (this.value === undefined) return '';
            return typeof this.value != 'string' ? JSON.stringify(deepCopy(this.value, this.precision)).replace(/,/g, ', ') : this.value;
        }
    }]);

    return Input;
}(Canvas);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/inputs/input.js","/src/browser/js/app/widgets/inputs")
},{"../../utils":55,"../common/canvas":60,"_process":25,"buffer":3,"timers":28}],72:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    _require = require('../../ui/utils'),
    iconify = _require.iconify,
    keyboardJS = require('keyboardjs');

var Keys = function (_Widget) {
    _inherits(Keys, _Widget);

    _createClass(Keys, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Keys.__proto__ || Object.getPrototypeOf(Keys), 'defaults', this).call(this, {

                _keys: 'keys',

                binding: { type: 'string|array', value: '', help: 'Key combo `string` or `array` of strings (see <a href="https://github.com/RobertWHurst/KeyboardJS">KeyboardJS</a> documentation)' },
                keydown: { type: 'string', value: '', help: ['This property is evaluated each time the key combo is pressed. Formulas are given extras variables in this context:', '- `key`: pressed key name (usefull for handling multiple keys with a single keys widget)', '- `ctrl`: control key state', '- `alt`: alt key state', '- `shift`: shift key state', '- `super`: command/windows key state'] },
                keyup: { type: 'string', value: '', help: 'Same as `keydown`, but evaluated when releasing the key combo' },
                repeat: { type: 'boolean', value: true, help: 'Set to `false` to prevent keydown repeats when holding the key combo pressed' }

            });
        }
    }]);

    function Keys(options) {
        _classCallCheck(this, Keys);

        var html = '\n            <div class="keys">\n                ' + iconify('^keyboard') + '\n            </div>\n        ';

        var _this = _possibleConstructorReturn(this, (Keys.__proto__ || Object.getPrototypeOf(Keys)).call(this, _extends({}, options, { html: html })));

        if (_this.getProp('binding')) {

            _this.widget.appendChild(DOM.create('<span>' + _this.getProp('binding') + '</span>'));

            _this.keyDownHandler = _this.keyDown.bind(_this);
            _this.keyUpHandler = _this.keyUp.bind(_this);

            keyboardJS.bind(_this.getProp('binding'), _this.keyDownHandler, _this.keyUpHandler);
        }

        return _this;
    }

    _createClass(Keys, [{
        key: 'onRemove',
        value: function onRemove() {

            _get(Keys.prototype.__proto__ || Object.getPrototypeOf(Keys.prototype), 'onRemove', this).call(this);

            if (this.getProp('binding')) {

                keyboardJS.unbind(this.getProp('binding'), this.keyDownHandler, this.keyUpHandler);
            }
        }
    }, {
        key: 'keyDown',
        value: function keyDown(e) {

            if (e.target.classList.contains('no-keybinding')) return;

            if (!this.getProp('repeat') && e) e.preventRepeat();

            if (this.getProp('keydown') !== '') {

                var context = {
                    key: e.key,
                    ctrl: e.ctrlKey,
                    shift: e.shiftKey,
                    alt: e.altKey,
                    meta: e.metaKey
                };

                this.setValue(this.resolveProp('keydown', undefined, false, false, false, context), { sync: true, send: true });
            }

            this.showKeydown();
        }
    }, {
        key: 'keyUp',
        value: function keyUp(e) {

            if (e.target.classList.contains('no-keybinding')) return;

            if (this.getProp('keyup') !== '') {

                var context = {
                    key: e.key,
                    ctrl: e.ctrlKey,
                    shift: e.shiftKey,
                    alt: e.altKey,
                    meta: e.metaKey
                };

                this.setValue(this.resolveProp('keyup', undefined, false, false, false, context), { sync: true, send: true });
            }

            this.showKeyup();
        }
    }, {
        key: 'showKeydown',
        value: function showKeydown() {

            this.widget.style.setProperty('--opacity', 1);
        }
    }, {
        key: 'showKeyup',
        value: function showKeyup() {

            this.widget.style.setProperty('--opacity', 0.75);
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            this.value = v;

            // if (options.send) this.sendValue()
            if (options.sync) this.changed(options);
        }
    }]);

    return Keys;
}(Widget);

Keys.dynamicProps = Keys.prototype.constructor.dynamicProps.concat('keydown', 'keyup', 'repeat');

module.exports = Keys;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/inputs/keys.js","/src/browser/js/app/widgets/inputs")
},{"../../ui/utils":54,"../common/widget":62,"_process":25,"buffer":3,"keyboardjs":12,"timers":28}],73:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    widgetManager = require('../../managers/widgets'),
    _require = require('../../ui/utils'),
    iconify = _require.iconify;

var Script = function (_Widget) {
    _inherits(Script, _Widget);

    _createClass(Script, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'defaults', this).call(this, {

                _script: 'script',

                condition: { type: 'string', value: 1, help: ['When the widget receives a value, if this property return a falsy value, the script property won\'t be evaluated. If it\'s non-falsy, it will be evaluated normally. Formulas are given one extra variable in this context:', '- `value`: the value received by the widget'] },
                script: { type: 'string', value: '', help: ['This property is evaluated each time the widget receives a value if condition is non-falsy. Formulas are given extras variables in this context:', '- `value`: the value received by the widget', '- `send(target, address, arg1, arg2, ...)`: function for sending osc messages (ignores the script\'s targets and the server\'s defaults unless `target` is `false`; ignores the script\'s `preArgs`)', '- `set(id, value)`: function for setting a widget\'s value'] }

            });
        }
    }]);

    function Script(options) {
        _classCallCheck(this, Script);

        var html = '\n            <div class="script">\n                ' + iconify('^code') + '\n            </div>\n        ';

        return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).call(this, _extends({}, options, { html: html })));
    }

    _createClass(Script, [{
        key: 'scriptSend',
        value: function scriptSend(target, address) {
            for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
                args[_key - 2] = arguments[_key];
            }

            var overrides = {
                address: address,
                v: args,
                preArgs: []
            };

            if (target) overrides.target = Array.isArray(target) ? target : [target];

            this.sendValue(overrides);
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            var context = {
                value: v,
                send: options.send ? this.scriptSend.bind(this) : function () {},
                set: function set(id, value) {
                    Script.scriptSet(id, value, options);
                },
                log: console.log
            };

            var condition = this.resolveProp('condition', undefined, false, false, false, { value: v });

            if (condition) this.resolveProp('script', undefined, false, false, false, context);

            // if (options.send) this.sendValue()
            if (options.sync) this.changed(options);
        }
    }], [{
        key: 'scriptSet',
        value: function scriptSet(id, value, options) {

            var widgets = widgetManager.getWidgetById(id);

            for (var i = widgets.length - 1; i >= 0; i--) {

                return widgets[i].setValue(value, options);
            }
        }
    }]);

    return Script;
}(Widget);

Script.dynamicProps = Script.prototype.constructor.dynamicProps.concat('condition', 'script');

module.exports = Script;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/inputs/script.js","/src/browser/js/app/widgets/inputs")
},{"../../managers/widgets":47,"../../ui/utils":54,"../common/widget":62,"_process":25,"buffer":3,"timers":28}],74:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    widgetManager = require('../../managers/widgets'),
    _require = require('../utils'),
    math = _require.math,
    Input = require('../inputs/input');


module.exports = function (_Widget) {
    _inherits(Formula, _Widget);

    _createClass(Formula, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Formula.__proto__ || Object.getPrototypeOf(Formula), 'defaults', this).call(this, {

                _formula: 'formula',

                formula: { type: 'string', value: '', help: '' },
                condition: { type: 'string', value: '', help: '' },
                unit: { type: 'string', value: '', help: '' }

            });
        }
    }]);

    function Formula(options) {
        _classCallCheck(this, Formula);

        var html = '\n            <div class="formula">\n            </div>\n        ';

        var _this = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this, _extends({}, options, { html: html })));

        _this.formulaString = String(_this.getProp('formula'));
        _this.conditionString = String(_this.getProp('condition'));

        _this.input = new Input({
            props: _extends({}, Input.defaults()._props(), {
                editable: false,
                precision: _this.getProp('precision'),
                unit: _this.getProp('unit')
            }),
            parent: _this, parentNode: _this.widget
        });

        _this.widget.appendChild(_this.input.widget);

        _this.linkedWidgets = [];

        if (_this.formulaString.length) {

            if (_this.formulaString.match(/\$\{([^}]*)\}/g) != null) _this.linkedWidgets = _this.linkedWidgets.concat(_this.formulaString.match(/\$\{([^}]*)\}/g).map(function (a) {
                return a.substr(2, a.length - 3);
            }));
        }

        if (_this.conditionString.length) {

            if (_this.conditionString.match(/\$\{([^}]*)\}/g) != null) _this.linkedWidgets = _this.linkedWidgets.concat(_this.conditionString.match(/\$\{([^}]*)\}/g).map(function (a) {
                return a.substr(2, a.length - 3);
            }));
        }

        try {

            _this.condition = math.compile(_this.conditionString.replace(/\$\{([^}]*)\}/g, '_$1'));
            delete _this.errors.condition;
        } catch (err) {

            _this.errors.condition = 'Error parsing formula "' + _this.conditionString + '" (' + err + ')';
        }

        try {

            _this.formula = math.compile(_this.formulaString.replace(/\$\{([^}]*)\}/g, '_$1'));
            delete _this.errors.formula;
        } catch (err) {

            _this.errors.formula = 'Error parsing formula "' + _this.conditionString + '" (' + err + ')';
        }

        _this.conditionState = true;

        widgetManager.on('change.' + _this.hash, _this.syncHandle.bind(_this));

        if (_this.formulaString.length) _this.updateValue({ options: {} });

        return _this;
    }

    _createClass(Formula, [{
        key: 'syncHandle',
        value: function syncHandle(e) {

            if (this.linkedWidgets.indexOf(e.id) == -1 || !widgetManager.getWidgetById(e.id).length) return;
            this.updateValue(e);
        }
    }, {
        key: 'updateValue',
        value: function updateValue(e) {

            var variables = {};

            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.linkedWidgets[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var id = _step.value;

                    if (id !== undefined) {
                        variables['_' + id] = 0;
                        var widgets = widgetManager.getWidgetById(id);
                        var _iteratorNormalCompletion2 = true;
                        var _didIteratorError2 = false;
                        var _iteratorError2 = undefined;

                        try {
                            for (var _iterator2 = widgets[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                                var w = _step2.value;

                                if (w.getValue) {
                                    variables['_' + id] = w.getValue();
                                    break;
                                }
                            }
                        } catch (err) {
                            _didIteratorError2 = true;
                            _iteratorError2 = err;
                        } finally {
                            try {
                                if (!_iteratorNormalCompletion2 && _iterator2.return) {
                                    _iterator2.return();
                                }
                            } finally {
                                if (_didIteratorError2) {
                                    throw _iteratorError2;
                                }
                            }
                        }
                    }
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            if (this.conditionString.length) {

                try {

                    var s = this.condition.eval(variables).valueOf();

                    if (Array.isArray(s) && s.length == 1) s = s[0];

                    this.conditionState = s.data !== undefined ? s.data : s;

                    delete this.errors.condition;
                } catch (err) {

                    this.errors.condition = 'Error parsing formula "' + this.conditionString + '" (' + err + ')';
                    this.conditionState = false;
                }
            }

            try {

                var v = this.formula.eval(variables).valueOf();

                if (Array.isArray(v) && v.length == 1) v = v[0];

                this.value = v.data ? v.data : v;

                this.showValue();

                if (e.options.sync && this.conditionState) this.changed(e.options);
                if (e.options.send && this.conditionState) this.sendValue();

                delete this.errors.formula;
            } catch (err) {

                this.errors.formula = 'Error parsing formula "' + this.formulaString + '" (' + err + ')';
                this.value = undefined;
            }
        }
    }, {
        key: 'showValue',
        value: function showValue() {

            this.input.setValue(this.value);

            if (this.getProp('condition').length && !this.conditionState) {
                this.input.stringValue = '* ' + this.input.stringValue;
                this.input.batchDraw();
            }
        }
    }, {
        key: 'getSplit',
        value: function getSplit() {

            return _typeof(this.getProp('split')) == 'object' && this.getProp('split').length ? this.getProp('split') : false;
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Formula.prototype.__proto__ || Object.getPrototypeOf(Formula.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'color':
                    if (this.input) this.input.onPropChanged('color');
                    return;

            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            this.input.onRemove();
            _get(Formula.prototype.__proto__ || Object.getPrototypeOf(Formula.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Formula;
}(Widget);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/maths/formula.js","/src/browser/js/app/widgets/maths")
},{"../../managers/widgets":47,"../common/widget":62,"../inputs/input":71,"../utils":108,"_process":25,"buffer":3,"timers":28}],75:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    _require = require('../../events/drag'),
    enableTraversingGestures = _require.enableTraversingGestures;


module.exports = function (_Widget) {
    _inherits(_matrix_base, _Widget);

    function _matrix_base(options) {
        _classCallCheck(this, _matrix_base);

        var _this = _possibleConstructorReturn(this, (_matrix_base.__proto__ || Object.getPrototypeOf(_matrix_base)).call(this, _extends({}, options, { html: '<div class="matrix"></div>' })));

        _this.value = [];

        _this.start = parseInt(_this.getProp('start'));

        _this.on('change', function (e) {

            if (e.widget == _this) return;

            _this.value[DOM.index(e.widget.container)] = e.widget.getValue();
            _this.changed(e.options);
        });

        if (_this.getProp('traversing')) enableTraversingGestures(_this.widget);

        return _this;
    }

    return _matrix_base;
}(Widget);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/matrices/_matrix_base.js","/src/browser/js/app/widgets/matrices")
},{"../../events/drag":35,"../common/widget":62,"_process":25,"buffer":3,"timers":28}],76:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _matrix_base = require('./_matrix_base'),
    parser = require('../../parser');

module.exports = function (_matrix_base2) {
    _inherits(Keyboard, _matrix_base2);

    _createClass(Keyboard, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Keyboard.__proto__ || Object.getPrototypeOf(Keyboard), 'defaults', this).call(this, {

                _matrix: 'matrix',

                keys: { type: 'number', value: 25, help: 'Defines the number keys' },
                start: { type: 'number', value: 48, help: ['MIDI note number to start with (default is C4)', 'Standard keyboards settings are: `[25, 48]`, `[49, 36]`, `[61, 36]`, `[88, 21]`'] },
                traversing: { type: 'boolean', value: true, help: 'Set to `false` to disable traversing gestures' },
                on: { type: '*', value: 1, help: ['Set to `null` to send send no argument in the osc message', 'Can be an `object` if the type needs to be specified (see preArgs)'] },
                off: { type: '*', value: 0, help: ['Set to `null` to send send no argument in the osc message', 'Can be an `object` if the type needs to be specified (see preArgs)'] }

            }, ['_value', 'default', 'value'], {

                split: { type: 'boolean|string', value: false, help: ['`true`: the widget\'s index will be appended to the matrice\'s osc address', '`false`: it will be prepended to the widget\'s preArgs', '`string`: will be used to define the widgets\' addresses, replacing dollar signs (`$`) with their respective index (to insert the actual dollar sign, it must be escaped with a backslash (`\\$`))'] }

            });
        }
    }]);

    function Keyboard(options) {
        _classCallCheck(this, Keyboard);

        var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, options));

        _this.keys = parseInt(_this.getProp('keys'));

        var strData = JSON.stringify(options.props),
            pattern = 'wbwbwwbwbwbw',
            whiteKeys = 0,
            whiteKeys2 = 0,
            i;

        for (i = _this.start; i < _this.keys + _this.start && i < 109; i++) {
            if (pattern[i % 12] == 'w') whiteKeys++;
        }

        for (i = _this.start; i < _this.keys + _this.start && i < 109; i++) {

            var data = JSON.parse(strData);

            data.top = data.left = data.height = data.width = 'auto';
            data.type = 'push';
            data.id = _this.getProp('id') + '/' + i;
            data.label = false;
            data.css = '';

            if (!_this.getProp('split')) {
                data.address = '@{parent.address}';
                data.preArgs = '#{concat(@{parent.preArgs},[' + i + '])}';
            } else if (typeof _this.getProp('split') === 'string' && _this.getProp('split')[0] === '/' && /[^\\]\$/.test(_this.getProp('split'))) {
                data.address = _this.getProp('split').replace(/([^\\])(\$)/g, '$1' + i).replace(/\\\$/g, '$');
                data.preArgs = '@{parent.preArgs}';
            } else if (_this.getProp('split')) {
                data.address = '@{parent.address}/' + i;
                data.preArgs = '@{parent.preArgs}';
            }

            var key = parser.parse([data], _this.widget, _this);
            key.container.classList.add('not-editable');

            if (pattern[i % 12] == 'w') {
                key.container.classList.add('white');
                key.container.style.width = 100 / whiteKeys + '%';
                whiteKeys2++;
            } else {
                key.container.classList.add('black');
                key.container.style.width = 60 / whiteKeys + '%';
                key.container.style.left = 100 / whiteKeys * (whiteKeys2 - 3 / 10) + '%';
            }

            _this.value[i - _this.start] = _this.getProp('off');
        }

        return _this;
    }

    return Keyboard;
}(_matrix_base);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/matrices/keyboard.js","/src/browser/js/app/widgets/matrices")
},{"../../parser":49,"./_matrix_base":75,"_process":25,"buffer":3,"timers":28}],77:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _matrix_base = require('./_matrix_base'),
    parser = require('../../parser'),
    widgetManager = require('../../managers/widgets');

var Matrix = function (_matrix_base2) {
    _inherits(Matrix, _matrix_base2);

    _createClass(Matrix, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Matrix.__proto__ || Object.getPrototypeOf(Matrix), 'defaults', this).call(this, {

                _matrix: 'matrix',

                widgetType: { type: 'string', value: 'toggle', help: 'Defines the type of the widgets in the matrix' },
                matrix: { type: 'array', value: [2, 2], help: 'Defines the number of columns and and rows in the matrix' },
                start: { type: 'integer', value: 0, help: 'First widget\'s index' },
                spacing: { type: 'integer', value: 0, help: 'Adds space between widgets' },
                traversing: { type: 'boolean', value: true, help: 'Set to `false` to disable traversing gestures' },
                border: { type: 'boolean', value: true, help: 'Set to `false` to disables the widgets\' borders' },
                props: { type: 'object', value: {}, help: ['Defines a set of property to override the widgets\' defaults.', 'Formulas in this field are resolved with an extra variable representing each widget\'s index: `$`'] }

            }, [], {});
        }
    }]);

    function Matrix(options) {
        _classCallCheck(this, Matrix);

        var _this = _possibleConstructorReturn(this, (Matrix.__proto__ || Object.getPrototypeOf(Matrix)).call(this, options));

        _this.widget.style.setProperty('--columns', _this.getProp('matrix')[0]);
        _this.widget.style.setProperty('--rows', _this.getProp('matrix')[1]);
        _this.widget.style.setProperty('--spacing', _this.getProp('spacing') + 'rem');

        if (_this.getProp('borders') === false) _this.widget.classList.add('noborders');

        if (parser.widgets[_this.getProp('widgetType')]) {

            for (var i = _this.start; i < _this.getProp('matrix')[0] * _this.getProp('matrix')[1] + _this.start; i++) {

                var data = _extends({
                    type: _this.getProp('widgetType'),
                    id: _this.getProp('id') + '/' + i,
                    label: i,
                    top: 'auto',
                    left: 'auto',
                    height: 'auto',
                    width: 'auto'
                }, _this.resolveProp('props', undefined, false, false, false, { '$': i }));

                var widget = parser.parse([data], _this.widget, _this);

                widget.container.classList.add('not-editable');

                _this.value[i - _this.start] = widget.getValue();
            }
        } else {

            _this.errors.widgetType = _this.getProp('widgetType') + ' is not a valid widget type';
        }

        return _this;
    }

    _createClass(Matrix, [{
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Matrix.prototype.__proto__ || Object.getPrototypeOf(Matrix.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'props':

                    var hashes = [].concat(_toConsumableArray(this.childrenHashes));
                    this.childrenHashes = [];

                    for (var i = hashes.length - 1; i >= 0; i--) {

                        var widget = widgetManager.widgets[hashes[i]],
                            data = this.resolveProp('props', undefined, false, false, false, { '$': i });

                        if (!widget) {
                            hashes.splice(i, 1);
                            continue;
                        }

                        Object.assign(widget.props, data);
                        widget.updateProps(Object.keys(data), this);
                    }

                    if (!this.childrenHashes.length) {
                        // only dynamic props updated
                        this.childrenHashes = hashes;
                    } else {
                        // widgets recreated

                        for (var _i = this.childrenHashes.length - 1; _i >= 0; _i--) {
                            var _widget = widgetManager.widgets[this.childrenHashes[_i]];
                            if (!_widget) {
                                this.childrenHashes.splice(_i, 1);
                                continue;
                            }
                            _widget.container.classList.add('not-editable');
                        }
                    }

                    return;

            }
        }
    }]);

    return Matrix;
}(_matrix_base);

Matrix.dynamicProps = Matrix.prototype.constructor.dynamicProps.concat('props');

module.exports = Matrix;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/matrices/matrix.js","/src/browser/js/app/widgets/matrices")
},{"../../managers/widgets":47,"../../parser":49,"./_matrix_base":75,"_process":25,"buffer":3,"timers":28}],78:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _matrix_base = require('./_matrix_base'),
    parser = require('../../parser'),
    widgetManager = require('../../managers/widgets');

module.exports = function (_matrix_base2) {
    _inherits(Multifader, _matrix_base2);

    _createClass(Multifader, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Multifader.__proto__ || Object.getPrototypeOf(Multifader), 'defaults', this).call(this, {

                _matrix: 'matrix',

                strips: { type: 'integer', value: 2, help: ['Number of faders in the row, each fader will inherit its parent\'s properties and the following ones (where i is the fader\'s index in the row)', '- `id`: same as the widget\'s with /i appended to it', '- `label`: i', '- `address`: see split'] },
                start: { type: 'integer', value: 0, help: 'First widget\'s index' },
                traversing: { type: 'boolean', value: true, help: 'Set to `false` to disable traversing gestures' },

                _fader: 'fader',

                range: { type: 'object', value: { min: 0, max: 1 }, help: 'See fader\'s `range`' },
                logScale: { type: 'boolean', value: false, help: 'See fader\'s `logScale`' },
                origin: { type: 'number', value: 'auto', help: 'See fader\'s `origin`' },
                unit: { type: 'string', value: 'auto', help: 'See fader\'s `unit`' },
                alignRight: { type: 'boolean', value: false, help: 'See fader\'s `alignRight`' },
                horizontal: { type: 'boolean', value: false, help: 'See fader\'s `horizontal`' },
                pips: { type: 'boolean', value: false, help: 'See fader\'s `pips`' },
                dashed: { type: 'boolean', value: false, help: 'See fader\'s `dashed`' },
                snap: { type: 'boolean', value: true, help: 'See fader\'s `snap`' },
                meter: { type: 'boolean', value: false, help: 'See fader\'s `meter`' },
                input: { type: 'boolean', value: true, help: 'See fader\'s `input`' },
                compact: { type: 'boolean', value: false, help: 'See fader\'s `compact`' }

            }, [], {

                split: { type: 'boolean|string', value: false, help: ['- `true`: the widget\'s index will be appended to the matrice\'s osc address', '- `false`: it will be prepended to the widget\'s preArgs', '- `string`: will be used to define the widgets\' addresses, replacing dollar signs (`$`) with their respective index (to insert the actual dollar sign, it must be escaped with a backslash (`\\$`))'] }

            });
        }
    }]);

    function Multifader(options) {
        _classCallCheck(this, Multifader);

        var _this = _possibleConstructorReturn(this, (Multifader.__proto__ || Object.getPrototypeOf(Multifader)).call(this, options));

        _this.strips = parseInt(_this.getProp('strips'));

        if (_this.getProp('horizontal')) {
            _this.widget.classList.add('horizontal');
        }

        if (_this.getProp('compact')) {
            _this.widget.classList.add('compact');
        }

        var strData = JSON.stringify(options.props);

        for (var i = _this.start; i < _this.strips + _this.start; i++) {

            var data = JSON.parse(strData);

            data.top = data.left = data.height = data.width = 'auto';
            data.type = 'fader';
            data.id = _this.getProp('id') + '/' + i;
            data.label = i;
            data.css = '';

            if (!_this.getProp('split')) {
                data.address = '@{parent.address}';
                data.preArgs = '#{concat(@{parent.preArgs},[' + i + '])}';
            } else if (typeof _this.getProp('split') === 'string' && _this.getProp('split')[0] === '/' && /[^\\]\$/.test(_this.getProp('split'))) {
                data.address = _this.getProp('split').replace(/([^\\])(\$)/g, '$1' + i).replace(/\\\$/g, '$');
                data.preArgs = '@{parent.preArgs}';
            } else if (_this.getProp('split')) {
                data.address = '@{parent.address}/' + i;
                data.preArgs = '@{parent.preArgs}';
            }

            var fader = parser.parse([data], _this.widget, _this);
            fader.container.classList.add('not-editable');

            _this.value[i - _this.start] = _this.getProp('range').min;
        }

        return _this;
    }

    _createClass(Multifader, [{
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Multifader.prototype.__proto__ || Object.getPrototypeOf(Multifader.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'color':
                    var _iteratorNormalCompletion = true;
                    var _didIteratorError = false;
                    var _iteratorError = undefined;

                    try {
                        for (var _iterator = this.childrenHashes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                            var h = _step.value;

                            if (widgetManager.widgets[h]) {
                                widgetManager.widgets[h].onPropChanged('color');
                            }
                        }
                    } catch (err) {
                        _didIteratorError = true;
                        _iteratorError = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion && _iterator.return) {
                                _iterator.return();
                            }
                        } finally {
                            if (_didIteratorError) {
                                throw _iteratorError;
                            }
                        }
                    }

                    return;

            }
        }
    }]);

    return Multifader;
}(_matrix_base);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/matrices/multifader.js","/src/browser/js/app/widgets/matrices")
},{"../../managers/widgets":47,"../../parser":49,"./_matrix_base":75,"_process":25,"buffer":3,"timers":28}],79:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _matrix_base = require('./_matrix_base'),
    parser = require('../../parser');

module.exports = function (_matrix_base2) {
    _inherits(Multipush, _matrix_base2);

    _createClass(Multipush, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Multipush.__proto__ || Object.getPrototypeOf(Multipush), 'defaults', this).call(this, {

                _matrix: 'matrix',

                matrix: { type: 'array', value: [2, 2], help: ['Defines the number of columns and and rows in the matrix. Each cell will contain a push button that will inherit its parent\'s properties and the following ones (where i is the push\'s index)', '- `id`: same as the widget\'s with /i appended to it', '- `label`: i', '- `address`: see split'] },
                start: { type: 'integer', value: 0, help: 'First widget\'s index' },
                traversing: { type: 'boolean', value: true, help: 'Set to `false` to disable traversing gestures' },
                spacing: { type: 'integer', value: 0, help: 'Adds space between widgets' },

                _push: 'push',

                on: { type: '*', value: 1, help: ['Set to `null` to send send no argument in the osc message', 'Can be an `object` if the type needs to be specified (see preArgs)'] },
                off: { type: '*', value: 0, help: ['Set to `null` to send send no argument in the osc message', 'Can be an `object` if the type needs to be specified (see preArgs)'] },
                norelease: { type: 'boolean', value: false, help: 'Set to `true` to prevent sending any osc message when releasing the button' }

            }, ['_value', 'default', 'value'], {

                split: { type: 'boolean|string', value: false, help: ['`true`: the widget\'s index will be appended to the matrice\'s osc address', '`false`: it will be prepended to the widget\'s preArgs', '`string`: will be used to define the widgets\' addresses, replacing dollar signs (`$`) with their respective index (to insert the actual dollar sign, it must be escaped with a backslash (`\\$`))'] }

            });
        }
    }]);

    function Multipush(options) {
        _classCallCheck(this, Multipush);

        var _this = _possibleConstructorReturn(this, (Multipush.__proto__ || Object.getPrototypeOf(Multipush)).call(this, options));

        _this.widget.style.setProperty('--columns', _this.getProp('matrix')[0]);
        _this.widget.style.setProperty('--rows', _this.getProp('matrix')[1]);
        _this.widget.style.setProperty('--spacing', _this.getProp('spacing') + 'rem');

        var strData = JSON.stringify(options.props);

        for (var i = _this.start; i < _this.getProp('matrix')[0] * _this.getProp('matrix')[1] + _this.start; i++) {

            var data = JSON.parse(strData);

            data.top = data.left = data.height = data.width = 'auto';
            data.type = 'push';
            data.id = _this.getProp('id') + '/' + i;
            data.label = i;
            data.css = '';

            if (!_this.getProp('split')) {
                data.address = '@{parent.address}';
                data.preArgs = '#{concat(@{parent.preArgs},[' + i + '])}';
            } else if (typeof _this.getProp('split') === 'string' && _this.getProp('split')[0] === '/' && /[^\\]\$/.test(_this.getProp('split'))) {
                data.address = _this.getProp('split').replace(/([^\\])(\$)/g, '$1' + i).replace(/\\\$/g, '$');
                data.preArgs = '@{parent.preArgs}';
            } else if (_this.getProp('split')) {
                data.address = '@{parent.address}/' + i;
                data.preArgs = '@{parent.preArgs}';
            }

            var push = parser.parse([data], _this.widget, _this);
            push.container.classList.add('not-editable');

            _this.value[i - _this.start] = _this.getProp('off');
        }

        return _this;
    }

    return Multipush;
}(_matrix_base);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/matrices/multipush.js","/src/browser/js/app/widgets/matrices")
},{"../../parser":49,"./_matrix_base":75,"_process":25,"buffer":3,"timers":28}],80:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _matrix_base = require('./_matrix_base'),
    parser = require('../../parser');

module.exports = function (_matrix_base2) {
    _inherits(Multitoggle, _matrix_base2);

    _createClass(Multitoggle, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Multitoggle.__proto__ || Object.getPrototypeOf(Multitoggle), 'defaults', this).call(this, {

                _matrix: 'matrix',

                matrix: { type: 'array', value: [2, 2], help: ['Defines the number of columns and and rows in the matrix. Each cell will contain a toggle button that will inherit its parent\'s properties and the following ones (where i is the toggle\'s index)', '- `id`: same as the widget\'s with /i appended to it', '- `label`: i', '- `address`: see split'] },
                start: { type: 'integer', value: 0, help: 'First widget\'s index' },
                spacing: { type: 'integer', value: 0, help: 'Adds space between widgets' },
                traversing: { type: 'boolean', value: true, help: 'Set to `false` to disable traversing gestures' },

                _toggle: 'toggle',

                led: { type: 'boolean', value: false, help: 'Set to `true` to display the toggle\'s state with a led' },
                on: { type: '*', value: 1, help: ['Set to `null` to send send no argument in the osc message', 'Can be an `object` if the type needs to be specified (see preArgs)'] },
                off: { type: '*', value: 0, help: ['Set to `null` to send send no argument in the osc message', 'Can be an `object` if the type needs to be specified (see `preArgs`)'] }

            }, [], {

                split: { type: 'boolean|string', value: false, help: ['`true`: the widget\'s index will be appended to the matrice\'s osc address', '`false`: it will be prepended to the widget\'s `preArgs`', '`string`: will be used to define the widgets\' addresses, replacing dollar signs (`$`) with their respective index (to insert the actual dollar sign, it must be escaped with a backslash (`\\$`))'] }

            });
        }
    }]);

    function Multitoggle(options) {
        _classCallCheck(this, Multitoggle);

        var _this = _possibleConstructorReturn(this, (Multitoggle.__proto__ || Object.getPrototypeOf(Multitoggle)).call(this, options));

        _this.widget.style.setProperty('--columns', _this.getProp('matrix')[0]);
        _this.widget.style.setProperty('--rows', _this.getProp('matrix')[1]);
        _this.widget.style.setProperty('--spacing', _this.getProp('spacing') + 'rem');

        var strData = JSON.stringify(options.props);

        for (var i = _this.start; i < _this.getProp('matrix')[0] * _this.getProp('matrix')[1] + _this.start; i++) {

            var data = JSON.parse(strData);

            data.top = data.left = data.height = data.width = 'auto';
            data.type = 'toggle';
            data.id = _this.getProp('id') + '/' + i;
            data.label = i;
            data.css = '';

            if (!_this.getProp('split')) {
                data.address = '@{parent.address}';
                data.preArgs = '#{concat(@{parent.preArgs},[' + i + '])}';
            } else if (typeof _this.getProp('split') === 'string' && _this.getProp('split')[0] === '/' && /[^\\]\$/.test(_this.getProp('split'))) {
                data.address = _this.getProp('split').replace(/([^\\])(\$)/g, '$1' + i).replace(/\\\$/g, '$');
                data.preArgs = '@{parent.preArgs}';
            } else if (_this.getProp('split')) {
                data.address = '@{parent.address}/' + i;
                data.preArgs = '@{parent.preArgs}';
            }

            var toggle = parser.parse([data], _this.widget, _this);
            toggle.container.classList.add('not-editable');

            _this.value[i - _this.start] = _this.getProp('off');
        }

        return _this;
    }

    return Multitoggle;
}(_matrix_base);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/matrices/multitoggle.js","/src/browser/js/app/widgets/matrices")
},{"../../parser":49,"./_matrix_base":75,"_process":25,"buffer":3,"timers":28}],81:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

module.exports = function (element, callback) {

    var lastTapTime = 0,
        lastTapX,
        lastTapY,
        touchId;

    element.addEventListener('fast-click', function (event) {

        var tapTime = new Date().getTime(),
            tapLength = tapTime - lastTapTime,
            eventData = event.detail;

        if (tapLength < DOUBLE_TAP_TIME && touchId == eventData.pointerId && Math.abs(lastTapX - eventData.pageX) < 20 && Math.abs(lastTapY - eventData.pageY) < 20) {

            callback();
            lastTapTime = 0;
        } else {

            lastTapTime = tapTime;
            touchId = eventData.pointerId;
            lastTapX = eventData.pageX;
            lastTapY = eventData.pageY;
        }
    });
};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/mixins/double_tap.js","/src/browser/js/app/widgets/mixins")
},{"_process":25,"buffer":3,"timers":28}],82:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

module.exports = function (self, options) {

    var sendTouchState = self.getProp('touchAddress') && self.getProp('touchAddress').length;

    self.touched = 0;
    self.setValueTouchedQueue = undefined;

    self.on('draginit', function (e) {
        self.touched += 1;
        if (self.touched == 1 && sendTouchState) self.sendValue({
            address: self.getProp('touchAddress'),
            v: 1,
            split: false
        });
    }, options);

    self.on('dragend', function (e) {
        if (self.touched == 1) {
            self.touched = 0;

            if (self.setValueTouchedQueue !== undefined) {
                self.setValue.apply(self, _toConsumableArray(self.setValueTouchedQueue));
                self.setValueTouchedQueue = undefined;
            }

            if (sendTouchState) {
                self.sendValue({
                    address: self.getProp('touchAddress'),
                    v: 0,
                    split: false
                });
            }
        } else if (self.touched > 1) {
            self.touched -= 1;
        }
    }, options);

    self.onRemove = function () {
        if (sendTouchState && self.touched > 0) {
            self.sendValue({
                address: self.getProp('touchAddress'),
                v: 0,
                split: false
            });
        }
        self.__proto__.onRemove.call(self);
    };
};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/mixins/touch_state.js","/src/browser/js/app/widgets/mixins")
},{"_process":25,"buffer":3,"timers":28}],83:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Fader = require('../sliders/fader');

module.exports = function (_Fader) {
    _inherits(_fake_fader, _Fader);

    function _fake_fader(options) {
        _classCallCheck(this, _fake_fader);

        var _this = _possibleConstructorReturn(this, (_fake_fader.__proto__ || Object.getPrototypeOf(_fake_fader)).call(this, options));

        if (arguments.cancelDraw) _this.noDraw = true;
        return _this;
    }

    _createClass(_fake_fader, [{
        key: 'sendValue',
        value: function sendValue() {
            // disabled
        }
    }]);

    return _fake_fader;
}(Fader);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/pads/_fake_fader.js","/src/browser/js/app/widgets/pads")
},{"../sliders/fader":101,"_process":25,"buffer":3,"timers":28}],84:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Pad = require('./pad'),
    Xy = require('./xy'),
    _require = require('../utils'),
    clip = _require.clip,
    touchstate = require('../mixins/touch_state');


var xyDefaults = Xy.defaults()._props();

module.exports = function (_Pad) {
    _inherits(MultiXy, _Pad);

    _createClass(MultiXy, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(MultiXy.__proto__ || Object.getPrototypeOf(MultiXy), 'defaults', this).call(this, {

                _mutlixy: 'multi xy',

                points: { type: 'integer|array', value: 2, help: ['Defines the number of points on the pad', 'Can be an array of strings that will be used as labels for the points (ex: `[\'A\', \'B\']`)'] },

                _xy: 'xy',

                pointSize: { type: 'integer', value: 20, help: 'Defines the points\' size' },
                snap: { type: 'boolean', value: false, help: ['By default, the points are dragged from their initial position.', 'If set to `true`, touching anywhere on the widget\'s surface will make them snap to the touching coordinates'] },
                spring: { type: 'boolean', value: false, help: 'When set to `true`, the widget will go back to its default value when released' },
                pips: { type: 'boolean', value: true, help: 'Set to `false` to hide the scale' },
                rangeX: { type: 'object', value: { min: 0, max: 1 }, help: 'Defines the min and max values for the x axis' },
                rangeY: { type: 'object', value: { min: 0, max: 1 }, help: 'Defines the min and max values for the y axis' },
                logScaleX: { type: 'boolean', value: false, help: 'Set to `true` to use logarithmic scale for the x axis (log10)' },
                logScaleY: { type: 'boolean', value: false, help: 'Set to `true` to use logarithmic scale for the y axis (log10)' }

            }, [], {

                touchAddress: { type: 'string', value: '', help: 'OSC address for touched state messages: `/touchAddress [preArgs] 0/1`' },
                split: { type: 'boolean|object', value: false, help: ['Set to `true` to send separate osc messages for each point\'s x and y axis. The address will be the same as the widget\'s with `/N/x` or `/N/y` appended to it, where N is the point\'s id (or the point\'s label if points is an array)', 'Can be set as an `object` to specify a different address : `[\'/0/x\', \'/0/y\', \'/1/x\', \'/2/y\']`', 'Note: the widget will only respond to its original osc address, not to the splitted version'] }
            });
        }
    }]);

    function MultiXy(options) {
        _classCallCheck(this, MultiXy);

        var _this = _possibleConstructorReturn(this, (MultiXy.__proto__ || Object.getPrototypeOf(MultiXy)).call(this, options));

        _this.npoints = _typeof(_this.getProp('points')) == 'object' ? _this.getProp('points').length : _this.getProp('points');
        _this.labels = _typeof(_this.getProp('points')) == 'object';
        _this.pointSize = parseInt(_this.getProp('pointSize'));

        _this.pads = [];

        for (var i = _this.npoints - 1; i >= 0; i--) {
            _this.pads[i] = new Xy({ props: _extends({}, xyDefaults, {
                    snap: _this.getProp('snap'),
                    spring: _this.getProp('spring'),
                    default: _this.getProp('default').length === _this.getProp('points') * 2 ? [_this.getProp('default')[i * 2], _this.getProp('default')[i * 2 + 1]] : '',
                    rangeX: _this.getProp('rangeX'),
                    rangeY: _this.getProp('rangeY'),
                    precision: _this.precision,
                    logScaleX: _this.getProp('logScaleX'),
                    logScaleY: _this.getProp('logScaleY'),
                    pointSize: _this.getProp('pointSize'),
                    pips: _this.getProp('pips') && i == _this.npoints - 1,
                    input: false
                }), parent: _this });
            _this.pads[i].sendValue = function () {};
            _this.wrapper.appendChild(_this.pads[i].widget);
        }

        _this.value = [];

        _this.padsCoords = [];
        _this.touchMap = {};

        touchstate(_this, { element: _this.wrapper, multitouch: true });

        _this.on('draginit', function (e) {

            var id;

            if (!_this.touchMap[e.pointerId]) {

                var ndiff,
                    diff = -1;

                for (var i in _this.pads) {

                    if (Object.values(_this.touchMap).indexOf(i) != -1) continue;

                    ndiff = Math.abs(e.offsetX - _this.padsCoords[i][0]) + Math.abs(e.offsetY - (_this.padsCoords[i][1] + _this.height));

                    if (diff == -1 || ndiff < diff) {
                        id = i;
                        diff = ndiff;
                    }
                }

                _this.touchMap[e.pointerId] = id;
            }

            if (!id) return;

            e.stopPropagation = true;

            _this.pads[id].trigger('draginit', [e]);
        }, { element: _this.wrapper, multitouch: true });

        _this.on('drag', function (e) {

            var i = _this.touchMap[e.pointerId];

            _this.pads[i].trigger('drag', [e]);
        }, { element: _this.wrapper[0], multitouch: true });

        _this.on('dragend', function (e) {

            var i = _this.touchMap[e.pointerId];

            e.stopPropagation = true;

            _this.pads[i].trigger('dragend', [e]);

            delete _this.touchMap[e.pointerId];
        }, { element: _this.wrapper, multitouch: true });

        _this.on('change', function (e) {
            if (e.widget == _this) return;
            e.stopPropagation = true;
            _this.setValue(_this.getValue(), e.options);
        });

        var v = [];
        for (var _i = 0; _i < _this.npoints * 2; _i = _i + 2) {
            var _this$pads$getValue = _this.pads[_i / 2].getValue();

            var _this$pads$getValue2 = _slicedToArray(_this$pads$getValue, 2);

            v[_i] = _this$pads$getValue2[0];
            v[_i + 1] = _this$pads$getValue2[1];
        }

        _this.setValue(v);

        return _this;
    }

    _createClass(MultiXy, [{
        key: 'resizeHandle',
        value: function resizeHandle() {

            _get(MultiXy.prototype.__proto__ || Object.getPrototypeOf(MultiXy.prototype), 'resizeHandle', this).apply(this, arguments);
            this.updateHandlesPosition();
        }
    }, {
        key: 'updateHandlesPosition',
        value: function updateHandlesPosition() {

            for (var i = 0; i < this.npoints; i++) {

                this.padsCoords[i] = [clip(this.pads[i].faders.x.percent, [0, 100]) / 100 * (this.width - (this.pointSize * 2 + 2) * PXSCALE) + (this.pointSize + 1) * PXSCALE, -clip(this.pads[i].faders.y.percent, [0, 100]) / 100 * (this.height - (this.pointSize * 2 + 2) * PXSCALE) - (this.pointSize + 1) * PXSCALE];
            }
        }
    }, {
        key: 'draw',
        value: function draw() {

            this.clear();

            for (var i = 0; i < this.npoints; i++) {
                var margin = (this.pointSize + 1) * PXSCALE,
                    x = clip(this.pads[i].faders.x.percent, [0, 100]) / 100 * (this.width - 2 * margin) + margin,
                    y = (100 - clip(this.pads[i].faders.y.percent, [0, 100])) / 100 * (this.height - 2 * margin) + margin,
                    t = (this.labels ? this.getProp('points')[i] : i) + '',
                    length = this.fontSize * t.length;

                this.ctx.globalAlpha = 1;
                this.ctx.fillStyle = this.colors.text;
                this.ctx.fillText(t, x + 0.5 * PXSCALE, y + 0.5 * PXSCALE);

                this.clearRect[i] = [x - length / 2, y - this.fontSize / 2, length, this.fontSize + 2 * PXSCALE];
            }
        }
    }, {
        key: 'getValue',
        value: function getValue() {

            var v = [];
            for (var i = 0; i < this.pads.length * 2; i = i + 2) {
                var _pads$getValue = this.pads[i / 2].getValue();

                var _pads$getValue2 = _slicedToArray(_pads$getValue, 2);

                v[i] = _pads$getValue2[0];
                v[i + 1] = _pads$getValue2[1];
            }
            return v;
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (!v || !v.length || v.length != this.npoints * 2) return;
            if (this.touched && !options.dragged) return this.setValueTouchedQueue = [v, options];

            for (var i = 0; i < this.npoints; i++) {
                if (!options.dragged) {
                    this.pads[i].setValue([v[i * 2], v[i * 2 + 1]]);
                }
            }

            this.updateHandlesPosition();
            this.batchDraw();

            for (var _i2 = 0; _i2 < this.npoints * 2; _i2 = _i2 + 2) {
                var _pads$getValue3 = this.pads[_i2 / 2].getValue();

                var _pads$getValue4 = _slicedToArray(_pads$getValue3, 2);

                this.value[_i2] = _pads$getValue4[0];
                this.value[_i2 + 1] = _pads$getValue4[1];
            }

            if (options.send) this.sendValue();
            if (options.sync) this.changed(options);
        }
    }, {
        key: 'getSplit',
        value: function getSplit() {
            var _this2 = this;

            return this.getProp('split') ? _typeof(this.getProp('split')) == 'object' && this.getProp('split').length == 2 * this.npoints ? this.getProp('split') : function () {
                var s = {},
                    t;
                for (var i = 0; i < _this2.npoints * 2; i = i + 2) {
                    t = _this2.labels ? _this2.getProp('points')[i / 2] : i / 2;
                    s[i] = _this2.getProp('address') + '/' + t + '/x';
                    s[i + 1] = _this2.getProp('address') + '/' + t + '/y';
                }
                return s;
            }() : false;
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(MultiXy.prototype.__proto__ || Object.getPrototypeOf(MultiXy.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'color':
                    var _iteratorNormalCompletion = true;
                    var _didIteratorError = false;
                    var _iteratorError = undefined;

                    try {
                        for (var _iterator = this.pads[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                            var w = _step.value;

                            w.onPropChanged('color');
                        }
                    } catch (err) {
                        _didIteratorError = true;
                        _iteratorError = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion && _iterator.return) {
                                _iterator.return();
                            }
                        } finally {
                            if (_didIteratorError) {
                                throw _iteratorError;
                            }
                        }
                    }

                    return;

            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            for (var i in this.pads) {
                this.pads[i].onRemove();
            }
            _get(MultiXy.prototype.__proto__ || Object.getPrototypeOf(MultiXy.prototype), 'onRemove', this).call(this);
        }
    }]);

    return MultiXy;
}(Pad);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/pads/multixy.js","/src/browser/js/app/widgets/pads")
},{"../mixins/touch_state":82,"../utils":108,"./pad":85,"./xy":87,"_process":25,"buffer":3,"timers":28}],85:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Canvas = require('../common/canvas');

module.exports = function (_Canvas) {
    _inherits(Pad, _Canvas);

    function Pad(options) {
        _classCallCheck(this, Pad);

        var html = '\n            <div class="pad">\n                <div class="wrapper">\n                    <canvas></canvas>\n                </div>\n            </div>\n        ';

        var _this = _possibleConstructorReturn(this, (Pad.__proto__ || Object.getPrototypeOf(Pad)).call(this, _extends({}, options, { html: html })));

        _this.wrapper = DOM.get(_this.widget, '.wrapper')[0];

        _this.pointSize = parseInt(_this.getProp('pointSize'));
        _this.widget.style.setProperty('--pointSize', _this.pointSize + 'rem');

        return _this;
    }

    return Pad;
}(Canvas);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/pads/pad.js","/src/browser/js/app/widgets/pads")
},{"../common/canvas":60,"_process":25,"buffer":3,"timers":28}],86:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Pad = require('./pad'),
    Xy = require('./xy'),
    Fader = require('./_fake_fader'),
    _require = require('../utils'),
    clip = _require.clip,
    hsbToRgb = _require.hsbToRgb,
    rgbToHsb = _require.rgbToHsb,
    Input = require('../inputs/input');


var faderDefaults = Fader.defaults()._props(),
    xyDefaults = Xy.defaults()._props();

module.exports = function (_Pad) {
    _inherits(Rgb, _Pad);

    _createClass(Rgb, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Rgb.__proto__ || Object.getPrototypeOf(Rgb), 'defaults', this).call(this, {

                _rgb: 'rgb',

                snap: { type: 'boolean', value: false, help: ['By default, the points are dragged from their initial position.', 'If set to `true`, touching anywhere on the widget\'s surface will make them snap to the touching coordinates'] },
                spring: { type: 'boolean', value: false, help: 'When set to `true`, the widget will go back to its default value when released' },
                range: { type: 'object', value: { min: 0, max: 255 }, help: 'Defines the widget\'s output scale.' },
                input: { type: 'boolean', value: true, help: 'Set to `false` to hide the built-in input widget' }

            }, ['color'], {

                split: { type: 'boolean|object', value: false, help: ['Set to `true` to send separate osc messages for for r and g & b. The address will be the same as the widget\'s with `/r`, `/g` or `/b` appended to it', 'Can be set as an `object` to specify a different address : `[\'/r\', \'/g\', \'b\']`', 'Note: the widget will only respond to its original osc address, not to the splitted version'] }
            });
        }
    }]);

    function Rgb(options) {
        _classCallCheck(this, Rgb);

        options.props.pointSize = 10;

        var _this = _possibleConstructorReturn(this, (Rgb.__proto__ || Object.getPrototypeOf(Rgb)).call(this, options));

        _this.hueWrapper = _this.widget.appendChild(DOM.create('<div class="hue-wrapper"></div>'));

        _this.hue = new Fader({ props: _extends({}, faderDefaults, {
                id: 'h',
                compact: true,
                pips: false,
                horizontal: true,
                snap: _this.getProp('snap'),
                range: { min: 0, max: 360 },
                input: false,
                precision: 2
            }), cancelDraw: false, parent: _this });
        _this.hue.margin = _this.pointSize;
        _this.hue.sendValue = function () {};
        _this.hueWrapper.appendChild(_this.hue.widget);

        _this.pad = new Xy({ props: _extends({}, xyDefaults, {
                snap: _this.getProp('snap'),
                spring: _this.getProp('spring'),
                rangeX: { min: 0, max: 100 },
                rangeY: { min: 0, max: 100 },
                precision: 2,
                pointSize: _this.getProp('pointSize'),
                pips: false,
                input: false
            }), parent: _this });
        _this.pad.sendValue = function () {};
        _this.wrapper.appendChild(_this.pad.widget);

        _this.value = [];
        _this.hsb = { h: 0, s: 0, b: 0 };

        _this.hue.on('change', function (e) {
            e.stopPropagation = true;
            _this.dragHandle(true);
        });

        _this.pad.on('change', function (e) {
            e.stopPropagation = true;
            _this.dragHandle();
        });

        if (_this.getProp('input')) {

            _this.input = new Input({
                props: _extends({}, Input.defaults()._props(), { precision: _this.getProp('precision'), unit: _this.getProp('unit') }),
                parent: _this, parentNode: _this.widget
            });
            _this.widget.appendChild(_this.input.widget);
            _this.input.on('change', function (e) {
                e.stopPropagation = true;
                _this.setValue(_this.input.getValue(), { sync: true, send: true });
                _this.showValue();
            });
        }

        _this.setValue([_this.getProp('range').min, _this.getProp('range').min, _this.getProp('range').min]);

        return _this;
    }

    _createClass(Rgb, [{
        key: 'dragHandle',
        value: function dragHandle(hue) {
            var h = this.hue.value,
                s = this.pad.value[0],
                b = this.pad.value[1];

            if (h != this.hsb.h || s != this.hsb.s || b != this.hsb.b) {

                this.hsb.h = this.hue.value;
                this.hsb.s = this.pad.value[0];
                this.hsb.b = this.pad.value[1];

                this.update({ nohue: !hue });

                var rgb = hsbToRgb(this.hsb),
                    _getProp = this.getProp('range'),
                    min = _getProp.min,
                    max = _getProp.max;


                if (min !== 0 || max !== 255) {
                    for (var k in rgb) {
                        rgb[k] = min + max * rgb[k] / 255;
                    }
                }

                if (rgb.r != this.value[0] || rgb.g != this.value[1] || rgb.b != this.value[2]) {
                    this.setValue([rgb.r, rgb.g, rgb.b], { send: true, sync: true, dragged: true, nohue: !hue });
                }
            }
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (!v || !v.length || v.length != 3) return;
            if (this.touched && !options.dragged) return this.setValueTouchedQueue = [v, options];

            for (var i in [0, 1, 2]) {
                v[i] = clip(v[i], [this.getProp('range').min, this.getProp('range').max]);
            }

            var rgb = { r: v[0], g: v[1], b: v[2] },
                _getProp2 = this.getProp('range'),
                min = _getProp2.min,
                max = _getProp2.max;


            if (min !== 0 || max !== 255) {
                for (var k in rgb) {
                    rgb[k] = (rgb[k] - min) * 255 / max;
                }
            }

            var hsb = rgbToHsb(rgb);

            if (!options.dragged) {
                this.pad.setValue([hsb.s, hsb.b], { sync: false, send: false, dragged: false });
            }

            this.hsb = hsb;
            this.value = v;

            if (options.send) this.sendValue();
            if (options.sync) this.changed(options);

            this.update({ dragged: options.dragged, nohue: options.nohue || v[0] == v[1] && v[1] == v[2] });
        }
    }, {
        key: 'update',
        value: function update() {
            var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};


            if (!options.nohue && !options.dragged) {
                var hue = hsbToRgb({ h: this.hsb.h, s: 100, b: 100 }),
                    hueStr = 'rgb(' + Math.round(hue.r) + ',' + Math.round(hue.g) + ',' + Math.round(hue.b) + ')';
                this.canvas.setAttribute('style', 'background-color:' + hueStr);
                this.hue.setValue(this.hsb.h, { sync: false, send: false, dragged: false });
            }

            this.showValue();
        }
    }, {
        key: 'draw',
        value: function draw() {}
    }, {
        key: 'showValue',
        value: function showValue() {

            if (this.getProp('input')) this.input.setValue(this.value);
        }
    }, {
        key: 'getSplit',
        value: function getSplit() {

            return this.getProp('split') ? _typeof(this.getProp('split')) == 'object' && this.getProp('split').length == 3 ? this.getProp('split') : [this.getProp('address') + '/r', this.getProp('address') + '/g', this.getProp('address') + '/b'] : false;
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Rgb.prototype.__proto__ || Object.getPrototypeOf(Rgb.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'color':
                    var _arr = [this.hue, this.pad];

                    for (var _i = 0; _i < _arr.length; _i++) {
                        var w = _arr[_i];
                        w.onPropChanged('color');
                    }
                    if (this.input) this.input.onPropChanged('color');
                    return;

            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            this.hue.onRemove();
            this.pad.onRemove();
            if (this.input) this.input.onRemove();
            _get(Rgb.prototype.__proto__ || Object.getPrototypeOf(Rgb.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Rgb;
}(Pad);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/pads/rgb.js","/src/browser/js/app/widgets/pads")
},{"../inputs/input":71,"../utils":108,"./_fake_fader":83,"./pad":85,"./xy":87,"_process":25,"buffer":3,"timers":28}],87:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Pad = require('./pad'),
    Fader = require('./_fake_fader'),
    doubletab = require('../mixins/double_tap'),
    Input = require('../inputs/input'),
    touchstate = require('../mixins/touch_state');

var faderDefaults = Fader.defaults()._props();

module.exports = function (_Pad) {
    _inherits(Xy, _Pad);

    _createClass(Xy, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Xy.__proto__ || Object.getPrototypeOf(Xy), 'defaults', this).call(this, {

                _xy: 'xy',

                pointSize: { type: 'integer', value: 20, help: 'Defines the points\' size' },
                snap: { type: 'boolean', value: false, help: ['By default, the points are dragged from their initial position.', 'If set to `true`, touching anywhere on the widget\'s surface will make them snap to the touching coordinates'] },
                spring: { type: 'boolean', value: false, help: 'When set to `true`, the widget will go back to its default value when released' },
                pips: { type: 'boolean', value: true, help: 'Set to `false` to hide the scale' },
                rangeX: { type: 'object', value: { min: 0, max: 1 }, help: 'Defines the min and max values for the x axis' },
                rangeY: { type: 'object', value: { min: 0, max: 1 }, help: 'Defines the min and max values for the y axis' },
                logScaleX: { type: 'boolean', value: false, help: 'Set to `true` to use logarithmic scale for the x axis (log10)' },
                logScaleY: { type: 'boolean', value: false, help: 'Set to `true` to use logarithmic scale for the y axis (log10)' },
                input: { type: 'boolean', value: true, help: 'Set to false to hide the built-in input widget' },
                doubleTap: { type: 'boolean|string', value: false, help: ['Set to `true` to make the fader reset to its default value when receiving a double tap.', 'Can also be an osc address, which case the widget will just send an osc message: `/<doubleTap> <preArgs>`'] }

            }, [], {

                touchAddress: { type: 'string', value: '', help: 'OSC address for touched state messages: `/touchAddress [preArgs] 0/1`)' },
                split: { type: 'boolean|object', value: false, help: ['Set to `true` to send separate osc messages for each point\'s x and y axis. The address will be the same as the widget\'s with `/x` or `/y` appended to it', 'Can be set as an `object` to specify a different address : [\'/osc_address_x\', \'/osc_address_y\']', 'Note: the widget will only respond to its original osc address, not to the splitted version'] }

            });
        }
    }]);

    function Xy(options) {
        _classCallCheck(this, Xy);

        var _this = _possibleConstructorReturn(this, (Xy.__proto__ || Object.getPrototypeOf(Xy)).call(this, options));

        _this.faders = {
            x: new Fader({ props: _extends({}, faderDefaults, {
                    id: 0,
                    compact: true,
                    pips: false,
                    horizontal: true,
                    height: '100%',
                    width: '100%',
                    default: _this.getProp('default').length === 2 ? _this.getProp('default')[0] : '',
                    snap: _this.getProp('snap'),
                    range: _this.getProp('rangeX'),
                    origin: 'auto',
                    precision: _this.precision,
                    logScale: _this.getProp('logScaleX'),
                    input: false
                }), cancelDraw: true, parent: _this }),
            y: new Fader({ props: _extends({}, faderDefaults, {
                    id: 1,
                    compact: true,
                    pips: false,
                    horizontal: false,
                    height: '100%',
                    width: '100%',
                    default: _this.getProp('default').length === 2 ? _this.getProp('default')[1] : '',
                    snap: _this.getProp('snap'),
                    range: _this.getProp('rangeY'),
                    origin: 'auto',
                    precision: _this.precision,
                    logScale: _this.getProp('logScaleY'),
                    input: false
                }), cancelDraw: true, parent: _this })
        };

        _this.faders.x.margin = _this.faders.y.margin = _this.pointSize + 1;

        _this.value = [_this.faders.x.value, _this.faders.y.value];

        _this.wrapper.appendChild(_this.faders.x.widget);
        _this.wrapper.appendChild(_this.faders.y.widget);

        _this.faders.x.on('change', function (e) {
            e.stopPropagation = true;
        });

        _this.faders.y.on('change', function (e) {
            e.stopPropagation = true;
        });

        touchstate(_this, { element: _this.wrapper });

        _this.on('draginit', function (e) {
            e.stopPropagation = true;
            _this.faders.x.trigger('draginit', [e]);
            _this.faders.y.trigger('draginit', [e]);
            _this.dragHandle();
        }, { element: _this.wrapper });

        _this.on('drag', function (e) {
            _this.faders.x.trigger('drag', [e]);
            _this.faders.y.trigger('drag', [e]);
            _this.dragHandle();
        }, { element: _this.wrapper });

        _this.on('dragend', function (e) {
            e.stopPropagation = true;
            _this.faders.x.trigger('dragend', [e]);
            _this.faders.y.trigger('dragend', [e]);
            if (_this.getProp('spring')) {
                _this.setValue([_this.faders.x.springValue, _this.faders.y.springValue], { sync: true, send: true });
            }
        }, { element: _this.wrapper });

        if (_this.getProp('doubleTap')) {

            if (typeof _this.getProp('doubleTap') === 'string' && _this.getProp('doubleTap')[0] === '/') {

                doubletab(_this.widget, function () {
                    _this.sendValue({ v: null, address: _this.getProp('doubleTap') });
                });
            } else {

                doubletab(_this.wrapper, function () {
                    _this.faders.x.setValue(_this.faders.x.springValue, { sync: false, send: false, dragged: true });
                    _this.faders.y.setValue(_this.faders.y.springValue, { sync: false, send: false, dragged: true });
                    _this.setValue([_this.faders.x.springValue, _this.faders.y.springValue], { sync: true, send: true });
                });
            }
        }

        if (_this.getProp('input')) {

            _this.input = new Input({
                props: _extends({}, Input.defaults()._props(), { precision: _this.getProp('precision'), unit: _this.getProp('unit') }),
                parent: _this, parentNode: _this.widget
            });
            _this.widget.appendChild(_this.input.widget);
            _this.input.on('change', function (e) {
                e.stopPropagation = true;
                _this.setValue(_this.input.getValue(), { sync: true, send: true });
                _this.showValue();
            });
        }

        _this.setValue([0, 0]);

        return _this;
    }

    _createClass(Xy, [{
        key: 'dragHandle',
        value: function dragHandle() {

            var x = this.faders.x.value,
                y = this.faders.y.value;

            if (x != this.value[0] || y != this.value[1]) {
                this.setValue([x, y], { send: true, sync: true, dragged: true });
            }
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (!v || !v.length || v.length != 2) return;
            if (this.touched && !options.dragged) return this.setValueTouchedQueue = [v, options];

            if (!options.dragged) {
                this.faders.x.setValue(v[0], { sync: false, send: false, dragged: false });
                this.faders.y.setValue(v[1], { sync: false, send: false, dragged: false });
            }

            this.value = [this.faders.x.value, this.faders.y.value];

            if (options.send) this.sendValue();
            if (options.sync) this.changed(options);

            this.batchDraw();

            this.showValue();
        }
    }, {
        key: 'draw',
        value: function draw() {

            var pointSize = this.pointSize * PXSCALE,
                margin = (this.pointSize + 1) * PXSCALE,
                x = this.faders.x.percentToCoord(this.faders.x.percent),
                y = this.faders.y.percentToCoord(this.faders.y.percent);

            this.clear();

            this.ctx.lineWidth = PXSCALE;
            this.ctx.fillStyle = this.colors.custom;
            this.ctx.strokeStyle = this.colors.custom;

            if (this.getProp('pips')) {
                this.ctx.globalAlpha = 0.1;
                this.ctx.beginPath();
                this.ctx.rect(margin + 0.5, margin + 0.5, this.width - margin * 2 - 1, this.height - margin * 2 - 1);
                this.ctx.stroke();

                this.ctx.beginPath();
                var _iteratorNormalCompletion = true;
                var _didIteratorError = false;
                var _iteratorError = undefined;

                try {
                    for (var _iterator = this.faders.x.rangeKeys.concat(this.faders.x.valueToPercent(this.faders.x.originValue))[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                        var pip = _step.value;

                        if (pip == 0 || pip == 100) continue;
                        var xpip = Math.round(2 * this.faders.x.percentToCoord(pip)) / 2;
                        this.ctx.moveTo(xpip, margin + 0.5);
                        this.ctx.lineTo(xpip, this.height - margin - 0.5);
                    }
                } catch (err) {
                    _didIteratorError = true;
                    _iteratorError = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion && _iterator.return) {
                            _iterator.return();
                        }
                    } finally {
                        if (_didIteratorError) {
                            throw _iteratorError;
                        }
                    }
                }

                var _iteratorNormalCompletion2 = true;
                var _didIteratorError2 = false;
                var _iteratorError2 = undefined;

                try {
                    for (var _iterator2 = this.faders.y.rangeKeys.concat(this.faders.y.valueToPercent(this.faders.y.originValue))[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                        pip = _step2.value;

                        if (pip == 0 || pip == 100) continue;
                        var ypip = Math.round(2 * this.faders.y.percentToCoord(pip)) / 2;
                        this.ctx.moveTo(margin + 0.5, ypip);
                        this.ctx.lineTo(this.width - margin - 0.5, ypip);
                    }
                } catch (err) {
                    _didIteratorError2 = true;
                    _iteratorError2 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion2 && _iterator2.return) {
                            _iterator2.return();
                        }
                    } finally {
                        if (_didIteratorError2) {
                            throw _iteratorError2;
                        }
                    }
                }

                this.ctx.stroke();
            } else {

                this.clearRect = [x - margin, y - margin, margin * 2, margin * 2];
            }

            this.ctx.globalAlpha = 0.7;

            this.ctx.beginPath();
            this.ctx.arc(x, y, pointSize, Math.PI * 2, false);
            this.ctx.stroke();

            this.ctx.globalAlpha = 1;
            this.ctx.lineWidth = 1.5 * PXSCALE;

            this.ctx.beginPath();
            this.ctx.arc(x, y, pointSize / 1.5, Math.PI * 2, false);
            this.ctx.stroke();
        }
    }, {
        key: 'showValue',
        value: function showValue() {

            if (this.getProp('input')) this.input.setValue(this.value);
        }
    }, {
        key: 'getSplit',
        value: function getSplit() {

            return this.getProp('split') ? _typeof(this.getProp('split')) == 'object' && this.getProp('split').length == 2 ? this.getProp('split') : [this.getProp('address') + '/x', this.getProp('address') + '/y'] : false;
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Xy.prototype.__proto__ || Object.getPrototypeOf(Xy.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'color':
                    var _arr = [this.faders.x, this.faders.y];

                    for (var _i = 0; _i < _arr.length; _i++) {
                        var w = _arr[_i];
                        w.onPropChanged('color');
                    }
                    if (this.input) this.input.onPropChanged('color');
                    return;

            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            this.faders.x.onRemove();
            this.faders.y.onRemove();
            if (this.input) this.input.onRemove();
            _get(Xy.prototype.__proto__ || Object.getPrototypeOf(Xy.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Xy;
}(Pad);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/pads/xy.js","/src/browser/js/app/widgets/pads")
},{"../inputs/input":71,"../mixins/double_tap":81,"../mixins/touch_state":82,"./_fake_fader":83,"./pad":85,"_process":25,"buffer":3,"timers":28}],88:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

//
// calcBiquad
//
// Dec 14, 2010 njr
// original @ Nigel Redmon

module.exports = function (options, linear, resolution) {
    var type = options.type,
        freq = options.freq,
        q = options.q,
        gain = options.gain,
        Fs = 44100,
        a0,
        a1,
        a2,
        b1,
        b2,
        norm,
        minVal,
        maxVal,
        len = resolution;


    var V = Math.pow(10, Math.abs(gain) / 20);
    var K = Math.tan(Math.PI * freq / Fs);
    switch (type) {
        case 'lowpass':
            norm = 1 / (1 + K / q + K * K);
            a0 = K * K * norm;
            a1 = 2 * a0;
            a2 = a0;
            b1 = 2 * (K * K - 1) * norm;
            b2 = (1 - K / q + K * K) * norm;
            break;

        case 'highpass':
            norm = 1 / (1 + K / q + K * K);
            a0 = 1 * norm;
            a1 = -2 * a0;
            a2 = a0;
            b1 = 2 * (K * K - 1) * norm;
            b2 = (1 - K / q + K * K) * norm;
            break;

        case 'bandpass':
            norm = 1 / (1 + K / q + K * K);
            a0 = K / q * norm;
            a1 = 0;
            a2 = -a0;
            b1 = 2 * (K * K - 1) * norm;
            b2 = (1 - K / q + K * K) * norm;
            break;

        case 'notch':
            norm = 1 / (1 + K / q + K * K);
            a0 = (1 + K * K) * norm;
            a1 = 2 * (K * K - 1) * norm;
            a2 = a0;
            b1 = a1;
            b2 = (1 - K / q + K * K) * norm;
            break;

        case 'peak':
            if (gain >= 0) {
                norm = 1 / (1 + 1 / q * K + K * K);
                a0 = (1 + V / q * K + K * K) * norm;
                a1 = 2 * (K * K - 1) * norm;
                a2 = (1 - V / q * K + K * K) * norm;
                b1 = a1;
                b2 = (1 - 1 / q * K + K * K) * norm;
            } else {
                norm = 1 / (1 + V / q * K + K * K);
                a0 = (1 + 1 / q * K + K * K) * norm;
                a1 = 2 * (K * K - 1) * norm;
                a2 = (1 - 1 / q * K + K * K) * norm;
                b1 = a1;
                b2 = (1 - V / q * K + K * K) * norm;
            }
            break;
        case 'lowshelf':
            if (gain >= 0) {
                norm = 1 / (1 + Math.SQRT2 * K + K * K);
                a0 = (1 + Math.sqrt(2 * V) * K + V * K * K) * norm;
                a1 = 2 * (V * K * K - 1) * norm;
                a2 = (1 - Math.sqrt(2 * V) * K + V * K * K) * norm;
                b1 = 2 * (K * K - 1) * norm;
                b2 = (1 - Math.SQRT2 * K + K * K) * norm;
            } else {
                norm = 1 / (1 + Math.sqrt(2 * V) * K + V * K * K);
                a0 = (1 + Math.SQRT2 * K + K * K) * norm;
                a1 = 2 * (K * K - 1) * norm;
                a2 = (1 - Math.SQRT2 * K + K * K) * norm;
                b1 = 2 * (V * K * K - 1) * norm;
                b2 = (1 - Math.sqrt(2 * V) * K + V * K * K) * norm;
            }
            break;
        case 'highshelf':
            if (gain >= 0) {
                norm = 1 / (1 + Math.SQRT2 * K + K * K);
                a0 = (V + Math.sqrt(2 * V) * K + K * K) * norm;
                a1 = 2 * (K * K - V) * norm;
                a2 = (V - Math.sqrt(2 * V) * K + K * K) * norm;
                b1 = 2 * (K * K - 1) * norm;
                b2 = (1 - Math.SQRT2 * K + K * K) * norm;
            } else {
                norm = 1 / (V + Math.sqrt(2 * V) * K + K * K);
                a0 = (1 + Math.SQRT2 * K + K * K) * norm;
                a1 = 2 * (K * K - 1) * norm;
                a2 = (1 - Math.SQRT2 * K + K * K) * norm;
                b1 = 2 * (K * K - V) * norm;
                b2 = (V - Math.sqrt(2 * V) * K + K * K) * norm;
            }
            break;
    }

    var magPlot = [];
    for (var i = 0; i < len; i++) {
        var w, phi, y;
        if (linear) w = i / (len - 1) * Math.PI; // 0 to pi, linear scale
        else w = Math.exp(Math.log(1 / 0.001) * i / (len - 1)) * 0.001 * Math.PI; // 0.001 to 1, times pi, log scale

        phi = Math.pow(Math.sin(w / 2), 2);

        y = Math.log(Math.pow(a0 + a1 + a2, 2) - 4 * (a0 * a1 + 4 * a0 * a2 + a1 * a2) * phi + 16 * a0 * a2 * phi * phi) - Math.log(Math.pow(1 + b1 + b2, 2) - 4 * (b1 + 4 * b2 + b1 * b2) * phi + 16 * b2 * phi * phi);
        y = y * 10 / Math.LN10;
        if (y == -Infinity) y = -200;

        if (linear) magPlot.push([i / (len - 1) * Fs / 2, y]);else magPlot.push([i / (len - 1) * Fs / 2, y]);

        if (i == 0) minVal = maxVal = y;else if (y < minVal) minVal = y;else if (y > maxVal) maxVal = y;
    }

    return magPlot;
};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/plots/_biquad_response.js","/src/browser/js/app/widgets/plots")
},{"_process":25,"buffer":3,"timers":28}],89:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _require = require('../utils'),
    mapToScale = _require.mapToScale,
    Canvas = require('../common/canvas');

module.exports = function (_Canvas) {
    _inherits(_plots_base, _Canvas);

    function _plots_base(options) {
        _classCallCheck(this, _plots_base);

        var html = '\n            <div class="plot">\n                <canvas></canvas>\n            </div>\n        ';

        var _this = _possibleConstructorReturn(this, (_plots_base.__proto__ || Object.getPrototypeOf(_plots_base)).call(this, _extends({}, options, { html: html })));

        _this.value = [];
        _this.rangeX = _this.getProp('rangeX') || { min: 0, max: 1 };
        _this.rangeY = _this.getProp('rangeY') || { min: 0, max: 1 };
        _this.logScaleX = _this.getProp('logScaleX');
        _this.logScaleY = _this.getProp('logScaleY');
        _this.pips = {
            x: {
                min: Math.abs(_this.rangeX.min) >= 1000 ? _this.rangeY.min / 1000 + 'k' : _this.rangeX.min,
                max: Math.abs(_this.rangeX.max) >= 1000 ? _this.rangeY.max / 1000 + 'k' : _this.rangeX.max
            },
            y: {
                min: Math.abs(_this.rangeY.min) >= 1000 ? _this.rangeY.min / 1000 + 'k' : _this.rangeY.min,
                max: Math.abs(_this.rangeY.max) >= 1000 ? _this.rangeY.max / 1000 + 'k' : _this.rangeY.max
            }
        };
        _this.smooth = _this.getProp('smooth') === true ? 0.25 : _this.getProp('smooth') === false ? 0 : parseFloat(_this.getProp('smooth')) || 0;

        return _this;
    }

    _createClass(_plots_base, [{
        key: 'resizeHandle',
        value: function resizeHandle() {

            this.updateData();
            _get(_plots_base.prototype.__proto__ || Object.getPrototypeOf(_plots_base.prototype), 'resizeHandle', this).apply(this, arguments);
        }
    }, {
        key: 'draw',
        value: function draw() {

            this.ctx.clearRect(0, 0, this.width, this.height);

            if (this.getProp('bars')) {
                this.draw_bars();
            } else {
                var points = this.draw_line();
                if (this.getProp('dots')) {
                    this.draw_dots(points);
                }
            }

            if (this.getProp('pips')) this.draw_pips();
        }
    }, {
        key: 'draw_pips',
        value: function draw_pips() {

            this.ctx.globalAlpha = 1;
            this.ctx.fillStyle = this.colors.text;

            if (this.pips.x) {

                this.ctx.textBaseline = 'bottom';
                this.ctx.textAlign = 'left';
                this.ctx.fillText(this.pips.x.min, (this.pips.y ? 12 : 2) * PXSCALE, this.height);
                this.ctx.textAlign = 'right';
                this.ctx.fillText(this.pips.x.max, this.width - 2 * PXSCALE, this.height);
            }

            if (this.pips.y) {

                this.ctx.save();
                this.ctx.translate(0, this.height);
                this.ctx.rotate(-Math.PI / 2);

                this.ctx.textBaseline = 'top';
                this.ctx.textAlign = 'left';
                this.ctx.fillText(this.pips.y.min, (this.pips.x ? 12 : 2) * PXSCALE, 2 * PXSCALE);
                this.ctx.textAlign = 'right';
                this.ctx.fillText(this.pips.y.max, this.height - 2 * PXSCALE, 2 * PXSCALE);
                this.ctx.rotate(Math.PI / 2);
                this.ctx.restore();
            }
        }
    }, {
        key: 'draw_line',
        value: function draw_line() {

            var points = [];

            for (var i in this.value) {

                if (this.value[i].length) {
                    points.push(mapToScale(this.value[i][0], [this.rangeX.min, this.rangeX.max], [0, this.width], 0, this.logScaleX, true));
                    points.push(mapToScale(this.value[i][1], [this.rangeY.min, this.rangeY.max], [this.height - 2 * PXSCALE, 2 * PXSCALE], 0, this.logScaleY, true));
                } else {
                    points.push(mapToScale(i, [0, this.value.length - 1], [0, this.width], 0, this.logScaleX, true));
                    points.push(mapToScale(this.value[i], [this.rangeY.min, this.rangeY.max], [this.height - 2 * PXSCALE, 2 * PXSCALE], 0, this.logScaleY, true));
                }
            }

            if (points.length < 4) return points;

            this.ctx.beginPath();

            this.ctx.curve(points, this.smooth, Math.round(this.width / (points.length / 2 - 1)));

            this.ctx.globalAlpha = 0.7;
            this.ctx.lineWidth = 2 * PXSCALE;
            this.ctx.strokeStyle = this.colors.custom;
            this.ctx.stroke();

            if (this.getProp('origin') !== false) {

                var origin = mapToScale(this.getProp('origin') || this.rangeY.min, [this.rangeY.min, this.rangeY.max], [this.height, 0], 0, this.getProp('logScaleY'), true);

                this.ctx.globalAlpha = 0.1;
                this.ctx.fillStyle = this.colors.custom;
                this.ctx.lineTo(this.width, origin);
                this.ctx.lineTo(0, origin);
                this.ctx.closePath();
                this.ctx.fill();
            }

            return points;
        }
    }, {
        key: 'draw_dots',
        value: function draw_dots(points) {

            this.ctx.globalAlpha = 1;
            this.ctx.fillStyle = this.colors.custom;
            this.ctx.strokeStyle = this.colors.track;
            this.ctx.lineWidth = 2 * PXSCALE;
            for (var i = 0; i < points.length; i += 2) {
                this.ctx.beginPath();
                this.ctx.arc(points[i], points[i + 1], 4 * PXSCALE, 0, 2 * Math.PI);
                this.ctx.fill();
                this.ctx.stroke();
            }
        }
    }, {
        key: 'draw_bars',
        value: function draw_bars() {

            var barWidth = Math.round(this.width / this.value.length),
                offset = Math.round((this.width - barWidth * this.value.length) / 2);

            var origin = mapToScale(this.getProp('origin') || this.rangeY.min, [this.rangeY.min, this.rangeY.max], [this.height, 0], 0, this.getProp('logScaleY'), true);

            this.ctx.beginPath();

            for (var i in this.value) {
                var y = mapToScale(this.value[i].length ? this.value[i][1] : this.value[i], [this.rangeY.min, this.rangeY.max], [this.height - 2 * PXSCALE, 2 * PXSCALE], 0, this.logScaleY, true);
                this.ctx.rect(offset + i * barWidth, Math.min(y, origin), barWidth - PXSCALE, Math.abs(Math.min(y - origin)));
            }

            this.ctx.globalAlpha = 0.4;
            this.ctx.fillStyle = this.colors.custom;
            this.ctx.fill();
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (typeof v == 'string') {
                try {
                    v = JSON.parseFlex(v);
                } catch (err) {}
            }

            if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) == 'object' && v !== null) {

                if (Array.isArray(v)) {

                    this.value = v;
                } else {

                    for (var i in v) {
                        if (!isNaN(i)) this.value[i] = v[i];
                    }
                }

                this.batchDraw();

                if (options.sync) this.changed(options);
            }
        }
    }, {
        key: 'updateData',
        value: function updateData() {

            // update the coordinates to draw

        }
    }]);

    return _plots_base;
}(Canvas);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/plots/_plots_base.js","/src/browser/js/app/widgets/plots")
},{"../common/canvas":60,"../utils":108,"_process":25,"buffer":3,"timers":28}],90:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _require = require('../utils'),
    clip = _require.clip,
    _biquad_response = require('./_biquad_response'),
    _plots_base = require('./_plots_base');

module.exports = function (_plots_base2) {
    _inherits(Eq, _plots_base2);

    _createClass(Eq, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Eq.__proto__ || Object.getPrototypeOf(Eq), 'defaults', this).call(this, {

                _eq: 'eq',

                pips: { type: 'boolean', value: true, help: 'Set to false to hide the scale' },
                resolution: { type: 'number', value: 128, help: 'Defines the number of points used to compute the frequency response' },
                rangeY: { type: 'object', value: { min: 0, max: 1 }, help: 'Defines the min and max values for the y axis' },
                origin: { type: 'number|boolean', value: 'auto', help: 'Defines the y axis origin. Set to `false` to disable it' },
                logScaleX: { type: 'boolean', value: false, help: 'Set to `true` to use logarithmic scale for the x axis (log10)' },
                smooth: { type: 'boolean|number', value: false, help: 'Set to `true` to make the line smooth. Float values are also acceptable (works fine between `0` and `0.5`)' }

            }, ['target', 'precision', 'bypass'], {});
        }
    }]);

    function Eq(options) {
        _classCallCheck(this, Eq);

        // backward compat
        if (options.props.filters && options.props.filters.length) {
            options.props.value = options.props.filters;
            delete options.props.filters;
        }

        var _this = _possibleConstructorReturn(this, (Eq.__proto__ || Object.getPrototypeOf(Eq)).call(this, options));

        _this.rangeX = { min: 20, max: 22050 };
        _this.pips.x.min = '20';
        _this.pips.x.max = '22k';

        _this.resolution = clip(_this.getProp('resolution'), [64, 1024]);

        return _this;
    }

    _createClass(Eq, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (typeof v == 'string') {
                try {
                    v = JSON.parseFlex(v);
                } catch (err) {}
            }

            if (Array.isArray(v)) {

                var filters = v,
                    eqResponse = [];

                if (v.length === this.resolution) {

                    eqResponse = v;
                } else {

                    for (var i in filters) {

                        var filterResponse;

                        if (!filters[i].type) filters[i].type = 'peak';

                        if (!filters[i].on) {
                            filterResponse = _biquad_response({ type: 'peak', freq: 1, gain: 0, q: 1 }, !this.getProp('logScaleX'), this.resolution);
                        } else {
                            filterResponse = _biquad_response(filters[i], !this.getProp('logScaleX'), this.resolution);
                        }

                        for (var k in filterResponse) {
                            if (eqResponse[k] === undefined) {
                                eqResponse[k] = [0, 0];
                            }

                            eqResponse[k] = [filterResponse[k][0], eqResponse[k][1] + filterResponse[k][1]];
                        }
                    }
                }

                if (eqResponse.length) _get(Eq.prototype.__proto__ || Object.getPrototypeOf(Eq.prototype), 'setValue', this).call(this, eqResponse, options);
            }
        }
    }]);

    return Eq;
}(_plots_base);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/plots/eq.js","/src/browser/js/app/widgets/plots")
},{"../utils":108,"./_biquad_response":88,"./_plots_base":89,"_process":25,"buffer":3,"timers":28}],91:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    locales = require('../../locales'),
    localUrlRe = /(^127\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$)|(^10\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$)|(^172\.1[6-9]{1}[0-9]{0,1}\.[0-9]{1,3}\.[0-9]{1,3}$)|(^172\.2[0-9]{1}[0-9]{0,1}\.[0-9]{1,3}\.[0-9]{1,3}$)|(^172\.3[0-1]{1}[0-9]{0,1}\.[0-9]{1,3}\.[0-9]{1,3}$)|(^192\.168\.[0-9]{1,3}\.[0-9]{1,3}$)/;

var Frame = function (_Widget) {
    _inherits(Frame, _Widget);

    _createClass(Frame, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Frame.__proto__ || Object.getPrototypeOf(Frame), 'defaults', this).call(this, {

                _frame: 'frame',

                border: { type: 'boolean', value: true, help: 'Set to `false` to disable the borders and background-color' }

            }, ['color', 'target', 'precision', 'bypass'], {});
        }
    }]);

    function Frame(options) {
        _classCallCheck(this, Frame);

        var _this = _possibleConstructorReturn(this, (Frame.__proto__ || Object.getPrototypeOf(Frame)).call(this, _extends({}, options, { html: '<div class="frame"><iframe src=""></iframe></div>' })));

        if (!_this.getProp('border')) _this.container.classList.add('noborder');

        _this.frame = DOM.get(_this.widget, 'iframe')[0];
        _this.errorText = DOM.create('<span>' + locales('iframe_unauthorized') + '<span>');
        _this.errorTextMounted = false;

        return _this;
    }

    _createClass(Frame, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            this.value = v;

            var parser = document.createElement('a');
            parser.href = this.value;

            if (parser.hostname.match(localUrlRe)) {
                this.frame.setAttribute('src', this.value);
                this.widget.classList.remove('error');
                if (this.errorTextMounted) {
                    this.widget.removeChild(this.errorText);
                    this.errorTextMounted = false;
                }
            } else {
                this.frame.setAttribute('src', '');
                this.widget.classList.add('error');
                this.widget.appendChild(this.errorText);
                this.errorTextMounted = true;
            }

            if (options.sync) this.changed(options);
        }
    }]);

    return Frame;
}(Widget);

module.exports = Frame;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/plots/frame.js","/src/browser/js/app/widgets/plots")
},{"../../locales":44,"../common/widget":62,"_process":25,"buffer":3,"timers":28}],92:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    ipc = require('../../ipc');

module.exports = function (_Widget) {
    _inherits(Led, _Widget);

    _createClass(Led, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Led.__proto__ || Object.getPrototypeOf(Led), 'defaults', this).call(this, {

                _image: 'image',

                size: { type: 'string', value: 'cover', help: 'CSS background-size' },
                position: { type: 'string', value: 'center', help: 'CSS background-position' },
                repeat: { type: 'string', value: 'no-repear', help: 'CSS background-repeat' },
                border: { type: 'boolean', value: true, help: 'Set to `false` to disable the borders and background-color' },
                cache: { type: 'boolean', value: true, help: ['Set to false to disable image caching (forces file reload when updating or editing the widget).', 'When true, sending `reload` to the widget reloads its image without changing its value'] }

            }, ['color', 'target', 'precision', 'bypass'], {

                value: { type: 'string', value: '', help: ['- File `url` or `absolute path`', '- Base64 encoded image : `data:image/...`'] }

            });
        }
    }]);

    function Led(options) {
        _classCallCheck(this, Led);

        var html = '\n            <div class="image"></div>\n        ';

        var _this = _possibleConstructorReturn(this, (Led.__proto__ || Object.getPrototypeOf(Led)).call(this, _extends({}, options, { html: html })));

        if (!_this.getProp('border')) _this.container.classList.add('noborder');

        _this.widget.style.setProperty('background-size', _this.getProp('size'));
        _this.widget.style.setProperty('background-position', _this.getProp('position'));
        _this.widget.style.setProperty('background-repeat', _this.getProp('repeat'));

        if (_this.getProp('stream') !== '') {
            _this.bindedOnStreamUpdate = _this.onStreamUpdate.bind(_this);
            ipc.on('video', _this.bindedOnStreamUpdate);
        }

        return _this;
    }

    _createClass(Led, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            var s = v == null ? '' : '' + v,
                cache_query = '';

            if (!s.length) {

                this.value = this.getProp('value');
            } else if (s != 'reload') {

                if (s.length > 1) this.value = s;
            }

            if (typeof this.value === 'string' && this.value.length) {

                cache_query = this.getProp('cache') || this.value.indexOf('base64') != -1 ? '' : (this.value.indexOf('?') != -1 ? '&' : '?') + Date.now();
            }

            this.widget.style.setProperty('background-image', 'url(' + this.value + cache_query + ')');

            if (options.sync) this.changed(options);
        }
    }, {
        key: 'onStreamUpdate',
        value: function onStreamUpdate(event) {
            var _event = _slicedToArray(event, 2),
                stream = _event[0],
                data = _event[1];

            if (stream === this.getProp('stream')) {
                this.setValue('data:image/jpeg;base64,' + data);
            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {

            if (this.bindedOnStreamUpdate) ipc.off('video', this.bindedOnStreamUpdate);
            _get(Led.prototype.__proto__ || Object.getPrototypeOf(Led.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Led;
}(Widget);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/plots/image.js","/src/browser/js/app/widgets/plots")
},{"../../ipc":41,"../common/widget":62,"_process":25,"buffer":3,"timers":28}],93:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _require = require('../utils'),
    mapToScale = _require.mapToScale,
    Widget = require('../common/widget');

module.exports = function (_Widget) {
    _inherits(Led, _Widget);

    _createClass(Led, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Led.__proto__ || Object.getPrototypeOf(Led), 'defaults', this).call(this, {

                _led: 'led',

                range: { type: 'object', value: { min: 0, max: 1 }, help: 'Value to led intensity mapping range' },
                logScale: { type: 'boolean', value: false, help: 'Set to `true` to use a logarithmic mapping scale)' }

            }, ['target', 'precision', 'bypass'], {});
        }
    }]);

    function Led(options) {
        _classCallCheck(this, Led);

        // backward compat
        if (options.props.widgetId) {
            options.props.value = '@{' + options.props.widgetId + '}';
            delete options.props.widgetId;
        }

        var html = '\n            <div class="led">\n            </div>\n        ';

        var _this = _possibleConstructorReturn(this, (Led.__proto__ || Object.getPrototypeOf(Led)).call(this, _extends({}, options, { html: html })));

        _this.setValue(_this.getProp('range').min);

        return _this;
    }

    _createClass(Led, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (typeof v != 'number') return;

            this.value = v;
            this.widget.style.setProperty('--opacity', mapToScale(v, [this.getProp('range').min, this.getProp('range').max], [0, 1], false, this.getProp('logScale'), true));

            if (options.sync) this.changed(options);
        }
    }]);

    return Led;
}(Widget);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/plots/led.js","/src/browser/js/app/widgets/plots")
},{"../common/widget":62,"../utils":108,"_process":25,"buffer":3,"timers":28}],94:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Fader = require('../sliders/fader');

module.exports = function (_Fader) {
    _inherits(Meter, _Fader);

    _createClass(Meter, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Meter.__proto__ || Object.getPrototypeOf(Meter), 'defaults', this).call(this, {

                _meter: 'meter',

                range: { type: 'object', value: { min: 0, max: 1 }, help: 'See fader\'s `range`' },
                logScale: { type: 'boolean', value: false, help: 'See fader\'s `logScale`' },
                origin: { type: 'number', value: 'auto', help: 'See fader\'s `origin`' },
                unit: { type: 'string', value: 'auto', help: 'See fader\'s `unit`' },
                alignRight: { type: 'boolean', value: false, help: 'See fader\'s `alignRight`' },
                horizontal: { type: 'boolean', value: false, help: 'See fader\'s `horizontal`' },
                pips: { type: 'boolean', value: false, help: 'See fader\'s `pips`' },
                dashed: { type: 'boolean', value: false, help: 'See fader\'s `dashed`' },
                gradient: { type: 'array', value: [], help: 'When set, the meter\'s gauge will be filled with a linear color gradient : each item must be a CSS color string. Example: `[\'blue\', \'red\']`' }

            }, ['target', 'precision', 'bypass'], {

                css: { type: 'string', value: '', help: ['Available CSS variables:', '- `--color-gauge: color;`', '- `--color-knob: color;`', '- `--color-pips: color;`', '- `--gauge-opacity: number;`'] }

            });
        }
    }]);

    function Meter(options) {
        _classCallCheck(this, Meter);

        // backward compat
        if (options.props.widgetId) {
            options.props.value = '@{' + options.props.widgetId + '}';
            delete options.props.widgetId;
        }
        options.props.compact = true;
        options.props.input = false;

        var _this = _possibleConstructorReturn(this, (Meter.__proto__ || Object.getPrototypeOf(Meter)).call(this, options));

        _this.widget.classList.add('meter');

        _this.off(/drag(.*)?/);

        return _this;
    }

    _createClass(Meter, [{
        key: 'sendValue',
        value: function sendValue() {
            // disabled
        }
    }]);

    return Meter;
}(Fader);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/plots/meter.js","/src/browser/js/app/widgets/plots")
},{"../sliders/fader":101,"_process":25,"buffer":3,"timers":28}],95:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _plots_base = require('./_plots_base');

module.exports = function (_plots_base2) {
    _inherits(Plot, _plots_base2);

    _createClass(Plot, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Plot.__proto__ || Object.getPrototypeOf(Plot), 'defaults', this).call(this, {

                _plot: 'plot',

                rangeX: { type: 'object', value: { min: 0, max: 1 }, help: 'Defines the min and max values for the x axis' },
                rangeY: { type: 'object', value: { min: 0, max: 1 }, help: 'Defines the min and max values for the y axis' },
                logScaleX: { type: 'boolean', value: false, help: 'Set to `true` to use logarithmic scale for the x axis (log10)' },
                logScaleY: { type: 'boolean', value: false, help: 'Set to `true` to use logarithmic scale for the y axis (log10)' },
                origin: { type: 'number', value: 'auto', help: 'Defines the y axis origin. Set to `false` to disable it.' },
                dots: { type: 'boolean', value: true, help: '' },
                bars: { type: 'boolean', value: false, help: 'Set to `true` to use draw bars instead (disables `logScaleX` and forces `x axis` even spacing)' },
                smooth: { type: 'boolean|number', value: false, help: 'Set to `true` to make the line smooth. Float values are also acceptable (works fine between `0` and `0.5`)' },
                pips: { type: 'boolean', value: true, help: 'Set to `false` to hide the scale' }

            }, ['target', 'precision', 'bypass'], {

                value: { type: 'array|string', help: ['- `Array` of `y` values', '- `Array` of `[x, y]` `array` values', '- `String` `array`', '- `String` `object` to update specific coordinates only: `{0:1, 4:0}` will change the 1st and 5th points\' coordinates'] }

            });
        }
    }]);

    function Plot(options) {
        _classCallCheck(this, Plot);

        // backward compat
        if (options.props.points && options.props.points.length) {
            options.props.value = options.props.points;
            delete options.props.points;
        }

        return _possibleConstructorReturn(this, (Plot.__proto__ || Object.getPrototypeOf(Plot)).call(this, options));
    }

    return Plot;
}(_plots_base);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/plots/plot.js","/src/browser/js/app/widgets/plots")
},{"./_plots_base":89,"_process":25,"buffer":3,"timers":28}],96:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    _require = require('../utils'),
    clip = _require.clip;


module.exports = function (_Widget) {
    _inherits(Rbgled, _Widget);

    _createClass(Rbgled, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Rbgled.__proto__ || Object.getPrototypeOf(Rbgled), 'defaults', this).call(this, {}, ['color', 'target', 'precision', 'bypass'], {

                value: { type: 'array|string', help: ['- `Array`: `[r, g, b]` (`r`, `g` and `b` between `0` and `255`)', '- `Array`: `[r, g, b, alpha]` (`alpha` between `0` and `255`)', '- `String`: CSS color'] }

            });
        }
    }]);

    function Rbgled(options) {
        _classCallCheck(this, Rbgled);

        // backward compat
        if (options.props.widgetId) {
            options.props.value = '@{' + options.props.widgetId + '}';
            delete options.props.widgetId;
        }

        var html = '\n            <div class="led">\n            </div>\n        ';

        var _this = _possibleConstructorReturn(this, (Rbgled.__proto__ || Object.getPrototypeOf(Rbgled)).call(this, _extends({}, options, { html: html })));

        _this.setValue([0, 0, 0, 0]);

        return _this;
    }

    _createClass(Rbgled, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            var c = '';

            if (Array.isArray(v) && v.length >= 3) {

                for (var i in [0, 1, 2]) {
                    v[i] = parseInt(clip(v[i], [0, 255]));
                }

                v[3] = clip(v[3] != undefined ? v[3] : 1, [0, 1]);

                c = 'rgba(' + v[0] + ', ' + v[1] + ', ' + v[2] + ', ' + v[3] + ')';
            } else if (typeof v == 'string') {

                c = v;
            } else {

                return;
            }

            this.value = v;

            this.widget.style.setProperty('--color-led', c);

            if (options.sync) this.changed(options);
        }
    }]);

    return Rbgled;
}(Widget);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/plots/rgbled.js","/src/browser/js/app/widgets/plots")
},{"../common/widget":62,"../utils":108,"_process":25,"buffer":3,"timers":28}],97:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    morph = require('nanomorph');

var Svg = function (_Widget) {
    _inherits(Svg, _Widget);

    _createClass(Svg, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Svg.__proto__ || Object.getPrototypeOf(Svg), 'defaults', this).call(this, {

                _svg: 'svg',

                svg: { type: 'string', value: '', help: ['Svg xml definition:', '- will be wrapped in a `<svg></svg>` element', '- `<path>` commands support a special percent notation (`%x` and `%y`)'] }

            }, ['color', 'target', 'precision', 'bypass'], {});
        }
    }]);

    function Svg(options) {
        _classCallCheck(this, Svg);

        var html = '\n            <div class="svg">\n                <svg></svg>\n            </div>\n        ';

        var _this = _possibleConstructorReturn(this, (Svg.__proto__ || Object.getPrototypeOf(Svg)).call(this, _extends({}, options, { html: html })));

        _this.height = undefined;
        _this.width = undefined;

        _this.on('resize', _this.resizeHandleProxy.bind(_this), { element: _this.widget });

        return _this;
    }

    _createClass(Svg, [{
        key: 'updateSvg',
        value: function updateSvg() {
            var _this2 = this;

            if (!this.width || !this.height) return;

            var svg = this.getProp('svg');

            svg = svg.replace(/<\/svg>/gi, 'x');
            svg = svg.replace(/([0-9.]+%x)/gi, function (m) {
                return (parseFloat(m) * _this2.width / 100).toFixed(2);
            });
            svg = svg.replace(/([0-9.]+%y)/gi, function (m) {
                return (parseFloat(m) * _this2.height / 100).toFixed(2);
            });

            morph(this.widget, DOM.create('<div class="svg"><svg>' + svg + '</svg></div>'));
        }
    }, {
        key: 'resizeHandleProxy',
        value: function resizeHandleProxy() {

            this.resizeHandle.apply(this, arguments);
        }
    }, {
        key: 'resizeHandle',
        value: function resizeHandle(event) {
            var width = event.width,
                height = event.height;


            this.height = height;
            this.width = width;

            this.updateSvg();
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Svg.prototype.__proto__ || Object.getPrototypeOf(Svg.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'svg':
                    this.updateSvg();
                    return;

            }
        }
    }]);

    return Svg;
}(Widget);

Svg.dynamicProps = Svg.prototype.constructor.dynamicProps.concat('svg');

module.exports = Svg;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/plots/svg.js","/src/browser/js/app/widgets/plots")
},{"../common/widget":62,"_process":25,"buffer":3,"nanomorph":22,"timers":28}],98:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _require = require('../../ui/utils'),
    iconify = _require.iconify,
    Widget = require('../common/widget');

module.exports = function (_Widget) {
    _inherits(Text, _Widget);

    _createClass(Text, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Text.__proto__ || Object.getPrototypeOf(Text), 'defaults', this).call(this, {

                _text: 'text',

                vertical: { type: 'boolean', value: false, help: 'Set to `true` to display the text vertically' },
                wrap: { type: 'boolean', value: false, help: ['Set to `true` to wrap long lines automatically.', 'This will not break overflowing words by default, word-breaking can be enabled by adding `word-break: break-all;` to the `css` property'] },
                align: { type: 'string', value: '', help: 'Set to `left` or `right` to change text alignment (otherwise center)' }

            }, ['color', 'target', 'precision', 'bypass'], {});
        }
    }]);

    function Text(options) {
        _classCallCheck(this, Text);

        // backward compat
        if (options.props.widgetId) {
            options.props.value = '@{' + options.props.widgetId + '}';
            delete options.props.widgetId;
        }

        var _this = _possibleConstructorReturn(this, (Text.__proto__ || Object.getPrototypeOf(Text)).call(this, _extends({}, options, { html: '<div class="text"></div>' })));

        if (_this.getProp('vertical')) _this.widget.classList.add('vertical');
        if (_this.getProp('align') === 'left') _this.widget.classList.add('left');
        if (_this.getProp('align') === 'right') _this.widget.classList.add('right');
        if (_this.getProp('wrap')) _this.widget.classList.add('wrap');

        _this.defaultValue = _this.getProp('default') || (_this.getProp('label') === false ? _this.getProp('id') : _this.getProp('label') == 'auto' ? _this.getProp('id') : _this.getProp('label'));

        _this.value = _this.defaultValue;

        _this.setValue(_this.value);

        return _this;
    }

    _createClass(Text, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            this.value = v == null ? this.defaultValue : v;
            this.widget.innerHTML = iconify(String(this.value).replace(/\n/g, '<br/>'));

            if (options.sync) this.changed(options);
        }
    }]);

    return Text;
}(Widget);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/plots/text.js","/src/browser/js/app/widgets/plots")
},{"../../ui/utils":54,"../common/widget":62,"_process":25,"buffer":3,"timers":28}],99:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _require = require('../utils'),
    clip = _require.clip,
    _plots_base = require('./_plots_base');

module.exports = function (_plots_base2) {
    _inherits(Visualizer, _plots_base2);

    _createClass(Visualizer, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Visualizer.__proto__ || Object.getPrototypeOf(Visualizer), 'defaults', this).call(this, {

                _visualizer: 'visualizer',

                duration: { type: 'number', value: 1, help: 'Defines visualization duration in seconds' },
                range: { type: 'object', value: { min: 0, max: 1 }, help: 'Defines the min and max values for the y axis' },
                origin: { type: 'number', value: 'auto', help: 'Defines the y axis origin. Set to `false` to disable it' },
                logScale: { type: 'boolean', value: false, help: 'Set to `true` to use logarithmic scale for the y axis' },
                smooth: { type: 'boolean|number', value: false, help: 'Set to `true` to make the line smooth. Float values are also acceptable (works fine between `0` and `0.5`)' },
                pips: { type: 'boolean', value: true, help: 'Set to `false` to hide the scale' }

            }, ['target', 'precision', 'bypass'], {});
        }
    }]);

    function Visualizer(options) {
        _classCallCheck(this, Visualizer);

        // backward compat
        if (options.props.widgetId) {
            options.props.value = '@{' + options.props.widgetId + '}';
            delete options.props.widgetId;
        }

        var _this = _possibleConstructorReturn(this, (Visualizer.__proto__ || Object.getPrototypeOf(Visualizer)).call(this, options));

        _this.fps = CANVAS_FRAMERATE;
        _this.pips.y.min = Math.abs(_this.getProp('range').min) >= 1000 ? _this.getProp('range').min / 1000 + 'k' : _this.getProp('range').min;
        _this.pips.y.max = Math.abs(_this.getProp('range').max) >= 1000 ? _this.getProp('range').max / 1000 + 'k' : _this.getProp('range').max;
        _this.pips.x = false;
        _this.rangeY = _this.getProp('range') || { min: 0, max: 1 };
        _this.logScaleY = _this.getProp('logScale');
        _this.length = Math.round(clip(_this.fps * _this.getProp('duration'), [8, 4096]));
        _this.value = new Array(_this.length).fill(_this.rangeY.min);
        _this.cancel = false;
        _this.looping = false;
        _this.clock = 0;
        _this.lastUpdate = 0;
        _this.watchDuration = 1000 * _this.getProp('duration');
        _this.ticks = 0;

        return _this;
    }

    _createClass(Visualizer, [{
        key: 'startLoop',
        value: function startLoop() {

            this.clock = new Date().getTime();
            if (!this.looping) {
                this.lastUpdate = new Date().getTime();
                this.looping = true;
                this.ticks = 0;
                this.loop();
            }
        }
    }, {
        key: 'loop',
        value: function loop() {
            var _this2 = this;

            var t = new Date().getTime();

            if (t - this.clock >= this.watchDuration) {
                this.looping = false;
            }

            this.ticks += (t - this.lastUpdate) / (1000 / this.fps);

            if (Math.floor(this.ticks) > 0) {
                this.shiftData(Math.floor(this.ticks));
                this.ticks -= Math.floor(this.ticks);
                this.batchDraw();
            }

            this.lastUpdate = t;

            if (!this.looping) return;

            setTimeout(function () {
                _this2.loop();
            }, 1000 / this.fps);
        }
    }, {
        key: 'shiftData',
        value: function shiftData(n) {

            for (var i = 0; i < n; i++) {
                this.value.push(this.value[this.length - 1]);
                this.value.splice(0, 1);
            }
        }
    }, {
        key: 'getValue',
        value: function getValue() {

            return this.value[this.length - 1];
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (Array.isArray(v) && v.length == this.length) {

                this.value = v;
                this.startLoop();

                if (options.sync) this.changed(options);
            } else if (typeof v == 'number') {

                this.value[this.length - 1] = v;
                this.startLoop();

                if (options.sync) this.changed(options);
            }
        }
    }]);

    return Visualizer;
}(_plots_base);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/plots/visualizer.js","/src/browser/js/app/widgets/plots")
},{"../utils":108,"./_plots_base":89,"_process":25,"buffer":3,"timers":28}],100:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _require = require('../utils'),
    clip = _require.clip,
    Knob = require('./knob'),
    Widget = require('../common/widget'),
    doubletab = require('../mixins/double_tap');

var EncoderKnob = function (_Knob) {
    _inherits(EncoderKnob, _Knob);

    function EncoderKnob() {
        _classCallCheck(this, EncoderKnob);

        return _possibleConstructorReturn(this, (EncoderKnob.__proto__ || Object.getPrototypeOf(EncoderKnob)).apply(this, arguments));
    }

    _createClass(EncoderKnob, [{
        key: 'draginitHandle',
        value: function draginitHandle(e) {

            this.percent = clip(this.percent, [0, 100]);

            this.lastOffsetX = e.offsetX;
            this.lastOffsetY = e.offsetY;

            if (!(e.traversing || this.getProp('snap'))) return;

            this.percent = this.angleToPercent(this.coordsToAngle(e.offsetX, e.offsetY));

            this.setValue(this.percentToValue(this.percent), { send: true, sync: true, dragged: true, draginit: !e.traversing });
        }
    }, {
        key: 'mousewheelHandle',
        value: function mousewheelHandle() {}
    }]);

    return EncoderKnob;
}(Knob);
var DisplayKnob = function (_Knob2) {
    _inherits(DisplayKnob, _Knob2);

    function DisplayKnob() {
        _classCallCheck(this, DisplayKnob);

        return _possibleConstructorReturn(this, (DisplayKnob.__proto__ || Object.getPrototypeOf(DisplayKnob)).apply(this, arguments));
    }

    return DisplayKnob;
}(Knob);

module.exports = function (_Widget) {
    _inherits(Encoder, _Widget);

    _createClass(Encoder, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Encoder.__proto__ || Object.getPrototypeOf(Encoder), 'defaults', this).call(this, {

                _encoder: 'encoder',

                ticks: { type: 'number', value: 'auto', help: 'defines the granularity / verbosity of the encoder (number of step for a 360° arc)' },
                back: { type: '*', value: -1, help: 'Defines which value is sent when rotating the encoder anticlockwise' },
                forth: { type: '*', value: 1, help: 'Defines which value is sent when rotating the encoder clockwise' },
                release: { type: 'number', value: 'auto', help: ['Defines which value is sent when releasing the encoder:', '- Set to `null` to send send no argument in the osc message', '- Can be an `object` if the type needs to be specified'] },
                snap: { type: 'boolean', value: false, help: 'By default, dragging the widget will modify it\'s value starting from its last value. Setting this to `true` will make it snap directly to the mouse/touch position' },
                doubleTap: { type: 'boolean', value: false, help: ['Set to `true` to make the fader reset to its `default` value when receiving a double tap.', 'Can also be an osc address, in which case the widget will just send an osc message (`/<doubleTap> <preArgs>`)'] }

            }, [], {

                touchAddress: { type: 'string', value: '', help: 'OSC address for touched state messages: `/touchAddress [preArgs] 0/1`' }

            });
        }
    }]);

    function Encoder(options) {
        _classCallCheck(this, Encoder);

        var html = '\n            <div class="encoder">\n                <div class="wrapper">\n                </div>\n            </div>\n        ';

        var _this3 = _possibleConstructorReturn(this, (Encoder.__proto__ || Object.getPrototypeOf(Encoder)).call(this, _extends({}, options, { html: html })));

        _this3.wrapper = DOM.get(_this3.widget, '.wrapper')[0];
        _this3.ticks = Math.abs(parseInt(_this3.getProp('ticks')));

        _this3.knob = new EncoderKnob({ props: {
                label: false,
                angle: 360,
                snap: true,
                range: { min: 0, max: _this3.ticks },
                pips: false
            }, parent: _this3 });

        _this3.knob.noDraw = true;

        _this3.display = new DisplayKnob({ props: {
                label: false,
                angle: 360,
                range: { min: 0, max: _this3.ticks },
                origin: _this3.ticks / 2,
                pips: false
            }, parent: _this3 });

        _this3.knob.widget.classList.add('drag-knob');
        _this3.display.widget.classList.add('display-knob');

        _this3.wrapper.appendChild(_this3.knob.widget);
        _this3.wrapper.appendChild(_this3.display.widget);

        _this3.knob.setValue(_this3.ticks / 2);
        _this3.display.setValue(_this3.ticks / 2);

        _this3.previousValue = _this3.ticks / 2;

        _this3.on('change', function (e) {

            if (e.widget == _this3) return;

            e.stopPropagation = true;

            var value = _this3.knob.getValue();

            var direction;

            if (value < _this3.previousValue) direction = _this3.getProp('back');
            if (value > _this3.previousValue) direction = _this3.getProp('forth');

            if (_this3.ticks * .75 < value && value < _this3.ticks && 0 < _this3.previousValue && _this3.previousValue < _this3.ticks / 4) direction = _this3.getProp('back');
            if (0 < value && value < _this3.ticks / 4 && _this3.ticks * .75 < _this3.previousValue && _this3.previousValue < _this3.ticks) direction = _this3.getProp('forth');

            if (direction && Math.round(value) != Math.round(_this3.previousValue)) _this3.setValue(direction, { sync: true, send: true, dragged: e.options.dragged, draginit: e.options.draginit });
            _this3.previousValue = value;
        });

        _this3.knob.on('draginit', function (e) {
            if (_this3.getProp('touchAddress') && _this3.getProp('touchAddress').length && e.target == _this3.wrapper) _this3.sendValue({
                address: _this3.getProp('touchAddress'),
                v: 1
            });
        });

        _this3.knob.on('dragend', function (e) {
            if (_this3.getProp('release') !== '' && _this3.value !== _this3.getProp('release')) {
                _this3.knob.setValue(_this3.ticks / 2);
                _this3.display.setValue(_this3.ticks / 2);
                _this3.setValue(_this3.getProp('release'), { sync: true, send: true, dragged: false });
            }
            if (_this3.getProp('touchAddress') && _this3.getProp('touchAddress').length && e.target == _this3.wrapper) {
                _this3.sendValue({
                    address: _this3.getProp('touchAddress'),
                    v: 0
                });
            }
        });

        if (_this3.getProp('doubleTap')) {

            doubletab(_this3.wrapper, function () {
                _this3.knob.setValue(_this3.ticks / 2);
                _this3.display.setValue(_this3.ticks / 2);
                if (_this3.getProp('release') !== '' && _this3.value !== _this3.getProp('release')) {
                    _this3.setValue(_this3.getProp('release'), { sync: true, send: true, dragged: false });
                }
            });
        }

        _this3.wrapper.addEventListener('mousewheel', function (e) {

            if (e.wheelDeltaX || e.wheelDelta == 0) return;

            var direction = e.wheelDelta / Math.abs(e.wheelDelta);

            _this3.display.setValue(_this3.display.value + direction);
            _this3.setValue(direction < 0 ? _this3.getProp('back') : _this3.getProp('forth'), { sync: true, send: true });

            if (_this3.getProp('release') !== '' && _this3.value !== _this3.getProp('release')) {
                _this3.knob.setValue(_this3.ticks / 2);
                _this3.display.setValue(_this3.ticks / 2);
                _this3.setValue(_this3.getProp('release'), { sync: true, send: true, dragged: false });
            }
        });

        return _this3;
    }

    _createClass(Encoder, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (this.getProp('snap') || !this.getProp('snap') && !options.draginit) {

                var match = true;

                if (v === this.getProp('back')) {
                    this.value = this.getProp('back');
                } else if (v === this.getProp('forth')) {
                    this.value = this.getProp('forth');
                } else if (v === this.getProp('release') && this.getProp('release') !== '') {
                    this.value = this.getProp('release');
                } else {
                    match = false;
                }
            }

            if (options.sync && match) this.changed(options);
            if (options.send && match && !(!this.getProp('snap') && options.draginit)) this.sendValue();

            if (options.dragged || options.draginit) this.updateDisplay(options.draginit);
        }
    }, {
        key: 'updateDisplay',
        value: function updateDisplay(init) {

            if (this.getProp('snap')) {
                this.display.setValue(this.knob.value);
                return;
            }

            if (init) {

                this.offset = this.knob.value - this.display.value;
            } else {

                var v = this.knob.value - this.offset,
                    updateOffset;

                if (v > this.ticks) {

                    v = this.ticks - v;
                    updateOffset = true;
                } else if (v < 0) {

                    v = v + this.ticks;
                    updateOffset = true;
                }

                this.display.setValue(v);

                if (updateOffset) {
                    this.offset = this.knob.value - this.display.value;
                }
            }

            if (this.offset > this.ticks) this.offset = this.ticks - this.offset;
            if (this.offset < 0) this.offset = this.offset + this.ticks;
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Encoder.prototype.__proto__ || Object.getPrototypeOf(Encoder.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'color':
                    var _arr = [this.knob, this.display];

                    for (var _i = 0; _i < _arr.length; _i++) {
                        var w = _arr[_i];
                        w.onPropChanged('color');
                    }
                    return;

            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            this.knob.onRemove();
            this.display.onRemove();
            _get(Encoder.prototype.__proto__ || Object.getPrototypeOf(Encoder.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Encoder;
}(Widget);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/sliders/encoder.js","/src/browser/js/app/widgets/sliders")
},{"../common/widget":62,"../mixins/double_tap":81,"../utils":108,"./knob":102,"_process":25,"buffer":3,"timers":28}],101:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _require = require('../utils'),
    clip = _require.clip,
    Slider = require('./slider'),
    parser = require('../../parser');

module.exports = function (_Slider) {
    _inherits(Fader, _Slider);

    _createClass(Fader, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Fader.__proto__ || Object.getPrototypeOf(Fader), 'defaults', this).call(this, {

                _fader: 'fader',

                horizontal: { type: 'boolean', value: false, help: 'Set to `true` to display the fader horizontally' },
                alignRight: { type: 'boolean', value: false, help: 'Set to `true` to invert the pip\'s and fader\'s position' },
                pips: { type: 'boolean', value: true, help: 'Set to `false` to hide the scale' },
                input: { type: 'boolean', value: true, help: 'Set to `false` to hide the built-in input' },
                meter: { type: 'boolean', value: false, help: ['Set to true to display a vu-meter next in the fader', '- the meter\'s `id` will be the same as the widget\'s with `/meter` appended to it', '- the meter\'s `id` will be the same as the widget\'s with `/meter` appended to it'] },
                compact: { type: 'boolean', value: false, help: 'Set to `true` to display a compact alternative for the widget. Disables default mouse/touch focusing on the value display.' },
                dashed: { type: 'boolean', value: false, help: 'Set to `true` to display a dashed gauge' },
                snap: { type: 'boolean', value: false, help: 'By default, dragging the widget will modify it\'s value starting from its last value. Setting this to `true` will make it snap directly to the mouse/touch position' },
                spring: { type: 'boolean', value: false, help: 'When set to `true`, the widget will go back to its `default` value when released' },
                doubleTap: { type: 'boolean', value: false, help: ['Set to `true` to make the fader reset to its `default` value when receiving a double tap.', 'Can also be an osc address, in which case the widget will just send an osc message (`/<doubleTap> <preArgs>`)'] },
                range: { type: 'object', value: { min: 0, max: 1 }, help: ['Defines the breakpoints of the fader\'s scale:', '- keys can be percentages and/or `min` / `max`', '- values can be `number` or `object` if a custom label is needed', 'Example: (`{min:{"-inf": 0}, "50%": 0.25, max: {"+inf": 1}}`)'] },
                logScale: { type: 'boolean', value: false, help: 'Set to `true` to use logarithmic scale for the y axis' },
                unit: { type: 'string', value: '', help: 'Unit will be appended to the displayed widget\'s value (it doesn\'t affect osc messages)' },
                origin: { type: 'number', value: 'auto', help: 'Defines the starting point\'s value of the fader\'s gauge' }

            }, [], {

                touchAddress: { type: 'string', value: '', help: 'OSC address for touched state messages: `/touchAddress [preArgs] 0/1`' },
                meterAddress: { type: 'string', value: '', help: 'OSC address for the built-in meter' },
                css: { type: 'string', value: '', help: ['Available CSS variables:', '- `--color-gauge: color;`', '- `--color-knob: color;`', '- `--color-pips: color;`', '- `--gauge-opacity: number;`'] }
            });
        }
    }]);

    function Fader(options) {
        _classCallCheck(this, Fader);

        var _this = _possibleConstructorReturn(this, (Fader.__proto__ || Object.getPrototypeOf(Fader)).call(this, options));

        _this.widget.classList.add('fader');
        _this.margin = 22;

        if (_this.getProp('horizontal')) {
            _this.widget.classList.add('horizontal');
            _this.container.classList.add('horizontal');
        }

        if (_this.getProp('compact')) {
            _this.widget.classList.add('compact');
            _this.margin = 0;
            if (_this.getProp('input')) {
                _this.widget.addEventListener('fast-right-click', function (e) {
                    if (e.detail.button == 2 && !EDITING) {
                        // Mouse only
                        _this.input.focus();
                    }
                });
            }
        }

        if (_this.getProp('alignRight') && !_this.getProp('horizontal')) {
            _this.widget.classList.add('align-right');
        }

        if (_this.getProp('meter')) {
            var data = {
                type: 'meter',
                id: _this.getProp('id') + '/meter',
                label: false,
                horizontal: _this.getProp('horizontal'),
                range: _this.getProp('range'),
                logScale: _this.getProp('logScale'),
                address: _this.getProp('meterAddress') || _this.getProp('address') + '/meter',
                preArgs: _this.getProp('preArgs'),
                color: _this.getProp('color'),
                pips: false,
                dashed: true
            };
            var meter = parser.parse([data], _this.wrapper, _this);
            meter.container.classList.add('not-editable');

            _this.widget.classList.add('has-meter');
        }

        if (_this.getProp('pips')) {

            _this.widget.classList.add('has-pips');

            var pips = _this.wrapper.appendChild(DOM.create('<div class="pips"></div>'));
            var pipTexts = {};
            for (var k in _this.rangeKeys) {
                pipTexts[_this.rangeKeys[k]] = _this.rangeLabels[k];
            }

            var pipsInner = '';
            for (var i = 0; i <= 100; i++) {
                if (pipTexts[i] == undefined) continue;

                var pos = _this.getProp('horizontal') ? 'left' : 'bottom';

                var piptext = '<span>' + (Math.abs(pipTexts[i]) >= 1000 ? pipTexts[i] / 1000 + 'k' : pipTexts[i]) + '</span>';

                var add = '\n                <div class="pip val" style="' + pos + ':' + i + '%">' + piptext + '</div>\n                ';
                pipsInner = pipsInner + add;
            }
            pips.innerHTML = pipsInner;
        }

        return _this;
    }

    _createClass(Fader, [{
        key: 'draginitHandle',
        value: function draginitHandle(e) {

            _get(Fader.prototype.__proto__ || Object.getPrototypeOf(Fader.prototype), 'draginitHandle', this).apply(this, arguments);

            this.percent = clip(this.percent, [0, 100]);

            if (!(e.traversing || this.getProp('snap')) || e.ctrlKey) return;

            this.percent = this.getProp('horizontal') ? (e.offsetX - this.margin * PXSCALE) / (this.width - this.margin * PXSCALE * 2) * 100 : (this.height - e.offsetY - this.margin * PXSCALE) / (this.height - this.margin * PXSCALE * 2) * 100;

            // this.percent = clip(this.percent,[0,100])

            this.setValue(this.percentToValue(this.percent), { send: true, sync: true, dragged: true });
        }
    }, {
        key: 'dragHandle',
        value: function dragHandle(e, data) {

            _get(Fader.prototype.__proto__ || Object.getPrototypeOf(Fader.prototype), 'dragHandle', this).apply(this, arguments);

            this.percent = this.getProp('horizontal') ? this.percent + e.movementX / (this.width - this.margin * PXSCALE * 2) * 100 / e.inertia : this.percent + -e.movementY / (this.height - this.margin * PXSCALE * 2) * 100 / e.inertia;

            this.setValue(this.percentToValue(this.percent), { send: true, sync: true, dragged: true });
        }
    }, {
        key: 'percentToCoord',
        value: function percentToCoord(percent) {

            if (this.getProp('horizontal')) {
                return clip(percent / 100, [0, 1]) * (this.width - 2 * PXSCALE * this.margin) + this.margin * PXSCALE;
            } else {
                return this.height - this.margin * PXSCALE - clip(percent / 100, [0, 1]) * (this.height - 2 * PXSCALE * this.margin);
            }
        }
    }, {
        key: 'resizeHandle',
        value: function resizeHandle(event) {

            var ratio = CANVAS_SCALING * this.scaling;

            if (this.getProp('compact') && this.getProp('horizontal')) {
                event.height = 1 / ratio;
            }

            _get(Fader.prototype.__proto__ || Object.getPrototypeOf(Fader.prototype), 'resizeHandle', this).call(this, event);

            if (this.getProp('horizontal')) {
                this.ctx.setTransform(1, 0, 0, 1, 0, 0);
                this.ctx.rotate(-Math.PI / 2);
                this.ctx.translate(-this.height * ratio, 0);

                if (ratio != 1) this.ctx.scale(ratio, ratio);
            }

            if (this.getProp('gradient')) {
                var colors = this.getProp('gradient');
                if (Array.isArray(colors) && colors.length > 1) {
                    try {
                        var grad = this.ctx.createLinearGradient(0, this.getProp('horizontal') ? 0 : this.height, 0, this.getProp('horizontal') ? this.width : 0);
                        for (var i in colors) {
                            grad.addColorStop(i / (colors.length - 1), colors[i]);
                        }
                        this.colors.gradient = grad;
                    } catch (err) {
                        this.errors.gradient = err;
                    }
                }
            }
        }
    }, {
        key: 'draw',
        value: function draw() {

            var width = this.getProp('horizontal') ? this.height : this.width,
                height = !this.getProp('horizontal') ? this.height : this.width;

            var d = Math.round(this.percentToCoord(this.percent)),
                o = Math.round(this.percentToCoord(this.valueToPercent(this.originValue))),
                m = Math.round(this.getProp('horizontal') ? this.height / 2 : this.width / 2);

            var dashed = this.getProp('dashed');

            this.clear();

            if (this.getProp('compact')) {

                this.ctx.globalAlpha = this.colors.gaugeOpacity || (dashed ? .3 : .2) + 0.2 * Math.abs(d - o) / (d < o ? o : height - o);

                this.ctx.strokeStyle = this.colors.gradient || this.colors.gauge;
                this.ctx.beginPath();
                this.ctx.moveTo(m, o);
                this.ctx.lineTo(m, d);
                this.ctx.lineWidth = width + 2 * PXSCALE;
                if (dashed) this.ctx.setLineDash([PXSCALE, PXSCALE]);
                this.ctx.stroke();
                if (dashed) this.ctx.setLineDash([]);

                this.ctx.globalAlpha = 1;
                this.ctx.beginPath();
                this.ctx.fillStyle = this.colors.knob;
                this.ctx.rect(0, Math.min(d, height - PXSCALE), width, PXSCALE);
                this.ctx.fill();

                this.clearRect = [0, 0, width, height];
            } else {

                this.ctx.lineWidth = 6 * PXSCALE;

                this.ctx.beginPath();
                this.ctx.globalAlpha = 1;
                this.ctx.strokeStyle = this.colors.light;
                this.ctx.moveTo(m, this.margin * PXSCALE - 2 * PXSCALE);
                this.ctx.lineTo(m, height - this.margin * PXSCALE + 2 * PXSCALE);
                this.ctx.stroke();

                this.ctx.lineWidth = 4 * PXSCALE;

                this.ctx.beginPath();
                this.ctx.globalAlpha = 1;
                this.ctx.strokeStyle = this.colors.bg;
                this.ctx.moveTo(m, this.margin * PXSCALE - 1 * PXSCALE);
                this.ctx.lineTo(m, height - this.margin * PXSCALE + 1 * PXSCALE);
                this.ctx.stroke();

                this.ctx.lineWidth = 2 * PXSCALE;

                this.ctx.beginPath();
                this.ctx.strokeStyle = this.colors.track;
                this.ctx.moveTo(m, this.margin * PXSCALE);
                this.ctx.lineTo(m, height - this.margin * PXSCALE);
                this.ctx.stroke();

                this.ctx.beginPath();
                this.ctx.globalAlpha = 0.7;
                this.ctx.strokeStyle = this.colors.gauge;
                this.ctx.moveTo(m, o);
                this.ctx.lineTo(m, d);
                if (dashed) this.ctx.setLineDash([PXSCALE, PXSCALE]);
                this.ctx.stroke();
                if (dashed) this.ctx.setLineDash([]);

                this.ctx.globalAlpha = 1;

                this.ctx.beginPath();
                this.ctx.rect(m - 9 * PXSCALE, d - 15 * PXSCALE, 18 * PXSCALE, 30 * PXSCALE);
                this.ctx.lineWidth = PXSCALE;
                this.ctx.fillStyle = this.colors.bg;
                this.ctx.fill();

                this.ctx.beginPath();
                this.ctx.rect(m - 8 * PXSCALE, d - 14 * PXSCALE, 16 * PXSCALE, 28 * PXSCALE);
                this.ctx.fillStyle = this.colors.raised;
                this.ctx.fill();
                this.ctx.lineWidth = PXSCALE;

                this.ctx.beginPath();
                this.ctx.rect(m - 7.5 * PXSCALE, d - 13.5 * PXSCALE, 15 * PXSCALE, 27 * PXSCALE);
                this.ctx.lineWidth = PXSCALE;
                this.ctx.strokeStyle = this.colors.light;
                this.ctx.stroke();

                this.ctx.beginPath();
                this.ctx.rect(m - 8 * PXSCALE, d - 14 * PXSCALE, 16 * PXSCALE, PXSCALE);
                this.ctx.lineWidth = PXSCALE;
                this.ctx.fillStyle = this.colors.light;
                this.ctx.fill();

                this.ctx.beginPath();
                this.ctx.rect(m - 4 * PXSCALE, d, 8 * PXSCALE, PXSCALE);
                this.ctx.fillStyle = this.colors.knob;
                this.ctx.fill();

                this.clearRect = [width / 2 - 11 * PXSCALE, 0, 22 * PXSCALE, height];
            }
        }
    }]);

    return Fader;
}(Slider);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/sliders/fader.js","/src/browser/js/app/widgets/sliders")
},{"../../parser":49,"../utils":108,"./slider":104,"_process":25,"buffer":3,"timers":28}],102:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _require = require('../utils'),
    clip = _require.clip,
    Slider = require('./slider');

module.exports = function (_Slider) {
    _inherits(Knob, _Slider);

    _createClass(Knob, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Knob.__proto__ || Object.getPrototypeOf(Knob), 'defaults', this).call(this, {

                _knob: 'knob',

                pips: { type: 'boolean', value: true, help: 'Set to `false` to hide the scale' },
                input: { type: 'boolean', value: true, help: 'Set to `false` to hide the built-in input' },
                dashed: { type: 'boolean', value: false, help: 'Set to `true` to display a dashed gauge' },
                angle: { type: 'number', value: 270, help: 'Defines the angle\'s width of the knob, in degrees' },
                snap: { type: 'boolean', value: false, help: 'By default, dragging the widget will modify it\'s value starting from its last value. Setting this to `true` will make it snap directly to the mouse/touch position' },
                spring: { type: 'boolean', value: false, help: 'When set to `true`, the widget will go back to its `default` value when released' },
                doubleTap: { type: 'boolean', value: false, help: ['Set to `true` to make the knob reset to its `default` value when receiving a double tap.', 'Can also be an osc address, in which case the widget will just send an osc message (`/<doubleTap> <preArgs>`)'] },
                range: { type: 'object', value: { min: 0, max: 1 }, help: ['Defines the breakpoints of the fader\'s scale:', '- keys can be percentages and/or `min` / `max`', '- values can be `number` or `object` if a custom label is needed', 'Example: (`{min:{"-inf": 0}, "50%": 0.25, max: {"+inf": 1}}`)'] },
                logScale: { type: 'boolean', value: false, help: 'Set to `true` to use logarithmic scale for the y axis' },
                unit: { type: 'string', value: '', help: 'Unit will be appended to the displayed widget\'s value (it doesn\'t affect osc messages)' },
                origin: { type: 'number', value: 'auto', help: 'Defines the starting point\'s value of the knob\'s gauge' }

            }, [], {

                touchAddress: { type: 'string', value: '', help: 'OSC address for touched state messages: `/touchAddress [preArgs] 0/1`' },
                css: { type: 'string', value: '', help: ['Available CSS variables:', '- `--color-gauge: color;`', '- `--color-knob: color;`', '- `--color-pips: color;`'] }

            });
        }
    }]);

    function Knob(options) {
        _classCallCheck(this, Knob);

        var _this = _possibleConstructorReturn(this, (Knob.__proto__ || Object.getPrototypeOf(Knob)).call(this, options));

        _this.widget.classList.add('knob');

        _this.widget.classList.add('compact');

        _this.lastOffsetX = 0;
        _this.lastOffsetY = 0;
        _this.minDimension = 0;

        _this.maxAngle = _this.getProp('angle');

        // calculate lost height factor
        var a = (1 - Math.sin((Math.max(_this.maxAngle, 247.5) - 180) / 2 * Math.PI / 180)) / 3;
        _this.lostHeightFactor = a / 4;

        return _this;
    }

    _createClass(Knob, [{
        key: 'draginitHandle',
        value: function draginitHandle(e) {

            this.percent = clip(this.percent, [0, 100]);

            this.lastOffsetX = e.offsetX;
            this.lastOffsetY = e.offsetY;

            if (!(e.traversing || this.getProp('snap')) || e.ctrlKey) return;

            this.percent = this.angleToPercent(this.coordsToAngle(e.offsetX, e.offsetY));

            this.setValue(this.percentToValue(this.percent), { send: true, sync: true, dragged: true });
        }
    }, {
        key: 'dragHandle',
        value: function dragHandle(e) {

            if (!(e.traversing || this.getProp('snap')) || e.ctrlKey) {

                this.percent = -100 * (e.movementY / e.inertia) / this.height + this.percent;
            } else {

                this.lastOffsetX = this.lastOffsetX + e.movementX / e.inertia;
                this.lastOffsetY = this.lastOffsetY + e.movementY / e.inertia;
                this.percent = this.angleToPercent(this.coordsToAngle(this.lastOffsetX, this.lastOffsetY));
            }

            this.percent = this.percent, [0, 100];

            this.setValue(this.percentToValue(this.percent), { send: true, sync: true, dragged: true });
        }
    }, {
        key: 'coordsToAngle',
        value: function coordsToAngle(x, y) {

            var xToCenter = x - this.width / 2,
                yToCenter = y - this.height / 2,
                angle = Math.atan2(-yToCenter, -xToCenter) * 180 / Math.PI + 90;

            return angle < 0 ? 360 + angle : angle;
        }
    }, {
        key: 'angleToPercent',
        value: function angleToPercent(angle) {

            return clip(angle - (360 - this.maxAngle) / 2, [0, this.maxAngle]) / this.maxAngle * 100;
        }
    }, {
        key: 'percentToAngle',
        value: function percentToAngle(percent) {

            percent = clip(percent, [0, 100]);

            return 2 * Math.PI * percent / 100 * (this.maxAngle / 360) // angle relative to maxAngle
            + Math.PI / 2 // quarter circle offset
            + Math.PI * (1 - this.maxAngle / 360); // centering offset depending on maxAngle
        }
    }, {
        key: 'resizeHandle',
        value: function resizeHandle() {

            _get(Knob.prototype.__proto__ || Object.getPrototypeOf(Knob.prototype), 'resizeHandle', this).apply(this, arguments);

            this.minDimension = Math.min(this.width, this.height);

            this.wrapper.style.top = this.minDimension * this.lostHeightFactor - (this.getProp('label') === false ? 0 : this.gaugeWidth / 4) + 'px';
        }
    }, {
        key: 'draw',
        value: function draw() {

            var o = this.percentToAngle(this.valueToPercent(this.originValue)),
                d = this.percentToAngle(this.percent),
                min = this.percentToAngle(0),
                max = this.percentToAngle(100),
                dashed = this.getProp('dashed'),
                pips = this.getProp('pips'),
                gaugeWidth = Math.max(7 * PXSCALE, this.minDimension / 20),
                gaugeRadius = this.minDimension / 2 - gaugeWidth / 2 - 2 * PXSCALE,
                knobRadius = gaugeRadius - gaugeWidth,
                rad = PXSCALE / gaugeRadius / 2;

            this.ctx.clearRect(0, 0, this.width, this.height);

            this.ctx.globalAlpha = 1;

            this.ctx.strokeStyle = this.colors.light;
            this.ctx.lineWidth = gaugeWidth;
            this.ctx.beginPath();
            this.ctx.arc(this.width / 2, this.height / 2, gaugeRadius, min - 4 * rad - (pips ? 3 * rad : 0), max + 4 * rad + (pips ? 3 * rad : 0));
            this.ctx.stroke();

            this.ctx.strokeStyle = this.colors.bg;
            this.ctx.lineWidth = gaugeWidth - 2 * PXSCALE;
            this.ctx.beginPath();
            this.ctx.arc(this.width / 2, this.height / 2, gaugeRadius, min - 2 * rad, max + 2 * rad);
            this.ctx.stroke();

            if (dashed) this.ctx.setLineDash([1.5 * PXSCALE, 1.5 * PXSCALE]);

            this.ctx.strokeStyle = this.colors.track;
            this.ctx.lineWidth = gaugeWidth - 4.5 * PXSCALE;
            this.ctx.beginPath();
            this.ctx.arc(this.width / 2, this.height / 2, gaugeRadius, min, max);
            this.ctx.stroke();

            this.ctx.globalAlpha = pips ? 0.5 : 0.7;
            this.ctx.strokeStyle = this.colors.gauge;
            this.ctx.lineWidth = gaugeWidth - 4.5 * PXSCALE;
            this.ctx.beginPath();

            this.ctx.arc(this.width / 2, this.height / 2, gaugeRadius, o, d, o > d);
            this.ctx.stroke();

            if (dashed) this.ctx.setLineDash([]);

            if (pips) {

                this.ctx.globalAlpha = 1;
                this.ctx.lineWidth = gaugeWidth - 4.5 * PXSCALE;

                var _iteratorNormalCompletion = true;
                var _didIteratorError = false;
                var _iteratorError = undefined;

                try {
                    for (var _iterator = this.rangeKeys.concat(this.valueToPercent(this.originValue))[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                        var pip = _step.value;


                        var _a = this.percentToAngle(pip);

                        this.ctx.lineWidth = gaugeWidth - 2 * PXSCALE;
                        this.ctx.strokeStyle = this.colors.bg;
                        this.ctx.beginPath();
                        this.ctx.arc(this.width / 2, this.height / 2, gaugeRadius, _a - 5 * rad, _a + 5 * rad);
                        this.ctx.stroke();

                        this.ctx.lineWidth = gaugeWidth - 4.5 * PXSCALE;
                        this.ctx.strokeStyle = this.colors.pips;
                        this.ctx.beginPath();
                        this.ctx.arc(this.width / 2, this.height / 2, gaugeRadius, _a - 2 * rad, _a + 2 * rad);
                        this.ctx.stroke();
                    }
                } catch (err) {
                    _didIteratorError = true;
                    _iteratorError = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion && _iterator.return) {
                            _iterator.return();
                        }
                    } finally {
                        if (_didIteratorError) {
                            throw _iteratorError;
                        }
                    }
                }
            }

            // knob

            this.ctx.lineWidth = PXSCALE;

            this.ctx.fillStyle = this.colors.raised;
            this.ctx.beginPath();
            this.ctx.globalAlpha = 1;
            this.ctx.arc(this.width / 2, this.height / 2, knobRadius, 0, Math.PI * 2);
            this.ctx.fill();
            this.ctx.strokeStyle = this.colors.bg;
            this.ctx.stroke();

            this.ctx.beginPath();
            this.ctx.globalAlpha = 1;
            this.ctx.arc(this.width / 2, this.height / 2, knobRadius - PXSCALE * 1.5, 0, Math.PI * 2);
            this.ctx.strokeStyle = this.colors.light;
            this.ctx.stroke();

            var g = this.ctx.createLinearGradient(this.width / 2, this.height / 2 - knobRadius / 2, this.width / 2, this.height / 2 + knobRadius / 2);
            g.addColorStop(0.5, 'transparent');
            g.addColorStop(0, this.colors.light || 'transparent');

            this.ctx.strokeStyle = g;
            this.ctx.stroke();

            // cursor
            this.ctx.globalAlpha = 1;

            var r1 = knobRadius - PXSCALE,
                r2 = knobRadius / 4,
                a = 2 * Math.PI - d;

            this.ctx.beginPath();
            this.ctx.moveTo(r1 * Math.cos(a) + this.width / 2, this.height / 2 - r1 * Math.sin(a));
            this.ctx.lineTo(r2 * Math.cos(a) + this.width / 2, this.height / 2 - r2 * Math.sin(a));

            this.ctx.lineWidth = gaugeWidth - 4.5 * PXSCALE;
            this.ctx.strokeStyle = this.colors.knob;
            this.ctx.stroke();
        }
    }]);

    return Knob;
}(Slider);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/sliders/knob.js","/src/browser/js/app/widgets/sliders")
},{"../utils":108,"./slider":104,"_process":25,"buffer":3,"timers":28}],103:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _require = require('../utils'),
    clip = _require.clip,
    Widget = require('../common/widget'),
    Fader = require('./fader'),
    Input = require('../inputs/input'),
    touchstate = require('../mixins/touch_state');

var faderDefaults = Fader.defaults()._props();

var RangeFader = function (_Fader) {
    _inherits(RangeFader, _Fader);

    function RangeFader(options) {
        _classCallCheck(this, RangeFader);

        var _this = _possibleConstructorReturn(this, (RangeFader.__proto__ || Object.getPrototypeOf(RangeFader)).call(this, options));

        _this.cancelDraw = options.cancelDraw;

        return _this;
    }

    _createClass(RangeFader, [{
        key: 'sendValue',
        value: function sendValue() {}
    }, {
        key: 'draginitHandle',
        value: function draginitHandle() {

            this.percent = clip(this.percent, [this.valueToPercent(this.rangeValsMin), this.valueToPercent(this.rangeValsMax)]);

            _get(RangeFader.prototype.__proto__ || Object.getPrototypeOf(RangeFader.prototype), 'draginitHandle', this).apply(this, arguments);
        }
    }, {
        key: 'draw',
        value: function draw() {

            if (this.cancelDraw || !this.parent.faders) return;

            var width = this.getProp('horizontal') ? this.height : this.width,
                height = !this.getProp('horizontal') ? this.height : this.width;

            var d = Math.round(this.percentToCoord(this.valueToPercent(this.parent.faders[this.getProp('horizontal') ? 0 : 1].value))),
                d2 = Math.round(this.percentToCoord(this.valueToPercent(this.parent.faders[this.getProp('horizontal') ? 1 : 0].value))),
                m = Math.round(this.getProp('horizontal') ? this.height / 2 : this.width / 2);

            var dashed = this.getProp('dashed');

            this.clear();

            if (this.getProp('compact')) {

                this.ctx.globalAlpha = this.colors.gaugeOpacity || (dashed ? .3 : .2) + 0.2 * Math.abs(d - d2) / height;
                this.ctx.strokeStyle = this.colors.gauge;
                this.ctx.beginPath();
                this.ctx.moveTo(m, d2);
                this.ctx.lineTo(m, d);
                this.ctx.lineWidth = width + 2 * PXSCALE;
                if (dashed) this.ctx.setLineDash([PXSCALE, PXSCALE]);
                this.ctx.stroke();
                if (dashed) this.ctx.setLineDash([]);

                this.ctx.globalAlpha = 1;
                this.ctx.beginPath();
                this.ctx.fillStyle = this.colors.knob;
                this.ctx.rect(0, Math.min(d, height - PXSCALE), width, PXSCALE);
                this.ctx.rect(0, Math.min(d2, height - PXSCALE), width, PXSCALE);
                this.ctx.fill();

                this.clearRect = [0, 0, width, height];
            } else {

                this.ctx.lineWidth = 6 * PXSCALE;

                this.ctx.beginPath();
                this.ctx.globalAlpha = 1;
                this.ctx.strokeStyle = this.colors.light;
                this.ctx.moveTo(m, this.margin * PXSCALE - 2 * PXSCALE);
                this.ctx.lineTo(m, height - this.margin * PXSCALE + 2 * PXSCALE);
                this.ctx.stroke();

                this.ctx.lineWidth = 4 * PXSCALE;

                this.ctx.beginPath();
                this.ctx.globalAlpha = 1;
                this.ctx.strokeStyle = this.colors.bg;
                this.ctx.moveTo(m, this.margin * PXSCALE - 1 * PXSCALE);
                this.ctx.lineTo(m, height - this.margin * PXSCALE + 1 * PXSCALE);
                this.ctx.stroke();

                this.ctx.lineWidth = 2 * PXSCALE;

                this.ctx.beginPath();
                this.ctx.strokeStyle = this.colors.track;
                this.ctx.moveTo(m, this.margin * PXSCALE);
                this.ctx.lineTo(m, height - this.margin * PXSCALE);
                this.ctx.stroke();

                this.ctx.beginPath();
                this.ctx.globalAlpha = 0.7;
                this.ctx.strokeStyle = this.colors.gauge;
                this.ctx.moveTo(m, d2);
                this.ctx.lineTo(m, d);
                if (dashed) this.ctx.setLineDash([PXSCALE, PXSCALE]);
                this.ctx.stroke();
                if (dashed) this.ctx.setLineDash([]);

                this.ctx.globalAlpha = 1;

                // high knob bg

                this.ctx.beginPath();
                this.ctx.rect(m - 9 * PXSCALE, d - 14 * PXSCALE, 18 * PXSCALE, 16 * PXSCALE);
                this.ctx.lineWidth = PXSCALE;
                this.ctx.fillStyle = this.colors.bg;
                this.ctx.fill();

                // low knob bg

                this.ctx.beginPath();
                this.ctx.rect(m - 9 * PXSCALE, d2 - PXSCALE, 18 * PXSCALE, 16 * PXSCALE);
                this.ctx.lineWidth = PXSCALE;
                this.ctx.fillStyle = this.colors.bg;
                this.ctx.fill();

                // high knob

                this.ctx.beginPath();
                this.ctx.rect(m - 8 * PXSCALE, d - 13 * PXSCALE, 16 * PXSCALE, 14 * PXSCALE);
                this.ctx.fillStyle = this.colors.raised;
                this.ctx.fill();
                this.ctx.lineWidth = PXSCALE;

                this.ctx.beginPath();
                this.ctx.rect(m - 7.5 * PXSCALE, d - 12.5 * PXSCALE, 15 * PXSCALE, 13.5 * PXSCALE);
                this.ctx.lineWidth = PXSCALE;
                this.ctx.strokeStyle = this.colors.light;
                this.ctx.stroke();

                this.ctx.beginPath();
                this.ctx.rect(m - 8 * PXSCALE, d - 13 * PXSCALE, 16 * PXSCALE, PXSCALE);
                this.ctx.lineWidth = PXSCALE;
                this.ctx.fillStyle = this.colors.light;
                this.ctx.fill();

                this.ctx.beginPath();
                this.ctx.rect(m - 4 * PXSCALE, d, 8 * PXSCALE, PXSCALE);
                this.ctx.fillStyle = this.colors.knob;
                this.ctx.fill();

                // low knob

                this.ctx.beginPath();
                this.ctx.rect(m - 8 * PXSCALE, d2, 16 * PXSCALE, 14 * PXSCALE);
                this.ctx.fillStyle = this.colors.raised;
                this.ctx.fill();
                this.ctx.lineWidth = PXSCALE;

                this.ctx.beginPath();
                this.ctx.rect(m - 7.5 * PXSCALE, d2, 15 * PXSCALE, 13.5 * PXSCALE);
                this.ctx.lineWidth = PXSCALE;
                this.ctx.strokeStyle = this.colors.light;
                this.ctx.stroke();

                this.ctx.beginPath();
                this.ctx.rect(m - 4 * PXSCALE, d2, 8 * PXSCALE, PXSCALE);
                this.ctx.fillStyle = this.colors.knob;
                this.ctx.fill();

                this.clearRect = [width / 2 - 11 * PXSCALE, 0, 22 * PXSCALE, height];
            }
        }
    }]);

    return RangeFader;
}(Fader);

module.exports = function (_Widget) {
    _inherits(Range, _Widget);

    _createClass(Range, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Range.__proto__ || Object.getPrototypeOf(Range), 'defaults', this).call(this, {

                _range: 'range',

                range: { type: 'object', value: { min: 0, max: 1 }, help: 'See fader\'s `range`' },
                horizontal: { type: 'boolean', value: false, help: 'See fader\'s `horizontal`' },
                alignRight: { type: 'boolean', value: false, help: 'See fader\'s `alignRight`' },
                input: { type: 'boolean', value: true, help: 'See fader\'s `input`' },
                compact: { type: 'boolean', value: false, help: 'See fader\'s `compact`' },
                pips: { type: 'boolean', value: true, help: 'See fader\'s `pips`' },
                snap: { type: 'boolean', value: false, help: 'See fader\'s `snap`' },
                spring: { type: 'boolean', value: false, help: 'See fader\'s `spring`' },
                logScale: { type: 'boolean', value: false, help: 'See fader\'s `logScale`' }

            }, [], {

                touchAddress: { type: 'string', value: '', help: 'See fader\'s `touchAddress`' },
                split: { type: 'boolean|object', value: false, help: ['Set to `true` to send separate osc messages for `low` and `high` handles. The `address` will be the same as the widget\'s with `/low` or `/high` appended to it', 'Can be set as an object to specify a different `address` : `[\'/osc_address_low\', \'/osc_address_high\']`', 'Note: the widget will only respond to its original osc address, not to the splitted version'] },
                css: { type: 'string', value: '', help: ['Available CSS variables:', '- `--color-gauge: color;`', '- `--color-knob: color;`', '- `--color-pips: color;`', '- `--gauge-opacity: number;`'] }

            });
        }
    }]);

    function Range(options) {
        _classCallCheck(this, Range);

        var html = '\n            <div class="range">\n                <div class="wrapper"></div>\n            </div>\n        ';

        var _this2 = _possibleConstructorReturn(this, (Range.__proto__ || Object.getPrototypeOf(Range)).call(this, _extends({}, options, { html: html })));

        _this2.wrapper = DOM.get(_this2.widget, '.wrapper')[0];

        _this2.faders = [new RangeFader({ props: _extends({}, faderDefaults, {
                compact: _this2.getProp('compact'),
                pips: false,
                alignRight: false,
                horizontal: _this2.getProp('horizontal'),
                height: '100%',
                width: '100%',
                default: _this2.getProp('default').length === 2 ? _this2.getProp('default')[0] : _this2.getProp('range').min,
                snap: _this2.getProp('snap'),
                spring: _this2.getProp('spring'),
                range: _this2.getProp('range'),
                origin: 'auto',
                precision: _this2.precision,
                logScale: _this2.getProp('logScale'),
                input: false
            }), cancelDraw: true, parent: _this2 }), new RangeFader({ props: _extends({}, faderDefaults, {
                compact: _this2.getProp('compact'),
                pips: _this2.getProp('pips'),
                alignRight: _this2.getProp('alignRight'),
                horizontal: _this2.getProp('horizontal'),
                height: '100%',
                width: '100%',
                default: _this2.getProp('default').length === 2 ? _this2.getProp('default')[1] : _this2.getProp('range').max,
                snap: _this2.getProp('snap'),
                spring: _this2.getProp('spring'),
                range: _this2.getProp('range'),
                origin: 'auto',
                precision: _this2.precision,
                logScale: _this2.getProp('logScale'),
                input: false
            }), cancelDraw: false, parent: _this2 })];

        _this2.wrapper.appendChild(_this2.faders[0].widget);
        _this2.wrapper.appendChild(_this2.faders[1].widget);

        _this2.on('change', function (e) {

            if (e.widget == _this2) return;

            e.stopPropagation = true;

            var v = [_this2.faders[0].getValue(), _this2.faders[1].getValue()];

            _this2.setValue(v, e.options);
        });

        _this2.touchMap = {};

        touchstate(_this2, { element: _this2.wrapper, multitouch: true });

        _this2.on('draginit', function (e) {

            var id;

            if (!_this2.touchMap[e.pointerId]) {

                var ndiff,
                    diff = -1;

                for (var i in _this2.faders) {

                    if (Object.values(_this2.touchMap).indexOf(i) != -1) continue;

                    var coord = _this2.faders[i].percentToCoord(_this2.faders[i].valueToPercent(_this2.faders[i].value)) - (_this2.getProp('horizontal') ? -1 : 1) * (i == 0 ? -20 : 20);

                    ndiff = _this2.getProp('horizontal') ? Math.abs(e.offsetX - coord) : Math.abs(e.offsetY - coord);

                    if (diff == -1 || ndiff < diff) {
                        id = i;
                        diff = ndiff;
                    }
                }

                _this2.touchMap[e.pointerId] = id;
            } else if (e.traversing) {

                id = _this2.touchMap[e.pointerId];
            }

            if (!id) return;

            e.stopPropagation = true;
            _this2.faders[id].trigger('draginit', [e]);
        }, { element: _this2.wrapper, multitouch: true });

        _this2.on('drag', function (e) {

            var i = _this2.touchMap[e.pointerId];
            if (e.shiftKey) {
                _this2.faders[0].trigger('drag', [e]);
                _this2.faders[1].trigger('drag', [e]);
            } else {
                _this2.faders[i].trigger('drag', [e]);
            }
        }, { element: _this2.wrapper, multitouch: true });

        _this2.on('dragend', function (e) {

            var i = _this2.touchMap[e.pointerId];
            e.stopPropagation = true;
            _this2.faders[i].trigger('dragend', [e]);
            delete _this2.touchMap[e.pointerId];
        }, { element: _this2.wrapper, multitouch: true });

        if (_this2.getProp('input')) {

            _this2.input = new Input({
                props: _extends({}, Input.defaults()._props(), {
                    precision: _this2.getProp('precision'),
                    unit: _this2.getProp('unit'),
                    vertical: _this2.getProp('compact') && !_this2.getProp('horizontal')
                }),
                parent: _this2, parentNode: _this2.widget
            });
            _this2.widget.appendChild(_this2.input.widget);
            _this2.input.on('change', function (e) {
                e.stopPropagation = true;
                _this2.setValue(_this2.input.getValue(), { sync: true, send: true });
                _this2.showValue();
            });
        }

        if (_this2.getProp('horizontal')) {
            _this2.widget.classList.add('horizontal');
            _this2.container.classList.add('horizontal');
        }
        if (_this2.getProp('alignRight') && !_this2.getProp('horizontal')) {
            _this2.widget.classList.add('align-right');
        }
        if (_this2.getProp('compact')) {
            _this2.widget.classList.add('compact');
        }
        if (_this2.getProp('pips')) {
            _this2.widget.classList.add('has-pips');
        }

        _this2.setValue([_this2.faders[0].rangeValsMin, _this2.faders[1].rangeValsMax]);

        return _this2;
    }

    _createClass(Range, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

            if (!v || !v.length || v.length != 2) return;

            this.faders[0].rangeValsMax = v[1];
            this.faders[1].rangeValsMin = v[0];

            if (!options.dragged) {
                this.faders[0].setValue(v[0]);
                this.faders[1].setValue(v[1]);
            }

            this.value = [this.faders[0].getValue(), this.faders[1].getValue()];

            if (options.send) this.sendValue();
            if (options.sync) this.changed(options);

            this.faders[1].batchDraw();

            this.showValue();
        }
    }, {
        key: 'showValue',
        value: function showValue() {

            if (this.getProp('input')) this.input.setValue(this.value);
        }
    }, {
        key: 'getSplit',
        value: function getSplit() {

            return this.getProp('split') ? _typeof(this.getProp('split')) == 'object' && this.getProp('split').length == 2 ? this.getProp('split') : [this.getProp('address') + '/low', this.getProp('address') + '/high'] : false;
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Range.prototype.__proto__ || Object.getPrototypeOf(Range.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'color':
                    var _iteratorNormalCompletion = true;
                    var _didIteratorError = false;
                    var _iteratorError = undefined;

                    try {
                        for (var _iterator = this.faders[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                            var w = _step.value;

                            w.onPropChanged('color');
                        }
                    } catch (err) {
                        _didIteratorError = true;
                        _iteratorError = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion && _iterator.return) {
                                _iterator.return();
                            }
                        } finally {
                            if (_didIteratorError) {
                                throw _iteratorError;
                            }
                        }
                    }

                    return;

            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            this.faders[0].onRemove();
            this.faders[1].onRemove();
            if (this.input) this.input.onRemove();
            _get(Range.prototype.__proto__ || Object.getPrototypeOf(Range.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Range;
}(Widget);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/sliders/range.js","/src/browser/js/app/widgets/sliders")
},{"../common/widget":62,"../inputs/input":71,"../mixins/touch_state":82,"../utils":108,"./fader":101,"_process":25,"buffer":3,"timers":28}],104:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _require = require('../utils'),
    clip = _require.clip,
    mapToScale = _require.mapToScale,
    Canvas = require('../common/canvas'),
    touchstate = require('../mixins/touch_state'),
    doubletab = require('../mixins/double_tap'),
    Input = require('../inputs/input');

var Slider = function (_Canvas) {
    _inherits(Slider, _Canvas);

    function Slider(options) {
        _classCallCheck(this, Slider);

        var html = '\n            <div class="slider">\n                <div class="wrapper">\n                    <canvas></canvas>\n                </div>\n            </div>\n        ';

        var _this = _possibleConstructorReturn(this, (Slider.__proto__ || Object.getPrototypeOf(Slider)).call(this, _extends({}, options, { html: html })));

        _this.wrapper = DOM.get(_this.widget, '.wrapper')[0];

        _this.value = undefined;
        _this.percent = 0;

        _this.unit = _this.getProp('unit') ? ' ' + _this.getProp('unit') : '';

        _this.rangeKeys = [];
        _this.rangeVals = [];
        _this.rangeLabels = [];

        for (var k in _this.getProp('range')) {
            var key = k == 'min' ? 0 : k == 'max' ? 100 : parseInt(k),
                val = _typeof(_this.getProp('range')[k]) == 'object' ? _this.getProp('range')[k][Object.keys(_this.getProp('range')[k])[0]] : _this.getProp('range')[k],
                label = _typeof(_this.getProp('range')[k]) == 'object' ? Object.keys(_this.getProp('range')[k])[0] : val;

            _this.rangeKeys.push(key);
            _this.rangeVals.push(val);
            _this.rangeLabels.push(label);
        }
        _this.rangeValsMax = Math.max.apply(Math, _toConsumableArray(_this.rangeVals)), _this.rangeValsMin = Math.min.apply(Math, _toConsumableArray(_this.rangeVals));

        _this.originValue = _this.getProp('origin') == 'auto' ? _this.rangeValsMin : clip(_this.getProp('origin'), [_this.rangeValsMin, _this.rangeValsMax]);

        _this.springValue = _this.getProp('default') !== '' ? _this.getProp('default') : _this.originValue;

        if (_this.getProp('doubleTap')) {

            if (typeof _this.getProp('doubleTap') === 'string' && _this.getProp('doubleTap')[0] === '/') {

                doubletab(_this.widget, function () {
                    _this.sendValue({ v: null, address: _this.getProp('doubleTap') });
                });
            } else {

                doubletab(_this.widget, function () {
                    _this.setValue(_this.springValue, { sync: true, send: true, fromLocal: true });
                });
            }
        }

        _this.wrapper.addEventListener('mousewheel', _this.mousewheelHandleProxy.bind(_this));

        _this.on('draginit', _this.draginitHandleProxy.bind(_this), { element: _this.wrapper });
        _this.on('drag', _this.dragHandleProxy.bind(_this), { element: _this.wrapper });
        _this.on('dragend', _this.dragendHandleProxy.bind(_this), { element: _this.wrapper });

        touchstate(_this, { element: _this.wrapper });

        if (_this.getProp('input')) {

            _this.input = new Input({
                props: _extends({}, Input.defaults()._props(), {
                    precision: _this.getProp('precision'),
                    unit: _this.getProp('unit'),
                    vertical: _this.getProp('type') == 'fader' && _this.getProp('compact') && !_this.getProp('horizontal')
                }),
                parent: _this, parentNode: _this.widget
            });

            _this.widget.appendChild(_this.input.widget);
            _this.input.on('change', function (e) {
                e.stopPropagation = true;
                _this.setValue(_this.input.getValue(), { sync: true, send: true });
                _this.showValue();
            });
        }

        _this.setValue(_this.springValue);

        return _this;
    }

    _createClass(Slider, [{
        key: 'mousewheelHandleProxy',
        value: function mousewheelHandleProxy() {

            this.mousewheelHandle.apply(this, arguments);
        }
    }, {
        key: 'draginitHandleProxy',
        value: function draginitHandleProxy() {

            this.draginitHandle.apply(this, arguments);
        }
    }, {
        key: 'dragHandleProxy',
        value: function dragHandleProxy() {

            this.dragHandle.apply(this, arguments);
        }
    }, {
        key: 'dragendHandleProxy',
        value: function dragendHandleProxy() {

            this.dragendHandle.apply(this, arguments);
        }
    }, {
        key: 'mousewheelHandle',
        value: function mousewheelHandle(e) {

            if (e.wheelDeltaX) return;

            e.preventDefault();
            e.stopPropagation();

            var direction = e.wheelDelta / Math.abs(e.wheelDelta),
                increment = e.ctrlKey ? 0.25 : 1;

            this.percent = clip(this.percent + Math.max(increment, 10 / Math.pow(10, this.precision + 1)) * direction, [0, 100]);

            this.setValue(this.percentToValue(this.percent), { sync: true, send: true, dragged: true });
        }
    }, {
        key: 'draginitHandle',
        value: function draginitHandle(e, data, traversing) {}
    }, {
        key: 'dragHandle',
        value: function dragHandle(e, data, traversing) {}
    }, {
        key: 'dragendHandle',
        value: function dragendHandle(e, data, traversing) {

            if (this.getProp('spring')) {
                this.setValue(this.springValue, { sync: true, send: true, fromLocal: true });
            }
        }
    }, {
        key: 'cacheCanvasStyle',
        value: function cacheCanvasStyle(style) {

            style = style || window.getComputedStyle(this.canvas);

            _get(Slider.prototype.__proto__ || Object.getPrototypeOf(Slider.prototype), 'cacheCanvasStyle', this).call(this, style);

            this.colors.gauge = style.getPropertyValue('--color-gauge') || this.colors.custom;
            this.colors.knob = style.getPropertyValue('--color-knob') || this.colors.custom;
            this.colors.pips = style.getPropertyValue('--color-pips') || this.colors.custom;
            this.colors.gaugeOpacity = style.getPropertyValue('--gauge-opacity');
        }
    }, {
        key: 'percentToValue',
        value: function percentToValue(percent) {

            var h = clip(percent, [0, 100]);
            for (var i = 0; i < this.rangeKeys.length - 1; i++) {
                if (h <= this.rangeKeys[i + 1] && h >= this.rangeKeys[i]) {
                    return mapToScale(h, [this.rangeKeys[i], this.rangeKeys[i + 1]], [this.rangeVals[i], this.rangeVals[i + 1]], false, this.getProp('logScale'));
                }
            }
        }
    }, {
        key: 'valueToPercent',
        value: function valueToPercent(value) {

            for (var i = 0; i < this.rangeVals.length - 1; i++) {
                if (value <= this.rangeVals[i + 1] && value >= this.rangeVals[i]) {
                    return mapToScale(value, [this.rangeVals[i], this.rangeVals[i + 1]], [this.rangeKeys[i], this.rangeKeys[i + 1]], false, this.getProp('logScale'), true);
                }
            }
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            if (typeof v != 'number') return;
            if (this.touched && !options.dragged) return this.setValueTouchedQueue = [v, options];

            var value = clip(v, [this.rangeValsMin, this.rangeValsMax]);

            if ((options.dragged || options.fromLocal) && this.value.toFixed(this.precision) == value.toFixed(this.precision)) options.send = false;

            this.value = value;

            if (!options.dragged) this.percent = this.valueToPercent(this.value);

            if (!this.noDraw) this.batchDraw();

            this.showValue();

            if (options.send) this.sendValue();
            if (options.sync) this.changed(options);
        }
    }, {
        key: 'showValue',
        value: function showValue() {

            if (this.getProp('input')) this.input.setValue(this.value);
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Slider.prototype.__proto__ || Object.getPrototypeOf(Slider.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'color':
                    if (this.input) this.input.onPropChanged('color');
                    return;

            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            if (this.input) this.input.onRemove();
            _get(Slider.prototype.__proto__ || Object.getPrototypeOf(Slider.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Slider;
}(Canvas);

Slider.dynamicProps = Slider.prototype.constructor.dynamicProps.concat('on', 'off');

module.exports = Slider;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/sliders/slider.js","/src/browser/js/app/widgets/sliders")
},{"../common/canvas":60,"../inputs/input":71,"../mixins/double_tap":81,"../mixins/touch_state":82,"../utils":108,"_process":25,"buffer":3,"timers":28}],105:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Widget = require('../common/widget'),
    widgetManager = require('../../managers/widgets'),
    osc = require('../../osc');

module.exports = function (_Widget) {
    _inherits(_switchers_base, _Widget);

    function _switchers_base(options) {
        _classCallCheck(this, _switchers_base);

        var _this = _possibleConstructorReturn(this, (_switchers_base.__proto__ || Object.getPrototypeOf(_switchers_base)).call(this, options));

        _this._isSwitcher = true;
        _this.value = { _selected: false };
        _this.linkedWidgets = _typeof(_this.getProp('linkedWidgets')) == 'object' ? _this.getProp('linkedWidgets') : [_this.getProp('linkedWidgets')];

        for (var i in _this.getProp('values')) {

            _this.value[_this.getProp('values')[i]] = {};
        }

        widgetManager.on('change.' + _this.hash, _this.syncHandler.bind(_this));

        return _this;
    }

    _createClass(_switchers_base, [{
        key: 'syncHandler',
        value: function syncHandler(e) {
            var id = e.id,
                widget = e.widget;


            if (widget && this.value._selected !== false && this.value[this.value._selected] && widget._isSwitcher !== true && this.isWatching(id, widget)) {

                this.value[this.value._selected][id] = widget.getValue();
            }
        }
    }, {
        key: 'isWatching',
        value: function isWatching(id, widget) {

            if (this.linkedWidgets.indexOf(id) != -1) return true;

            for (var k in this.linkedWidgets) {

                var widgets = widgetManager.getWidgetById(this.linkedWidgets[k]);

                for (var i in widgets) {

                    if (widgets[i].childrenHashes.indexOf(widget.hash) != -1) return true;
                }
            }
        }
    }, {
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            var apply = false;

            if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) == 'object') {

                for (var k in this.value) {

                    if (v.hasOwnProperty(k)) {

                        this.value[k] = v[k];
                        apply = true;
                    }
                }
            } else if (this.value[v] && v != '_selected') {

                this.value._selected = v;
                apply = true;
            }

            if (apply) this.applyState(this.value[this.value._selected], options);
        }
    }, {
        key: 'applyState',
        value: function applyState(state, options) {

            // extra sync routine to ensure linked widgets' props update before osc is sent
            if (options.sync) this.changed(_extends({}, options, { send: false, sync: false }));
            //

            for (var id in state) {
                var value = state[id],
                    widgets = widgetManager.getWidgetById(id);
                for (var i = widgets.length - 1; i >= 0; i--) {
                    if (widgets[i].setValue) {
                        widgets[i].setValue(value, { sync: options.sync, send: options.send });
                    }
                }
            }

            if (options.sync) this.changed(options);
            if (options.send) this.sendValue();
        }
    }, {
        key: 'sendValue',
        value: function sendValue() {

            osc.sync({
                h: this.hash,
                v: this.value
            });
        }
    }]);

    return _switchers_base;
}(Widget);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/switchers/_switchers_base.js","/src/browser/js/app/widgets/switchers")
},{"../../managers/widgets":47,"../../osc":48,"../common/widget":62,"_process":25,"buffer":3,"timers":28}],106:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Switcher = require('./switcher'),
    Widget = require('../common/widget'),
    Fader = require('../sliders/fader'),
    _require = require('../utils'),
    mapToScale = _require.mapToScale;


var faderDefaults = Fader.defaults()._props();

module.exports = function (_Switcher) {
    _inherits(Crossfader, _Switcher);

    _createClass(Crossfader, null, [{
        key: 'defaults',
        value: function defaults() {

            return Widget.defaults({

                _crossfader: 'crossfader',

                linkedWidgets: { type: 'string|array', value: '', help: ['- `String`: a widget\'s `id` whose state changes will be stored', '- `Array`: a list of widget `id` string'] },
                horizontal: { type: 'boolean', value: false, help: 'Set to `true` to display values horizontally' },
                values: { type: 'array|object', value: { 'Value 1': 1, 'Value 2': 2 }, help: ['`Array` of possible values to switch between : `[1,2,3]`', '`Object` of `"label":value` pairs. Numeric labels must be prepended or appended with a white space (or any other non-numeric character) otherwise the order of the values won\'t be kept'] }
            });
        }
    }]);

    function Crossfader(options) {
        _classCallCheck(this, Crossfader);

        options.props.values = options.props.horizontal ? ['A', 'B'] : ['B', 'A'];

        var _this = _possibleConstructorReturn(this, (Crossfader.__proto__ || Object.getPrototypeOf(Crossfader)).call(this, options));

        _this.fader = new Fader({ props: _extends({}, faderDefaults, {
                horizontal: _this.getProp('horizontal'),
                range: { min: { 'A': 0 }, '50%': { ' ': 0.5 }, max: { 'B': 1 } },
                input: false
            }), parent: _this });

        _this.fader.sendValue = function () {};

        _this.widget.appendChild(_this.fader.widget);

        if (_this.getProp('horizontal')) {
            _this.widget.classList.add('horizontal');
        } else {
            _this.widget.classList.add('vertical');
        }

        _this.fader.on('change', function (e) {

            e.stopPropagation = true;

            _this.setValue(_this.fader.getValue(), e.options);
        });

        _this.value._fader = 0;

        return _this;
    }

    _createClass(Crossfader, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            v = v <= 0 || v == 'A' ? 'A' : v >= 1 || v == 'B' ? 'B' : v;

            _get(Crossfader.prototype.__proto__ || Object.getPrototypeOf(Crossfader.prototype), 'setValue', this).call(this, v, options);

            if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) == 'object') {

                this.fader.setValue(this.value._fader, { dragged: options.dragged });
            }

            if (v == 'A') {

                this.fader.setValue(0, { dragged: options.dragged });
                this.value._fader = 0;
            } else if (v == 'B') {

                this.fader.setValue(1, { dragged: options.dragged });
                this.value._fader = 1;
            } else if (!isNaN(v)) {

                this.fader.setValue(v, { dragged: options.dragged });
                this.value._fader = this.fader.getValue();
                this.value._selected = false;
                this.switch.setValue();

                var s = this.getValue(),
                    a = {};

                for (var i in s['A']) {

                    if (s['B'][i] === undefined) continue;

                    if (Array.isArray(s['A'][i])) {

                        a[i] = [];

                        for (var k in s['A'][i]) {

                            if (!isNaN(s['A'][i][k])) {

                                a[i][k] = mapToScale(v, [0, 1], [s['A'][i][k], s['B'][i][k]], false);
                            }
                        }
                    } else if (!isNaN(s['A'][i])) {

                        a[i] = mapToScale(v, [0, 1], [s['A'][i], s['B'][i]], false);
                    }
                }

                this.applyState(a, options);
            }
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Crossfader.prototype.__proto__ || Object.getPrototypeOf(Crossfader.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'color':
                    var _arr = [this.fader];

                    for (var _i = 0; _i < _arr.length; _i++) {
                        var w = _arr[_i];
                        w.onPropChanged('color');
                    }
                    return;

            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            this.fader.onRemove();
            _get(Crossfader.prototype.__proto__ || Object.getPrototypeOf(Crossfader.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Crossfader;
}(Switcher);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/switchers/crossfader.js","/src/browser/js/app/widgets/switchers")
},{"../common/widget":62,"../sliders/fader":101,"../utils":108,"./switcher":107,"_process":25,"buffer":3,"timers":28}],107:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _switchers_base = require('./_switchers_base'),
    Switch = require('../buttons/switch');

var switchDefaults = Switch.defaults()._props();

module.exports = function (_switchers_base2) {
    _inherits(Switcher, _switchers_base2);

    _createClass(Switcher, null, [{
        key: 'defaults',
        value: function defaults() {

            return _get(Switcher.__proto__ || Object.getPrototypeOf(Switcher), 'defaults', this).call(this, {

                _switcher: 'switcher',

                linkedWidgets: { type: 'string|array', value: '', help: ['- `String`: a widget\'s `id` whose state changes will be stored', '- `Array`: a list of widget `id` string'] },
                horizontal: { type: 'boolean', value: false, help: 'Set to `true` to display values horizontally' },
                values: { type: 'array|object', value: { 'Value 1': 1, 'Value 2': 2 }, help: ['`Array` of possible values to switch between : `[1,2,3]`', '`Object` of `"label":value` pairs. Numeric labels must be prepended or appended with a white space (or any other non-numeric character) otherwise the order of the values won\'t be kept'] }
            });
        }
    }]);

    function Switcher(options) {
        _classCallCheck(this, Switcher);

        var _this = _possibleConstructorReturn(this, (Switcher.__proto__ || Object.getPrototypeOf(Switcher)).call(this, _extends({}, options, { html: '<div class="switcher"></div>' })));

        if (_this.getProp('horizontal')) _this.widget.classList.add('horizontal');

        _this.switch = new Switch({ props: _extends({}, switchDefaults, {
                label: false,
                values: _this.getProp('values'),
                value: _this.getProp('value'),
                horizontal: _this.getProp('horizontal')
            }), parent: _this });

        _this.switch.sendValue = function () {};

        _this.widget.appendChild(_this.switch.widget);

        _this.switch.on('change', function (e) {

            e.stopPropagation = true;
            e.options.fromSelf = true;

            _this.setValue(_this.switch.getValue(), e.options);
        });

        return _this;
    }

    _createClass(Switcher, [{
        key: 'setValue',
        value: function setValue(v) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


            _get(Switcher.prototype.__proto__ || Object.getPrototypeOf(Switcher.prototype), 'setValue', this).call(this, v, options);

            if (!options.fromSelf) this.switch.setValue(this.value._selected);
        }
    }, {
        key: 'onPropChanged',
        value: function onPropChanged(propName, options, oldPropValue) {

            if (_get(Switcher.prototype.__proto__ || Object.getPrototypeOf(Switcher.prototype), 'onPropChanged', this).apply(this, arguments)) return true;

            switch (propName) {

                case 'color':
                    var _arr = [this.switch];

                    for (var _i = 0; _i < _arr.length; _i++) {
                        var w = _arr[_i];
                        w.onPropChanged('color');
                    }
                    return;

            }
        }
    }, {
        key: 'onRemove',
        value: function onRemove() {
            this.switch.onRemove();
            _get(Switcher.prototype.__proto__ || Object.getPrototypeOf(Switcher.prototype), 'onRemove', this).call(this);
        }
    }]);

    return Switcher;
}(_switchers_base);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/switchers/switcher.js","/src/browser/js/app/widgets/switchers")
},{"../buttons/switch":58,"./_switchers_base":105,"_process":25,"buffer":3,"timers":28}],108:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

module.exports = {

    clip: function clip(value, range) {

        value = parseFloat(value);

        if (isNaN(value)) value = range[0];
        return Math.max(Math.min(range[0], range[1]), Math.min(value, Math.max(range[0], range[1])));
    },

    // map a value from a scale to another input and output must be range arrays
    mapToScale: function mapToScale(value, rangeIn, rangeOut, precision, log, revertlog) {

        value = module.exports.clip(value, [rangeIn[0], rangeIn[1]]);

        value = log ? revertlog ? (Math.pow(10, (value - rangeIn[0]) / (rangeIn[1] - rangeIn[0])) / 9 - 1 / 9) * (rangeOut[1] - rangeOut[0]) + rangeOut[0] : Math.log10((value - rangeIn[0]) / (rangeIn[1] - rangeIn[0]) * 9 + 1) * (rangeOut[1] - rangeOut[0]) + rangeOut[0] : (value - rangeIn[0]) / (rangeIn[1] - rangeIn[0]) * (rangeOut[1] - rangeOut[0]) + rangeOut[0];

        value = Math.max(Math.min(rangeOut[0], rangeOut[1]), Math.min(value, Math.max(rangeOut[0], rangeOut[1])));

        if (precision !== false) value = parseFloat(value.toFixed(precision));

        return value;
    },

    hsbToRgb: function hsbToRgb(hsb) {
        var rgb = {};
        var h = hsb.h;
        var s = hsb.s * 255 / 100;
        var v = hsb.b * 255 / 100;
        if (s == 0) {
            rgb.r = rgb.g = rgb.b = v;
        } else {
            var t1 = v;
            var t2 = (255 - s) * v / 255;
            var t3 = (t1 - t2) * (h % 60) / 60;
            if (h == 360) h = 0;
            if (h < 60) {
                rgb.r = t1;rgb.b = t2;rgb.g = t2 + t3;
            } else if (h < 120) {
                rgb.g = t1;rgb.b = t2;rgb.r = t1 - t3;
            } else if (h < 180) {
                rgb.g = t1;rgb.r = t2;rgb.b = t2 + t3;
            } else if (h < 240) {
                rgb.b = t1;rgb.r = t2;rgb.g = t1 - t3;
            } else if (h < 300) {
                rgb.b = t1;rgb.g = t2;rgb.r = t2 + t3;
            } else if (h < 360) {
                rgb.r = t1;rgb.g = t2;rgb.b = t1 - t3;
            } else {
                rgb.r = 0;rgb.g = 0;rgb.b = 0;
            }
        }
        return rgb;
    },

    rgbToHsb: function rgbToHsb(rgb) {
        var hsb = { h: 0, s: 0, b: 0 };
        var min = Math.min(rgb.r, rgb.g, rgb.b);
        var max = Math.max(rgb.r, rgb.g, rgb.b);
        var delta = max - min;
        hsb.b = max;
        hsb.s = max != 0 ? 255 * delta / max : 0;
        if (hsb.s != 0) {
            if (rgb.r == max) hsb.h = (rgb.g - rgb.b) / delta;else if (rgb.g == max) hsb.h = 2 + (rgb.b - rgb.r) / delta;else hsb.h = 4 + (rgb.r - rgb.g) / delta;
        } else hsb.h = 0;
        hsb.h *= 60;
        if (hsb.h < 0) hsb.h += 360;
        hsb.s *= 100 / 255;
        hsb.b *= 100 / 255;
        return hsb;
    },

    math: function () {
        var math = require('mathjs/dist/math.min.js').create({
            matrix: 'Array'
        });
        math.import({
            unpack: function unpack(a) {
                return Array.isArray(a) ? a.toString() : a;
            },
            pad: function pad(x, padding) {
                var str = String(x),
                    _str$split = str.split('.'),
                    _str$split2 = _slicedToArray(_str$split, 2),
                    int = _str$split2[0],
                    dec = _str$split2[1];

                while (int.length < padding) {
                    int = '0' + int;
                }
                return dec ? int + '.' + dec : int;
            },
            length: function length(x) {
                return x.length;
            },
            values: function values(x) {
                return Object.values(x);
            },
            keys: function keys(x) {
                return Object.keys(x);
            },
            // basic relationnal to keep alphabetical string comparison (v4 change)
            equal: function equal(a, b) {
                return a == b;
            },
            unequal: function unequal(a, b) {
                return a != b;
            },
            smaller: function smaller(a, b) {
                return a < b;
            },
            larger: function larger(a, b) {
                return a > b;
            },
            smallerEq: function smallerEq(a, b) {
                return a <= b;
            },
            largerEq: function largerEq(a, b) {
                return a >= b;
            }
        }, { override: true });

        // set math's parser array index base to zero
        math.expression.mathWithTransform = Object.assign({}, math);

        return math;
    }()

};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/app/widgets/utils.js","/src/browser/js/app/widgets")
},{"_process":25,"buffer":3,"mathjs/dist/math.min.js":17,"timers":28}],109:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
(function ($) {

  // Detect touch support
  $.support.touch = 'ontouchend' in document;

  // Ignore browsers without touch support
  if (!$.support.touch) {
    return;
  }

  var mouseProto = $.ui.mouse.prototype,
      _mouseInit = mouseProto._mouseInit,
      _mouseDestroy = mouseProto._mouseDestroy,
      touchHandled;

  /**
   * Simulate a mouse event based on a corresponding touch event
   * @param {Object} event A touch event
   * @param {String} simulatedType The corresponding mouse event
   */
  function simulateMouseEvent(event, simulatedType) {

    // Ignore multi-touch events
    if (event.originalEvent.touches.length > 1) {
      return;
    }

    event.preventDefault();

    var touch = event.originalEvent.changedTouches[0],
        simulatedEvent = document.createEvent('MouseEvents');

    // Initialize the simulated mouse event using the touch event's coordinates
    simulatedEvent.initMouseEvent(simulatedType, // type
    true, // bubbles
    true, // cancelable
    window, // view
    1, // detail
    touch.screenX, // screenX
    touch.screenY, // screenY
    touch.clientX, // clientX
    touch.clientY, // clientY
    false, // ctrlKey
    false, // altKey
    false, // shiftKey
    false, // metaKey
    0, // button
    null // relatedTarget
    );

    // osc: add a flag to prevent fast-click
    simulatedEvent.touchPunch = true;

    // Dispatch the simulated event to the target element
    event.target.dispatchEvent(simulatedEvent);
  }

  /**
   * Handle the jQuery UI widget's touchstart events
   * @param {Object} event The widget element's touchstart event
   */
  mouseProto._touchStart = function (event) {

    var self = this;

    // Ignore the event if another widget is already being handled
    if (touchHandled || !self._mouseCapture(event.originalEvent.changedTouches[0])) {
      return;
    }

    // Set the flag to prevent other widgets from inheriting the touch event
    touchHandled = true;

    // Track movement to determine if interaction was a click
    self._touchMoved = false;

    // Simulate the mouseover event
    simulateMouseEvent(event, 'mouseover');

    // Simulate the mousemove event
    simulateMouseEvent(event, 'mousemove');

    // Simulate the mousedown event
    simulateMouseEvent(event, 'mousedown');
  };

  /**
   * Handle the jQuery UI widget's touchmove events
   * @param {Object} event The document's touchmove event
   */
  mouseProto._touchMove = function (event) {

    // Ignore event if not handled
    if (!touchHandled) {
      return;
    }

    // Interaction was not a click
    this._touchMoved = true;

    // Simulate the mousemove event
    simulateMouseEvent(event, 'mousemove');
  };

  /**
   * Handle the jQuery UI widget's touchend events
   * @param {Object} event The document's touchend event
   */
  mouseProto._touchEnd = function (event) {

    // Ignore event if not handled
    if (!touchHandled) {
      return;
    }

    // Simulate the mouseup event
    simulateMouseEvent(event, 'mouseup');

    // Simulate the mouseout event
    simulateMouseEvent(event, 'mouseout');

    // If the touch interaction did not move, it should trigger a click
    if (!this._touchMoved) {

      // Simulate the click event
      simulateMouseEvent(event, 'click');
    }

    // Unset the flag to allow other widgets to inherit the touch event
    touchHandled = false;
  };

  /**
   * A duck punch of the $.ui.mouse _mouseInit method to support touch events.
   * This method extends the widget with bound touch event handlers that
   * translate touch events to mouse events and pass them to the widget's
   * original mouse event handling methods.
   */
  mouseProto._mouseInit = function () {

    var self = this;

    // Delegate the touch handlers to the widget's element
    self.element.bind({
      touchstart: $.proxy(self, '_touchStart'),
      touchmove: $.proxy(self, '_touchMove'),
      touchend: $.proxy(self, '_touchEnd')
    });

    // Call the original $.ui.mouse init method
    _mouseInit.call(self);
  };

  /**
   * Remove the touch event handlers
   */
  mouseProto._mouseDestroy = function () {

    var self = this;

    // Delegate the touch handlers to the widget's element
    self.element.unbind({
      touchstart: $.proxy(self, '_touchStart'),
      touchmove: $.proxy(self, '_touchMove'),
      touchend: $.proxy(self, '_touchEnd')
    });

    // Call the original $.ui.mouse destroy method
    _mouseDestroy.call(self);
  };
})($);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/libs/jquery.touch.js","/src/browser/js/libs")
},{"_process":25,"buffer":3,"timers":28}],110:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
/*! jQuery UI - v1.12.0 - 2016-07-29
* http://jqueryui.com
* Includes: widget.js, data.js, disable-selection.js, scroll-parent.js, widgets/draggable.js, widgets/resizable.js, widgets/sortable.js, widgets/mouse.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t($)})(function(t){t.ui=t.ui||{},t.ui.version="1.12.0";var e=0,i=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0];e=e.split(".")[1];var h=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][h.toLowerCase()]=function(e){return!!t.data(e,h)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:h}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var s,n,o=i.call(arguments,1),a=0,r=o.length;r>a;a++)for(s in o[a])n=o[a][s],o[a].hasOwnProperty(s)&&void 0!==n&&(e[s]=t.isPlainObject(n)?t.isPlainObject(e[s])?t.widget.extend({},e[s],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,s){var n=s.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=i.call(arguments,1),l=this;return a?this.each(function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r),i!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+o+"'")}):(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new s(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+o.eventNamespace,c=l[2];c?n.on(h,c,r):i.on(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var s=!1;t(document).on("mouseup",function(){s=!1}),t.widget("ui.mouse",{version:"1.12.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!s){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,o="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),s=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,s=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);this._getHandle(e)&&s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,l,h,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)l=s.snapElements[d].left-s.margins.left,h=l+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,l-g>_||m>h+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(l-_),r=g>=Math.abs(h-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(l-m),r=g>=Math.abs(h-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())
}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,l=this._change[o];return this._updatePrevProperties(),l?(i=l.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(a,{top:l,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&h&&(t.left=r-e.minWidth),s&&h&&(t.left=r-e.maxWidth),a&&c&&(t.top=l-e.minHeight),n&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},h=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,l=t(this).resizable("instance"),h=l.options,c=l.element,u=h.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(l.containerElement=t(d),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=l._num(e.css("padding"+s))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=l.containerOffset,n=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(d,"left")?d.scrollWidth:o,r=l._hasScroll(d)?d.scrollHeight:n,l.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,l=a.containerOffset,h=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),h.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?l.left:0),h.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-l.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-l.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),l=a.outerWidth()-e.sizeDiff.width,h=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,l="number"==typeof s.grid?[s.grid,s.grid]:s.grid,h=l[0]||1,c=l[1]||1,u=Math.round((n.width-o.width)/h)*h,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=l,_&&(p+=h),v&&(f+=c),g&&(p-=h),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-h)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-h>0?(i.size.width=p,i.position.left=a.left-u):(p=h-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.sortable",t.ui.mouse,{version:"1.12.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,l=r+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+h>r&&l>s+h,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&l>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],l=[],h=this._connectWith();if(h&&e)for(s=h.length-1;s>=0;s--)for(o=t(h[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=l.length-1;s>=0;s--)l[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,h=r.length;h>s;s++)l=t(r[s]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,l,h,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(l=this.items[s].item.offset()[a],h=!1,e[u]-l>this.items[s][r]/2&&(h=!0),n>Math.abs(e[u]-l)&&(n=Math.abs(e[u]-l),o=this.items[s],this.direction=h?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1
}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})});

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/browser/js/libs/jquery.ui.js","/src/browser/js/libs")
},{"_process":25,"buffer":3,"timers":28}],111:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate,clearImmediate,__filename,__dirname){
'use strict';

require('../browser/js/app/globals');
DOM.init();
// Here we go
WIDGETS = require('../browser/js/app/widgets');

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate,require("timers").clearImmediate,"/src/docs/index.js","/src/docs")
},{"../browser/js/app/globals":39,"../browser/js/app/widgets":69,"_process":25,"buffer":3,"timers":28}]},{},[111]);
